"use strict";(globalThis["webpackChunkfrontend"]=globalThis["webpackChunkfrontend"]||[]).push([[238],{60309:(e,t,n)=>{n.d(t,{Qy:()=>a,f0:()=>r,hZ:()=>s,iy:()=>o,y0:()=>l});var i=n(66676);class s{constructor(e,t,n){this.changes=e,this.moves=t,this.hitTimeout=n}}class r{static inverse(e,t,n){const s=[];let o=1,a=1;for(const h of e){const e=new r(new i.z(o,h.originalRange.startLineNumber),new i.z(a,h.modifiedRange.startLineNumber),void 0);e.modifiedRange.isEmpty||s.push(e),o=h.originalRange.endLineNumberExclusive,a=h.modifiedRange.endLineNumberExclusive}const l=new r(new i.z(o,t+1),new i.z(a,n+1),void 0);return l.modifiedRange.isEmpty||s.push(l),s}constructor(e,t,n){this.originalRange=e,this.modifiedRange=t,this.innerChanges=n}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}get changedLineCount(){return Math.max(this.originalRange.length,this.modifiedRange.length)}flip(){var e;return new r(this.modifiedRange,this.originalRange,null===(e=this.innerChanges)||void 0===e?void 0:e.map((e=>e.flip())))}}class o{constructor(e,t){this.originalRange=e,this.modifiedRange=t}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new o(this.modifiedRange,this.originalRange)}}class a{constructor(e,t){this.original=e,this.modified=t}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new a(this.modified,this.original)}}class l{constructor(e,t){this.lineRangeMapping=e,this.changes=t}flip(){return new l(this.lineRangeMapping.flip(),this.changes.map((e=>e.flip())))}}},1286:(e,t,n)=>{n.d(t,{V:()=>I});var i=n(88994),s=n(60309),r=n(61720),o=n(33162),a=n(65662),l=n(66676);const h=3;class u{computeDiff(e,t,n){var i;const r=new C(e,t,{maxComputationTime:n.maxComputationTimeMs,shouldIgnoreTrimWhitespace:n.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}),h=r.computeDiff(),u=[];let c=null;for(const a of h.changes){let e,t;e=0===a.originalEndLineNumber?new l.z(a.originalStartLineNumber+1,a.originalStartLineNumber+1):new l.z(a.originalStartLineNumber,a.originalEndLineNumber+1),t=0===a.modifiedEndLineNumber?new l.z(a.modifiedStartLineNumber+1,a.modifiedStartLineNumber+1):new l.z(a.modifiedStartLineNumber,a.modifiedEndLineNumber+1);let n=new s.f0(e,t,null===(i=a.charChanges)||void 0===i?void 0:i.map((e=>new s.iy(new o.e(e.originalStartLineNumber,e.originalStartColumn,e.originalEndLineNumber,e.originalEndColumn),new o.e(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)))));c&&(c.modifiedRange.endLineNumberExclusive!==n.modifiedRange.startLineNumber&&c.originalRange.endLineNumberExclusive!==n.originalRange.startLineNumber||(n=new s.f0(c.originalRange.join(n.originalRange),c.modifiedRange.join(n.modifiedRange),c.innerChanges&&n.innerChanges?c.innerChanges.concat(n.innerChanges):void 0),u.pop())),u.push(n),c=n}return(0,a.eZ)((()=>(0,a.DM)(u,((e,t)=>t.originalRange.startLineNumber-e.originalRange.endLineNumberExclusive===t.modifiedRange.startLineNumber-e.modifiedRange.endLineNumberExclusive&&e.originalRange.endLineNumberExclusive<t.originalRange.startLineNumber&&e.modifiedRange.endLineNumberExclusive<t.modifiedRange.startLineNumber)))),new s.hZ(u,[],h.quitEarly)}}function c(e,t,n,s){const r=new i.Hs(e,t,n);return r.ComputeDiff(s)}class d{constructor(e){const t=[],n=[];for(let i=0,s=e.length;i<s;i++)t[i]=k(e[i],1),n[i]=b(e[i],1);this.lines=e,this._startColumns=t,this._endColumns=n}getElements(){const e=[];for(let t=0,n=this.lines.length;t<n;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,n){const i=[],s=[],r=[];let o=0;for(let a=t;a<=n;a++){const t=this.lines[a],l=e?this._startColumns[a]:1,h=e?this._endColumns[a]:t.length+1;for(let e=l;e<h;e++)i[o]=t.charCodeAt(e-1),s[o]=a+1,r[o]=e,o++;!e&&a<n&&(i[o]=10,s[o]=a+1,r[o]=t.length+1,o++)}return new g(i,s,r)}}class g{constructor(e,t,n){this._charCodes=e,this._lineNumbers=t,this._columns=n}toString(){return"["+this._charCodes.map(((e,t)=>(10===e?"\\n":String.fromCharCode(e))+`-(${this._lineNumbers[t]},${this._columns[t]})`)).join(", ")+"]"}_assertIndex(e,t){if(e<0||e>=t.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(e){return e>0&&e===this._lineNumbers.length?this.getEndLineNumber(e-1):(this._assertIndex(e,this._lineNumbers),this._lineNumbers[e])}getEndLineNumber(e){return-1===e?this.getStartLineNumber(e+1):(this._assertIndex(e,this._lineNumbers),10===this._charCodes[e]?this._lineNumbers[e]+1:this._lineNumbers[e])}getStartColumn(e){return e>0&&e===this._columns.length?this.getEndColumn(e-1):(this._assertIndex(e,this._columns),this._columns[e])}getEndColumn(e){return-1===e?this.getStartColumn(e+1):(this._assertIndex(e,this._columns),10===this._charCodes[e]?1:this._columns[e]+1)}}class f{constructor(e,t,n,i,s,r,o,a){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=n,this.originalEndColumn=i,this.modifiedStartLineNumber=s,this.modifiedStartColumn=r,this.modifiedEndLineNumber=o,this.modifiedEndColumn=a}static createFromDiffChange(e,t,n){const i=t.getStartLineNumber(e.originalStart),s=t.getStartColumn(e.originalStart),r=t.getEndLineNumber(e.originalStart+e.originalLength-1),o=t.getEndColumn(e.originalStart+e.originalLength-1),a=n.getStartLineNumber(e.modifiedStart),l=n.getStartColumn(e.modifiedStart),h=n.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),u=n.getEndColumn(e.modifiedStart+e.modifiedLength-1);return new f(i,s,r,o,a,l,h,u)}}function m(e){if(e.length<=1)return e;const t=[e[0]];let n=t[0];for(let i=1,s=e.length;i<s;i++){const s=e[i],r=s.originalStart-(n.originalStart+n.originalLength),o=s.modifiedStart-(n.modifiedStart+n.modifiedLength),a=Math.min(r,o);a<h?(n.originalLength=s.originalStart+s.originalLength-n.originalStart,n.modifiedLength=s.modifiedStart+s.modifiedLength-n.modifiedStart):(t.push(s),n=s)}return t}class p{constructor(e,t,n,i,s){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=n,this.modifiedEndLineNumber=i,this.charChanges=s}static createFromDiffResult(e,t,n,i,s,r,o){let a,l,h,u,d;if(0===t.originalLength?(a=n.getStartLineNumber(t.originalStart)-1,l=0):(a=n.getStartLineNumber(t.originalStart),l=n.getEndLineNumber(t.originalStart+t.originalLength-1)),0===t.modifiedLength?(h=i.getStartLineNumber(t.modifiedStart)-1,u=0):(h=i.getStartLineNumber(t.modifiedStart),u=i.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),r&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&s()){const r=n.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),a=i.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);if(r.getElements().length>0&&a.getElements().length>0){let e=c(r,a,s,!0).changes;o&&(e=m(e)),d=[];for(let t=0,n=e.length;t<n;t++)d.push(f.createFromDiffChange(e[t],r,a))}}return new p(a,l,h,u,d)}}class C{constructor(e,t,n){this.shouldComputeCharChanges=n.shouldComputeCharChanges,this.shouldPostProcessCharChanges=n.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=n.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=n.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new d(e),this.modified=new d(t),this.continueLineDiff=w(n.maxComputationTime),this.continueCharDiff=w(0===n.maxComputationTime?0:Math.min(n.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const e=c(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,n=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const e=[];for(let n=0,i=t.length;n<i;n++)e.push(p.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[n],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:n,changes:e}}const i=[];let s=0,r=0;for(let o=-1,a=t.length;o<a;o++){const e=o+1<a?t[o+1]:null,n=e?e.originalStart:this.originalLines.length,l=e?e.modifiedStart:this.modifiedLines.length;while(s<n&&r<l){const e=this.originalLines[s],t=this.modifiedLines[r];if(e!==t){{let n=k(e,1),o=k(t,1);while(n>1&&o>1){const i=e.charCodeAt(n-2),s=t.charCodeAt(o-2);if(i!==s)break;n--,o--}(n>1||o>1)&&this._pushTrimWhitespaceCharChange(i,s+1,1,n,r+1,1,o)}{let n=b(e,1),o=b(t,1);const a=e.length+1,l=t.length+1;while(n<a&&o<l){const t=e.charCodeAt(n-1),i=e.charCodeAt(o-1);if(t!==i)break;n++,o++}(n<a||o<l)&&this._pushTrimWhitespaceCharChange(i,s+1,n,a,r+1,o,l)}}s++,r++}e&&(i.push(p.createFromDiffResult(this.shouldIgnoreTrimWhitespace,e,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),s+=e.originalLength,r+=e.modifiedLength)}return{quitEarly:n,changes:i}}_pushTrimWhitespaceCharChange(e,t,n,i,s,r,o){if(this._mergeTrimWhitespaceCharChange(e,t,n,i,s,r,o))return;let a;this.shouldComputeCharChanges&&(a=[new f(t,n,t,i,s,r,s,o)]),e.push(new p(t,t,s,s,a))}_mergeTrimWhitespaceCharChange(e,t,n,i,s,r,o){const a=e.length;if(0===a)return!1;const l=e[a-1];return 0!==l.originalEndLineNumber&&0!==l.modifiedEndLineNumber&&(l.originalEndLineNumber===t&&l.modifiedEndLineNumber===s?(this.shouldComputeCharChanges&&l.charChanges&&l.charChanges.push(new f(t,n,t,i,s,r,s,o)),!0):l.originalEndLineNumber+1===t&&l.modifiedEndLineNumber+1===s&&(l.originalEndLineNumber=t,l.modifiedEndLineNumber=s,this.shouldComputeCharChanges&&l.charChanges&&l.charChanges.push(new f(t,n,t,i,s,r,s,o)),!0))}}function k(e,t){const n=r.LC(e);return-1===n?t:n+1}function b(e,t){const n=r.ow(e);return-1===n?t:n+2}function w(e){if(0===e)return()=>!0;const t=Date.now();return()=>Date.now()-t<e}var v=n(54179);const I={getLegacy:()=>new u,getAdvanced:()=>new v.Uc}},54179:(e,t,n)=>{n.d(t,{Uc:()=>S,v:()=>y});var i=n(65662),s=n(66676),r=n(12412),o=n(89999),a=n(33162),l=n(98642);class h{static trivial(e,t){return new h([new u(new r.q(0,e.length),new r.q(0,t.length))],!1)}static trivialTimedOut(e,t){return new h([new u(new r.q(0,e.length),new r.q(0,t.length))],!0)}constructor(e,t){this.diffs=e,this.hitTimeout=t}}class u{constructor(e,t){this.seq1Range=e,this.seq2Range=t}reverse(){return new u(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(e){return new u(this.seq1Range.join(e.seq1Range),this.seq2Range.join(e.seq2Range))}delta(e){return 0===e?this:new u(this.seq1Range.delta(e),this.seq2Range.delta(e))}}class c{isValid(){return!0}}c.instance=new c;class d{constructor(e){if(this.timeout=e,this.startTime=Date.now(),this.valid=!0,e<=0)throw new l.he("timeout must be positive")}isValid(){const e=Date.now()-this.startTime<this.timeout;return!e&&this.valid&&(this.valid=!1),this.valid}}class g{constructor(e,t){this.width=e,this.height=t,this.array=[],this.array=new Array(e*t)}get(e,t){return this.array[e+t*this.width]}set(e,t,n){this.array[e+t*this.width]=n}}class f{compute(e,t,n=c.instance,i){if(0===e.length||0===t.length)return h.trivial(e,t);const s=new g(e.length,t.length),o=new g(e.length,t.length),a=new g(e.length,t.length);for(let r=0;r<e.length;r++)for(let l=0;l<t.length;l++){if(!n.isValid())return h.trivialTimedOut(e,t);const u=0===r?0:s.get(r-1,l),c=0===l?0:s.get(r,l-1);let d;e.getElement(r)===t.getElement(l)?(d=0===r||0===l?0:s.get(r-1,l-1),r>0&&l>0&&3===o.get(r-1,l-1)&&(d+=a.get(r-1,l-1)),d+=i?i(r,l):1):d=-1;const g=Math.max(u,c,d);if(g===d){const e=r>0&&l>0?a.get(r-1,l-1):0;a.set(r,l,e+1),o.set(r,l,3)}else g===u?(a.set(r,l,0),o.set(r,l,1)):g===c&&(a.set(r,l,0),o.set(r,l,2));s.set(r,l,g)}const l=[];let d=e.length,f=t.length;function m(e,t){e+1===d&&t+1===f||l.push(new u(new r.q(e+1,d),new r.q(t+1,f))),d=e,f=t}let p=e.length-1,C=t.length-1;while(p>=0&&C>=0)3===o.get(p,C)?(m(p,C),p--,C--):1===o.get(p,C)?p--:C--;return m(-1,-1),l.reverse(),new h(l,!1)}}function m(e,t,n){let i=n;return i=k(e,t,i),i=b(e,t,i),i}function p(e,t,n){const i=[];for(const s of n){const e=i[i.length-1];e?s.seq1Range.start-e.seq1Range.endExclusive<=2||s.seq2Range.start-e.seq2Range.endExclusive<=2?i[i.length-1]=new u(e.seq1Range.join(s.seq1Range),e.seq2Range.join(s.seq2Range)):i.push(s):i.push(s)}return i}function C(e,t,n){let i=n;if(0===i.length)return i;let s,o=0;do{s=!1;const a=[i[0]];for(let l=1;l<i.length;l++){const h=i[l],u=a[a.length-1];function c(n,i){const s=new r.q(u.seq1Range.endExclusive,h.seq1Range.start),o=e.countLinesIn(s);if(o>5||s.length>500)return!1;const a=e.getText(s).trim();if(a.length>20||a.split(/\r\n|\r|\n/).length>1)return!1;const l=e.countLinesIn(n.seq1Range),c=n.seq1Range.length,d=t.countLinesIn(n.seq2Range),g=n.seq2Range.length,f=e.countLinesIn(i.seq1Range),m=i.seq1Range.length,p=t.countLinesIn(i.seq2Range),C=i.seq2Range.length,k=130;function b(e){return Math.min(e,k)}return Math.pow(Math.pow(b(40*l+c),1.5)+Math.pow(b(40*d+g),1.5),1.5)+Math.pow(Math.pow(b(40*f+m),1.5)+Math.pow(b(40*p+C),1.5),1.5)>1.3*Math.pow(Math.pow(k,1.5),1.5)}const d=c(u,h);d?(s=!0,a[a.length-1]=a[a.length-1].join(h)):a.push(h)}i=a}while(o++<10&&s);return i}function k(e,t,n){if(0===n.length)return n;const i=[];i.push(n[0]);for(let o=1;o<n.length;o++){const s=i[i.length-1];let a=n[o];if(a.seq1Range.isEmpty||a.seq2Range.isEmpty){const n=a.seq1Range.start-s.seq1Range.endExclusive;let o;for(o=1;o<=n;o++)if(e.getElement(a.seq1Range.start-o)!==e.getElement(a.seq1Range.endExclusive-o)||t.getElement(a.seq2Range.start-o)!==t.getElement(a.seq2Range.endExclusive-o))break;if(o--,o===n){i[i.length-1]=new u(new r.q(s.seq1Range.start,a.seq1Range.endExclusive-n),new r.q(s.seq2Range.start,a.seq2Range.endExclusive-n));continue}a=a.delta(-o)}i.push(a)}const s=[];for(let o=0;o<i.length-1;o++){const n=i[o+1];let a=i[o];if(a.seq1Range.isEmpty||a.seq2Range.isEmpty){const s=n.seq1Range.start-a.seq1Range.endExclusive;let l;for(l=0;l<s;l++)if(e.getElement(a.seq1Range.start+l)!==e.getElement(a.seq1Range.endExclusive+l)||t.getElement(a.seq2Range.start+l)!==t.getElement(a.seq2Range.endExclusive+l))break;if(l===s){i[o+1]=new u(new r.q(a.seq1Range.start+s,n.seq1Range.endExclusive),new r.q(a.seq2Range.start+s,n.seq2Range.endExclusive));continue}l>0&&(a=a.delta(l))}s.push(a)}return i.length>0&&s.push(i[i.length-1]),s}function b(e,t,n){if(!e.getBoundaryScore||!t.getBoundaryScore)return n;for(let i=0;i<n.length;i++){const s=i>0?n[i-1]:void 0,o=n[i],a=i+1<n.length?n[i+1]:void 0,l=new r.q(s?s.seq1Range.start+1:0,a?a.seq1Range.endExclusive-1:e.length),h=new r.q(s?s.seq2Range.start+1:0,a?a.seq2Range.endExclusive-1:t.length);o.seq1Range.isEmpty?n[i]=w(o,e,t,l,h):o.seq2Range.isEmpty&&(n[i]=w(o.reverse(),t,e,h,l).reverse())}return n}function w(e,t,n,i,s){const r=100;let o=1;while(e.seq1Range.start-o>=i.start&&e.seq2Range.start-o>=s.start&&n.getElement(e.seq2Range.start-o)===n.getElement(e.seq2Range.endExclusive-o)&&o<r)o++;o--;let a=0;while(e.seq1Range.start+a<i.endExclusive&&e.seq2Range.endExclusive+a<s.endExclusive&&n.getElement(e.seq2Range.start+a)===n.getElement(e.seq2Range.endExclusive+a)&&a<r)a++;if(0===o&&0===a)return e;let l=0,h=-1;for(let u=-o;u<=a;u++){const i=e.seq2Range.start+u,s=e.seq2Range.endExclusive+u,r=e.seq1Range.start+u,o=t.getBoundaryScore(r)+n.getBoundaryScore(i)+n.getBoundaryScore(s);o>h&&(h=o,l=u)}return e.delta(l)}class v{compute(e,t,n=c.instance){if(0===e.length||0===t.length)return h.trivial(e,t);function i(n,i){while(n<e.length&&i<t.length&&e.getElement(n)===t.getElement(i))n++,i++;return n}let s=0;const o=new _;o.set(0,i(0,0));const a=new x;a.set(0,0===o.get(0)?null:new I(null,0,0,o.get(0)));let l=0;e:while(1){if(s++,!n.isValid())return h.trivialTimedOut(e,t);const r=-Math.min(s,t.length+s%2),u=Math.min(s,e.length+s%2);for(l=r;l<=u;l+=2){const n=l===u?-1:o.get(l+1),s=l===r?-1:o.get(l-1)+1,h=Math.min(Math.max(n,s),e.length),c=h-l;if(h>e.length||c>t.length)continue;const d=i(h,c);o.set(l,d);const g=h===n?a.get(l+1):a.get(l-1);if(a.set(l,d!==h?new I(g,h,c,d-h):g),o.get(l)===e.length&&o.get(l)-l===t.length)break e}}let d=a.get(l);const g=[];let f=e.length,m=t.length;while(1){const e=d?d.x+d.length:0,t=d?d.y+d.length:0;if(e===f&&t===m||g.push(new u(new r.q(e,f),new r.q(t,m))),!d)break;f=d.x,m=d.y,d=d.prev}return g.reverse(),new h(g,!1)}}class I{constructor(e,t,n,i){this.prev=e,this.x=t,this.y=n,this.length=i}}class _{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){if(e<0){if(e=-e-1,e>=this.negativeArr.length){const e=this.negativeArr;this.negativeArr=new Int32Array(2*e.length),this.negativeArr.set(e)}this.negativeArr[e]=t}else{if(e>=this.positiveArr.length){const e=this.positiveArr;this.positiveArr=new Int32Array(2*e.length),this.positiveArr.set(e)}this.positiveArr[e]=t}}}class x{constructor(){this.positiveArr=[],this.negativeArr=[]}get(e){return e<0?(e=-e-1,this.negativeArr[e]):this.positiveArr[e]}set(e,t){e<0?(e=-e-1,this.negativeArr[e]=t):this.positiveArr[e]=t}}var L=n(60309);class S{constructor(){this.dynamicProgrammingDiffing=new f,this.myersDiffingAlgorithm=new v}computeDiff(e,t,n){if(1===e.length&&0===e[0].length||1===t.length&&0===t[0].length)return{changes:[new L.f0(new s.z(1,e.length+1),new s.z(1,t.length+1),[new L.iy(new a.e(1,1,e.length,e[0].length+1),new a.e(1,1,t.length,t[0].length+1))])],hitTimeout:!1,moves:[]};const o=0===n.maxComputationTimeMs?c.instance:new d(n.maxComputationTimeMs),l=!n.ignoreTrimWhitespace,h=new Map;function g(e){let t=h.get(e);return void 0===t&&(t=h.size,h.set(e,t)),t}const f=e.map((e=>g(e.trim()))),p=t.map((e=>g(e.trim()))),C=new T(f,e),k=new T(p,t),b=(()=>C.length+k.length<1500?this.dynamicProgrammingDiffing.compute(C,k,o,((n,i)=>e[n]===t[i]?0===t[i].length?.1:1+Math.log(1+t[i].length):.99)):this.myersDiffingAlgorithm.compute(C,k))();let w=b.diffs,v=b.hitTimeout;w=m(C,k,w);const I=[],_=n=>{if(l)for(let i=0;i<n;i++){const n=x+i,s=S+i;if(e[n]!==t[s]){const i=this.refineDiff(e,t,new u(new r.q(n,n+1),new r.q(s,s+1)),o,l);for(const e of i.mappings)I.push(e);i.hitTimeout&&(v=!0)}}};let x=0,S=0;for(const s of w){(0,i.eZ)((()=>s.seq1Range.start-x===s.seq2Range.start-S));const n=s.seq1Range.start-x;_(n),x=s.seq1Range.endExclusive,S=s.seq2Range.endExclusive;const r=this.refineDiff(e,t,s,o,l);r.hitTimeout&&(v=!0);for(const e of r.mappings)I.push(e)}_(e.length-x);const E=y(I,e,t),R=[];if(n.computeMoves){const n=E.filter((e=>e.modifiedRange.isEmpty&&e.originalRange.length>=3)).map((t=>new W(t.originalRange,e))),i=new Set(E.filter((e=>e.originalRange.isEmpty&&e.modifiedRange.length>=3)).map((e=>new W(e.modifiedRange,t))));for(const s of n){let n,a=-1;for(const e of i){const t=s.computeSimilarity(e);t>a&&(a=t,n=e)}if(a>.9&&n){const a=this.refineDiff(e,t,new u(new r.q(s.range.startLineNumber-1,s.range.endLineNumberExclusive-1),new r.q(n.range.startLineNumber-1,n.range.endLineNumberExclusive-1)),o,l),h=y(a.mappings,e,t,!0);i.delete(n),R.push(new L.y0(new L.Qy(s.range,n.range),h))}}}return(0,i.eZ)((()=>{function n(e,t){if(e.lineNumber<1||e.lineNumber>t.length)return!1;const n=t[e.lineNumber-1];return!(e.column<1||e.column>n.length+1)}function i(e,t){return!(e.startLineNumber<1||e.startLineNumber>t.length+1)&&!(e.endLineNumberExclusive<1||e.endLineNumberExclusive>t.length+1)}for(const s of E){if(!s.innerChanges)return!1;for(const i of s.innerChanges){const s=n(i.modifiedRange.getStartPosition(),t)&&n(i.modifiedRange.getEndPosition(),t)&&n(i.originalRange.getStartPosition(),e)&&n(i.originalRange.getEndPosition(),e);if(!s)return!1}if(!i(s.modifiedRange,t)||!i(s.originalRange,e))return!1}return!0})),new L.hZ(E,R,v)}refineDiff(e,t,n,i,s){const r=new P(e,n.seq1Range,s),o=new P(t,n.seq2Range,s),a=r.length+o.length<500?this.dynamicProgrammingDiffing.compute(r,o,i):this.myersDiffingAlgorithm.compute(r,o,i);let l=a.diffs;l=m(r,o,l),l=E(r,o,l),l=p(r,o,l),l=C(r,o,l);const h=l.map((e=>new L.iy(r.translateRange(e.seq1Range),o.translateRange(e.seq2Range))));return{mappings:h,hitTimeout:a.hitTimeout}}}function E(e,t,n){const i=[];let s;function o(){if(!s)return;const e=s.s1Range.length-s.deleted;s.s2Range.length,s.added;Math.max(s.deleted,s.added)+(s.count-1)>e&&i.push(new u(s.s1Range,s.s2Range)),s=void 0}for(const l of n){function h(e,t){var n,i,a,h;if(!s||!s.s1Range.containsRange(e)||!s.s2Range.containsRange(t))if(!s||s.s1Range.endExclusive<e.start&&s.s2Range.endExclusive<t.start)o(),s={added:0,deleted:0,count:0,s1Range:e,s2Range:t};else{const o=r.q.tryCreate(s.s1Range.endExclusive,e.start),a=r.q.tryCreate(s.s2Range.endExclusive,t.start);s.deleted+=null!==(n=null===o||void 0===o?void 0:o.length)&&void 0!==n?n:0,s.added+=null!==(i=null===a||void 0===a?void 0:a.length)&&void 0!==i?i:0,s.s1Range=s.s1Range.join(e),s.s2Range=s.s2Range.join(t)}const u=e.intersect(l.seq1Range),c=t.intersect(l.seq2Range);s.count++,s.deleted+=null!==(a=null===u||void 0===u?void 0:u.length)&&void 0!==a?a:0,s.added+=null!==(h=null===c||void 0===c?void 0:c.length)&&void 0!==h?h:0}const c=e.findWordContaining(l.seq1Range.start-1),d=t.findWordContaining(l.seq2Range.start-1),g=e.findWordContaining(l.seq1Range.endExclusive),f=t.findWordContaining(l.seq2Range.endExclusive);c&&g&&d&&f&&c.equals(g)&&d.equals(f)?h(c,d):(c&&d&&h(c,d),g&&f&&h(g,f))}o();const a=R(n,i);return a}function R(e,t){const n=[];while(e.length>0||t.length>0){const i=e[0],s=t[0];let r;r=i&&(!s||i.seq1Range.start<s.seq1Range.start)?e.shift():t.shift(),n.length>0&&n[n.length-1].seq1Range.endExclusive>=r.seq1Range.start?n[n.length-1]=n[n.length-1].join(r):n.push(r)}return n}function y(e,t,n,s=!1){const r=[];for(const i of O(e.map((e=>N(e,t,n))),((e,t)=>e.originalRange.overlapOrTouch(t.originalRange)||e.modifiedRange.overlapOrTouch(t.modifiedRange)))){const e=i[0],t=i[i.length-1];r.push(new L.f0(e.originalRange.join(t.originalRange),e.modifiedRange.join(t.modifiedRange),i.map((e=>e.innerChanges[0]))))}return(0,i.eZ)((()=>!(!s&&r.length>0&&r[0].originalRange.startLineNumber!==r[0].modifiedRange.startLineNumber)&&(0,i.DM)(r,((e,t)=>t.originalRange.startLineNumber-e.originalRange.endLineNumberExclusive===t.modifiedRange.startLineNumber-e.modifiedRange.endLineNumberExclusive&&e.originalRange.endLineNumberExclusive<t.originalRange.startLineNumber&&e.modifiedRange.endLineNumberExclusive<t.modifiedRange.startLineNumber)))),r}function N(e,t,n){let i=0,r=0;1===e.modifiedRange.endColumn&&1===e.originalRange.endColumn&&e.originalRange.startLineNumber+i<=e.originalRange.endLineNumber&&e.modifiedRange.startLineNumber+i<=e.modifiedRange.endLineNumber&&(r=-1),e.modifiedRange.startColumn-1>=n[e.modifiedRange.startLineNumber-1].length&&e.originalRange.startColumn-1>=t[e.originalRange.startLineNumber-1].length&&e.originalRange.startLineNumber<=e.originalRange.endLineNumber+r&&e.modifiedRange.startLineNumber<=e.modifiedRange.endLineNumber+r&&(i=1);const o=new s.z(e.originalRange.startLineNumber+i,e.originalRange.endLineNumber+1+r),a=new s.z(e.modifiedRange.startLineNumber+i,e.modifiedRange.endLineNumber+1+r);return new L.f0(o,a,[e])}function*O(e,t){let n,i;for(const s of e)void 0!==i&&t(i,s)?n.push(s):(n&&(yield n),n=[s]),i=s;n&&(yield n)}class T{constructor(e,t){this.trimmedHash=e,this.lines=t}getElement(e){return this.trimmedHash[e]}get length(){return this.trimmedHash.length}getBoundaryScore(e){const t=0===e?0:B(this.lines[e-1]),n=e===this.lines.length?0:B(this.lines[e]);return 1e3-(t+n)}}function B(e){let t=0;while(t<e.length&&(32===e.charCodeAt(t)||9===e.charCodeAt(t)))t++;return t}class P{constructor(e,t,n){this.lines=e,this.considerWhitespaceChanges=n,this.elements=[],this.firstCharOffsetByLineMinusOne=[],this.offsetByLine=[];let i=!1;t.start>0&&t.endExclusive>=e.length&&(t=new r.q(t.start-1,t.endExclusive),i=!0),this.lineRange=t;for(let s=this.lineRange.start;s<this.lineRange.endExclusive;s++){let t=e[s],r=0;if(i)r=t.length,t="",i=!1;else if(!n){const e=t.trimStart();r=t.length-e.length,t=e.trimEnd()}this.offsetByLine.push(r);for(let e=0;e<t.length;e++)this.elements.push(t.charCodeAt(e));s<e.length-1&&(this.elements.push("\n".charCodeAt(0)),this.firstCharOffsetByLineMinusOne[s-this.lineRange.start]=this.elements.length)}this.offsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new r.q(0,this.length))}getText(e){return this.elements.slice(e.start,e.endExclusive).map((e=>String.fromCharCode(e))).join("")}getElement(e){return this.elements[e]}get length(){return this.elements.length}getBoundaryScore(e){const t=q(e>0?this.elements[e-1]:-1),n=q(e<this.elements.length?this.elements[e]:-1);if(6===t&&7===n)return 0;let i=0;return t!==n&&(i+=10,1===n&&(i+=1)),i+=D(t),i+=D(n),i}translateOffset(e){if(this.lineRange.isEmpty)return new o.L(this.lineRange.start+1,1);let t=0,n=this.firstCharOffsetByLineMinusOne.length;while(t<n){const i=Math.floor((t+n)/2);this.firstCharOffsetByLineMinusOne[i]>e?n=i:t=i+1}const i=0===t?0:this.firstCharOffsetByLineMinusOne[t-1];return new o.L(this.lineRange.start+t+1,e-i+1+this.offsetByLine[t])}translateRange(e){return a.e.fromPositions(this.translateOffset(e.start),this.translateOffset(e.endExclusive))}findWordContaining(e){if(e<0||e>=this.elements.length)return;if(!M(this.elements[e]))return;let t=e;while(t>0&&M(this.elements[t-1]))t--;let n=e;while(n<this.elements.length&&M(this.elements[n]))n++;return new r.q(t,n)}countLinesIn(e){return this.translateOffset(e.endExclusive).lineNumber-this.translateOffset(e.start).lineNumber}}function M(e){return e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57}const A={[0]:0,[1]:0,[2]:0,[3]:10,[4]:2,[5]:3,[6]:10,[7]:10};function D(e){return A[e]}function q(e){return 10===e?7:13===e?6:z(e)?5:e>=97&&e<=122?0:e>=65&&e<=90?1:e>=48&&e<=57?2:-1===e?3:4}function z(e){return 32===e||9===e}const F=new Map;function H(e){let t=F.get(e);return void 0===t&&(t=F.size,F.set(e,t)),t}class W{constructor(e,t){this.range=e,this.lines=t,this.histogram=[];let n=0;for(let i=e.startLineNumber-1;i<e.endLineNumberExclusive-1;i++){const e=t[i];for(let t=0;t<e.length;t++){n++;const i=e[t],s=H(i);this.histogram[s]=(this.histogram[s]||0)+1}n++;const s=H("\n");this.histogram[s]=(this.histogram[s]||0)+1}this.totalCount=n}computeSimilarity(e){var t,n;let i=0;const s=Math.max(this.histogram.length,e.histogram.length);for(let r=0;r<s;r++)i+=Math.abs((null!==(t=this.histogram[r])&&void 0!==t?t:0)-(null!==(n=e.histogram[r])&&void 0!==n?n:0));return 1-i/(this.totalCount+e.totalCount)}}},51177:(e,t,n)=>{n.d(t,{p:()=>i});class i{constructor(e,t,n,i,s,r){this.id=e,this.label=t,this.alias=n,this._precondition=i,this._run=s,this._contextKeyService=r}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(e){return this.isSupported()?this._run(e):Promise.resolve(void 0)}}},22668:(e,t,n)=>{n.d(t,{g:()=>i});const i={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},44950:(e,t,n)=>{n.d(t,{u:()=>i});var i,s=n(25206),r=n(37174);(function(e){e.editorSimpleInput=new r.uy("editorSimpleInput",!1,!0),e.editorTextFocus=new r.uy("editorTextFocus",!1,s.NC("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),e.focus=new r.uy("editorFocus",!1,s.NC("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),e.textInputFocus=new r.uy("textInputFocus",!1,s.NC("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),e.readOnly=new r.uy("editorReadonly",!1,s.NC("editorReadonly","Whether the editor is read-only")),e.inDiffEditor=new r.uy("inDiffEditor",!1,s.NC("inDiffEditor","Whether the context is a diff editor")),e.isEmbeddedDiffEditor=new r.uy("isEmbeddedDiffEditor",!1,s.NC("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),e.accessibleDiffViewerVisible=new r.uy("accessibleDiffViewerVisible",!1,s.NC("accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),e.columnSelection=new r.uy("editorColumnSelection",!1,s.NC("editorColumnSelection","Whether `editor.columnSelection` is enabled")),e.writable=e.readOnly.toNegated(),e.hasNonEmptySelection=new r.uy("editorHasSelection",!1,s.NC("editorHasSelection","Whether the editor has text selected")),e.hasOnlyEmptySelection=e.hasNonEmptySelection.toNegated(),e.hasMultipleSelections=new r.uy("editorHasMultipleSelections",!1,s.NC("editorHasMultipleSelections","Whether the editor has multiple selections")),e.hasSingleSelection=e.hasMultipleSelections.toNegated(),e.tabMovesFocus=new r.uy("editorTabMovesFocus",!1,s.NC("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),e.tabDoesNotMoveFocus=e.tabMovesFocus.toNegated(),e.isInWalkThroughSnippet=new r.uy("isInEmbeddedEditor",!1,!0),e.canUndo=new r.uy("canUndo",!1,!0),e.canRedo=new r.uy("canRedo",!1,!0),e.hoverVisible=new r.uy("editorHoverVisible",!1,s.NC("editorHoverVisible","Whether the editor hover is visible")),e.hoverFocused=new r.uy("editorHoverFocused",!1,s.NC("editorHoverFocused","Whether the editor hover is focused")),e.stickyScrollFocused=new r.uy("stickyScrollFocused",!1,s.NC("stickyScrollFocused","Whether the sticky scroll is focused")),e.stickyScrollVisible=new r.uy("stickyScrollVisible",!1,s.NC("stickyScrollVisible","Whether the sticky scroll is visible")),e.standaloneColorPickerVisible=new r.uy("standaloneColorPickerVisible",!1,s.NC("standaloneColorPickerVisible","Whether the standalone color picker is visible")),e.standaloneColorPickerFocused=new r.uy("standaloneColorPickerFocused",!1,s.NC("standaloneColorPickerFocused","Whether the standalone color picker is focused")),e.inCompositeEditor=new r.uy("inCompositeEditor",void 0,s.NC("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),e.notInCompositeEditor=e.inCompositeEditor.toNegated(),e.languageId=new r.uy("editorLangId","",s.NC("editorLangId","The language identifier of the editor")),e.hasCompletionItemProvider=new r.uy("editorHasCompletionItemProvider",!1,s.NC("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),e.hasCodeActionsProvider=new r.uy("editorHasCodeActionsProvider",!1,s.NC("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),e.hasCodeLensProvider=new r.uy("editorHasCodeLensProvider",!1,s.NC("editorHasCodeLensProvider","Whether the editor has a code lens provider")),e.hasDefinitionProvider=new r.uy("editorHasDefinitionProvider",!1,s.NC("editorHasDefinitionProvider","Whether the editor has a definition provider")),e.hasDeclarationProvider=new r.uy("editorHasDeclarationProvider",!1,s.NC("editorHasDeclarationProvider","Whether the editor has a declaration provider")),e.hasImplementationProvider=new r.uy("editorHasImplementationProvider",!1,s.NC("editorHasImplementationProvider","Whether the editor has an implementation provider")),e.hasTypeDefinitionProvider=new r.uy("editorHasTypeDefinitionProvider",!1,s.NC("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),e.hasHoverProvider=new r.uy("editorHasHoverProvider",!1,s.NC("editorHasHoverProvider","Whether the editor has a hover provider")),e.hasDocumentHighlightProvider=new r.uy("editorHasDocumentHighlightProvider",!1,s.NC("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),e.hasDocumentSymbolProvider=new r.uy("editorHasDocumentSymbolProvider",!1,s.NC("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),e.hasReferenceProvider=new r.uy("editorHasReferenceProvider",!1,s.NC("editorHasReferenceProvider","Whether the editor has a reference provider")),e.hasRenameProvider=new r.uy("editorHasRenameProvider",!1,s.NC("editorHasRenameProvider","Whether the editor has a rename provider")),e.hasSignatureHelpProvider=new r.uy("editorHasSignatureHelpProvider",!1,s.NC("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),e.hasInlayHintsProvider=new r.uy("editorHasInlayHintsProvider",!1,s.NC("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),e.hasDocumentFormattingProvider=new r.uy("editorHasDocumentFormattingProvider",!1,s.NC("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),e.hasDocumentSelectionFormattingProvider=new r.uy("editorHasDocumentSelectionFormattingProvider",!1,s.NC("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),e.hasMultipleDocumentFormattingProvider=new r.uy("editorHasMultipleDocumentFormattingProvider",!1,s.NC("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),e.hasMultipleDocumentSelectionFormattingProvider=new r.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,s.NC("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(i||(i={}))},64559:(e,t,n)=>{n.d(t,{n:()=>r,y:()=>s});const i=[];function s(e){i.push(e)}function r(){return i.slice(0)}},94982:(e,t,n)=>{n.d(t,{b:()=>i});class i{get type(){return this._theme.type}get value(){return this._theme}constructor(e){this._theme=e}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}},15578:(e,t,n)=>{n.d(t,{N:()=>i});class i{static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(768&e)>>>8}static containsBalancedBrackets(e){return 0!==(1024&e)}static getFontStyle(e){return(30720&e)>>>11}static getForeground(e){return(16744448&e)>>>15}static getBackground(e){return(4278190080&e)>>>24}static getClassNameFromMetadata(e){const t=this.getForeground(e);let n="mtk"+t;const i=this.getFontStyle(e);return 1&i&&(n+=" mtki"),2&i&&(n+=" mtkb"),4&i&&(n+=" mtku"),8&i&&(n+=" mtks"),n}static getInlineStyleFromMetadata(e,t){const n=this.getForeground(e),i=this.getFontStyle(e);let s=`color: ${t[n]};`;1&i&&(s+="font-style: italic;"),2&i&&(s+="font-weight: bold;");let r="";return 4&i&&(r+=" underline"),8&i&&(r+=" line-through"),r&&(s+=`text-decoration:${r};`),s}static getPresentationFromMetadata(e){const t=this.getForeground(e),n=this.getFontStyle(e);return{foreground:t,italic:Boolean(1&n),bold:Boolean(2&n),underline:Boolean(4&n),strikethrough:Boolean(8&n)}}}},13420:(e,t,n)=>{n.d(t,{c:()=>c});var i=n(11271),s=n(70959),r=n(79857),o=n(48079),a=n(92286);function l(e,t,n,i,s,r){if(Array.isArray(e)){let o=0;for(const a of e){const e=l(a,t,n,i,s,r);if(10===e)return e;e>o&&(o=e)}return o}if("string"===typeof e)return i?"*"===e?5:e===n?10:0:0;if(e){const{language:l,pattern:h,scheme:u,hasAccessToAllModels:c,notebookType:d}=e;if(!i&&!c)return 0;d&&s&&(t=s);let g=0;if(u)if(u===t.scheme)g=10;else{if("*"!==u)return 0;g=5}if(l)if(l===n)g=10;else{if("*"!==l)return 0;g=Math.max(g,5)}if(d)if(d===r)g=10;else{if("*"!==d||void 0===r)return 0;g=Math.max(g,5)}if(h){let e;if(e="string"===typeof h?h:Object.assign(Object.assign({},h),{base:(0,a.Fv)(h.base)}),e!==t.fsPath&&!(0,o.EQ)(e,t.fsPath))return 0;g=10}return g}return 0}function h(e){return"string"!==typeof e&&(Array.isArray(e)?e.every(h):!!e.exclusive)}class u{constructor(e,t,n,i){this.uri=e,this.languageId=t,this.notebookUri=n,this.notebookType=i}equals(e){var t,n;return this.notebookType===e.notebookType&&this.languageId===e.languageId&&this.uri.toString()===e.uri.toString()&&(null===(t=this.notebookUri)||void 0===t?void 0:t.toString())===(null===(n=e.notebookUri)||void 0===n?void 0:n.toString())}}class c{constructor(e){this._notebookInfoResolver=e,this._clock=0,this._entries=[],this._onDidChange=new i.Q5,this.onDidChange=this._onDidChange.event}register(e,t){let n={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(n),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,s.OF)((()=>{if(n){const e=this._entries.indexOf(n);e>=0&&(this._entries.splice(e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),n=void 0)}}))}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(const n of this._entries)n._score>0&&t.push(n.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,(e=>t.push(e.provider))),t}orderedGroups(e){const t=[];let n,i;return this._orderedForEach(e,(e=>{n&&i===e._score?n.push(e.provider):(i=e._score,n=[e.provider],t.push(n))})),t}_orderedForEach(e,t){this._updateScores(e);for(const n of this._entries)n._score>0&&t(n)}_updateScores(e){var t,n;const i=null===(t=this._notebookInfoResolver)||void 0===t?void 0:t.call(this,e.uri),s=i?new u(e.uri,e.getLanguageId(),i.uri,i.type):new u(e.uri,e.getLanguageId(),void 0,void 0);if(!(null===(n=this._lastCandidate)||void 0===n?void 0:n.equals(s))){this._lastCandidate=s;for(const t of this._entries)if(t._score=l(t.selector,s.uri,s.languageId,(0,r.pt)(e),s.notebookUri,s.notebookType),h(t.selector)&&t._score>0){for(const e of this._entries)e._score=0;t._score=1e3;break}this._entries.sort(c._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:d(e.selector)&&!d(t.selector)?1:!d(e.selector)&&d(t.selector)?-1:e._time<t._time?1:e._time>t._time?-1:0}}function d(e){return"string"!==typeof e&&(Array.isArray(e)?e.some(d):Boolean(e.isBuiltin))}},67026:(e,t,n)=>{n.d(t,{AD:()=>w,DI:()=>f,MO:()=>v,MY:()=>o,RW:()=>I,WU:()=>d,bw:()=>s,gX:()=>i,gl:()=>b,hG:()=>g,ln:()=>m,mY:()=>k,vx:()=>p});var i,s,r,o,a=n(8419),l=n(95896),h=n(33162),u=n(15523),c=n(25206);class d{constructor(e,t,n){this.offset=e,this.type=t,this.language=n,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class g{constructor(e,t){this.tokens=e,this.endState=t,this._tokenizationResultBrand=void 0}}class f{constructor(e,t){this.tokens=e,this.endState=t,this._encodedTokenizationResultBrand=void 0}}(function(e){const t=new Map;function n(e){let n=t.get(e);return n||(console.info("No codicon found for CompletionItemKind "+e),n=a.l.symbolProperty),n}t.set(0,a.l.symbolMethod),t.set(1,a.l.symbolFunction),t.set(2,a.l.symbolConstructor),t.set(3,a.l.symbolField),t.set(4,a.l.symbolVariable),t.set(5,a.l.symbolClass),t.set(6,a.l.symbolStruct),t.set(7,a.l.symbolInterface),t.set(8,a.l.symbolModule),t.set(9,a.l.symbolProperty),t.set(10,a.l.symbolEvent),t.set(11,a.l.symbolOperator),t.set(12,a.l.symbolUnit),t.set(13,a.l.symbolValue),t.set(15,a.l.symbolEnum),t.set(14,a.l.symbolConstant),t.set(15,a.l.symbolEnum),t.set(16,a.l.symbolEnumMember),t.set(17,a.l.symbolKeyword),t.set(27,a.l.symbolSnippet),t.set(18,a.l.symbolText),t.set(19,a.l.symbolColor),t.set(20,a.l.symbolFile),t.set(21,a.l.symbolReference),t.set(22,a.l.symbolCustomColor),t.set(23,a.l.symbolFolder),t.set(24,a.l.symbolTypeParameter),t.set(25,a.l.account),t.set(26,a.l.issues),e.toIcon=n;const i=new Map;function s(e,t){let n=i.get(e);return"undefined"!==typeof n||t||(n=9),n}i.set("method",0),i.set("function",1),i.set("constructor",2),i.set("field",3),i.set("variable",4),i.set("class",5),i.set("struct",6),i.set("interface",7),i.set("module",8),i.set("property",9),i.set("event",10),i.set("operator",11),i.set("unit",12),i.set("value",13),i.set("constant",14),i.set("enum",15),i.set("enum-member",16),i.set("enumMember",16),i.set("keyword",17),i.set("snippet",27),i.set("text",18),i.set("color",19),i.set("file",20),i.set("reference",21),i.set("customcolor",22),i.set("folder",23),i.set("type-parameter",24),i.set("typeParameter",24),i.set("account",25),i.set("issue",26),e.fromString=s})(i||(i={})),function(e){e[e["Automatic"]=0]="Automatic",e[e["Explicit"]=1]="Explicit"}(s||(s={}));class m{constructor(e,t,n,i){this.range=e,this.text=t,this.completionKind=n,this.isSnippetText=i}equals(e){return h.e.lift(this.range).equalsRange(e.range)&&this.text===e.text&&this.completionKind===e.completionKind&&this.isSnippetText===e.isSnippetText}}function p(e){return e&&l.o.isUri(e.uri)&&h.e.isIRange(e.range)&&(h.e.isIRange(e.originSelectionRange)||h.e.isIRange(e.targetSelectionRange))}(function(e){e[e["Invoke"]=1]="Invoke",e[e["TriggerCharacter"]=2]="TriggerCharacter",e[e["ContentChange"]=3]="ContentChange"})(r||(r={})),function(e){e[e["Text"]=0]="Text",e[e["Read"]=1]="Read",e[e["Write"]=2]="Write"}(o||(o={}));(0,c.NC)("Array","array"),(0,c.NC)("Boolean","boolean"),(0,c.NC)("Class","class"),(0,c.NC)("Constant","constant"),(0,c.NC)("Constructor","constructor"),(0,c.NC)("Enum","enumeration"),(0,c.NC)("EnumMember","enumeration member"),(0,c.NC)("Event","event"),(0,c.NC)("Field","field"),(0,c.NC)("File","file"),(0,c.NC)("Function","function"),(0,c.NC)("Interface","interface"),(0,c.NC)("Key","key"),(0,c.NC)("Method","method"),(0,c.NC)("Module","module"),(0,c.NC)("Namespace","namespace"),(0,c.NC)("Null","null"),(0,c.NC)("Number","number"),(0,c.NC)("Object","object"),(0,c.NC)("Operator","operator"),(0,c.NC)("Package","package"),(0,c.NC)("Property","property"),(0,c.NC)("String","string"),(0,c.NC)("Struct","struct"),(0,c.NC)("TypeParameter","type parameter"),(0,c.NC)("Variable","variable");var C,k,b;(function(e){const t=new Map;function n(e){let n=t.get(e);return n||(console.info("No codicon found for SymbolKind "+e),n=a.l.symbolProperty),n}t.set(0,a.l.symbolFile),t.set(1,a.l.symbolModule),t.set(2,a.l.symbolNamespace),t.set(3,a.l.symbolPackage),t.set(4,a.l.symbolClass),t.set(5,a.l.symbolMethod),t.set(6,a.l.symbolProperty),t.set(7,a.l.symbolField),t.set(8,a.l.symbolConstructor),t.set(9,a.l.symbolEnum),t.set(10,a.l.symbolInterface),t.set(11,a.l.symbolFunction),t.set(12,a.l.symbolVariable),t.set(13,a.l.symbolConstant),t.set(14,a.l.symbolString),t.set(15,a.l.symbolNumber),t.set(16,a.l.symbolBoolean),t.set(17,a.l.symbolArray),t.set(18,a.l.symbolObject),t.set(19,a.l.symbolKey),t.set(20,a.l.symbolNull),t.set(21,a.l.symbolEnumMember),t.set(22,a.l.symbolStruct),t.set(23,a.l.symbolEvent),t.set(24,a.l.symbolOperator),t.set(25,a.l.symbolTypeParameter),e.toIcon=n})(C||(C={}));class w{static fromValue(e){switch(e){case"comment":return w.Comment;case"imports":return w.Imports;case"region":return w.Region}return new w(e)}constructor(e){this.value=e}}w.Comment=new w("comment"),w.Imports=new w("imports"),w.Region=new w("region"),function(e){function t(e){return!(!e||"object"!==typeof e)&&("string"===typeof e.id&&"string"===typeof e.title)}e.is=t}(k||(k={})),function(e){e[e["Type"]=1]="Type",e[e["Parameter"]=2]="Parameter"}(b||(b={}));class v{constructor(e){this.createSupport=e,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then((e=>{e&&e.dispose()}))}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const I=new u.R},52185:(e,t,n)=>{n.d(t,{$9:()=>c,UF:()=>u,n8:()=>h,r7:()=>l,tI:()=>d});var i=n(61720),s=n(11432),r=n(64371),o=n(97297);function a(e,t,n){const i=e.tokenization.getLanguageIdAtPosition(t,0);if(t>1){let s,r=-1;for(s=t-1;s>=1;s--){if(e.tokenization.getLanguageIdAtPosition(s,0)!==i)return r;const t=e.getLineContent(s);if(!n.shouldIgnore(t)&&!/^\s+$/.test(t)&&""!==t)return s;r=s}}return-1}function l(e,t,n,r=!0,o){if(e<4)return null;const l=o.getLanguageConfiguration(t.tokenization.getLanguageId()).indentRulesSupport;if(!l)return null;if(n<=1)return{indentation:"",action:null};for(let i=n-1;i>0;i--){if(""!==t.getLineContent(i))break;if(1===i)return{indentation:"",action:null}}const h=a(t,n,l);if(h<0)return null;if(h<1)return{indentation:"",action:null};const u=t.getLineContent(h);if(l.shouldIncrease(u)||l.shouldIndentNextLine(u))return{indentation:i.V8(u),action:s.wU.Indent,line:h};if(l.shouldDecrease(u))return{indentation:i.V8(u),action:null,line:h};{if(1===h)return{indentation:i.V8(t.getLineContent(h)),action:null,line:h};const e=h-1,n=l.getIndentMetadata(t.getLineContent(e));if(!(3&n)&&4&n){let n=0;for(let i=e-1;i>0;i--)if(!l.shouldIndentNextLine(t.getLineContent(i))){n=i;break}return{indentation:i.V8(t.getLineContent(n+1)),action:null,line:n+1}}if(r)return{indentation:i.V8(t.getLineContent(h)),action:null,line:h};for(let r=h;r>0;r--){const e=t.getLineContent(r);if(l.shouldIncrease(e))return{indentation:i.V8(e),action:s.wU.Indent,line:r};if(l.shouldIndentNextLine(e)){let e=0;for(let n=r-1;n>0;n--)if(!l.shouldIndentNextLine(t.getLineContent(r))){e=n;break}return{indentation:i.V8(t.getLineContent(e+1)),action:null,line:e+1}}if(l.shouldDecrease(e))return{indentation:i.V8(e),action:null,line:r}}return{indentation:i.V8(t.getLineContent(1)),action:null,line:1}}}function h(e,t,n,r,o,a){if(e<4)return null;const h=a.getLanguageConfiguration(n);if(!h)return null;const u=a.getLanguageConfiguration(n).indentRulesSupport;if(!u)return null;const c=l(e,t,r,void 0,a),d=t.getLineContent(r);if(c){const n=c.line;if(void 0!==n){let a=!0;for(let e=n;e<r-1;e++)if(!/^\s*$/.test(t.getLineContent(e))){a=!1;break}if(a){const r=h.onEnter(e,"",t.getLineContent(n),"");if(r){let e=i.V8(t.getLineContent(n));return r.removeText&&(e=e.substring(0,e.length-r.removeText)),r.indentAction===s.wU.Indent||r.indentAction===s.wU.IndentOutdent?e=o.shiftIndent(e):r.indentAction===s.wU.Outdent&&(e=o.unshiftIndent(e)),u.shouldDecrease(d)&&(e=o.unshiftIndent(e)),r.appendText&&(e+=r.appendText),i.V8(e)}}}return u.shouldDecrease(d)?c.action===s.wU.Indent?c.indentation:o.unshiftIndent(c.indentation):c.action===s.wU.Indent?o.shiftIndent(c.indentation):c.indentation}return null}function u(e,t,n,a,h){if(e<4)return null;t.tokenization.forceTokenization(n.startLineNumber);const u=t.tokenization.getLineTokens(n.startLineNumber),c=(0,r.wH)(u,n.startColumn-1),d=c.getLineContent();let g,f,m=!1;if(c.firstCharOffset>0&&u.getLanguageId(0)!==c.languageId?(m=!0,g=d.substr(0,n.startColumn-1-c.firstCharOffset)):g=u.getLineContent().substring(0,n.startColumn-1),n.isEmpty())f=d.substr(n.startColumn-1-c.firstCharOffset);else{const e=(0,o.n2)(t,n.endLineNumber,n.endColumn);f=e.getLineContent().substr(n.endColumn-1-c.firstCharOffset)}const p=h.getLanguageConfiguration(c.languageId).indentRulesSupport;if(!p)return null;const C=g,k=i.V8(g),b={tokenization:{getLineTokens:e=>t.tokenization.getLineTokens(e),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(e,n)=>t.getLanguageIdAtPosition(e,n)},getLineContent:e=>e===n.startLineNumber?C:t.getLineContent(e)},w=i.V8(u.getLineContent()),v=l(e,b,n.startLineNumber+1,void 0,h);if(!v){const e=m?w:k;return{beforeEnter:e,afterEnter:e}}let I=m?w:v.indentation;return v.action===s.wU.Indent&&(I=a.shiftIndent(I)),p.shouldDecrease(f)&&(I=a.unshiftIndent(I)),{beforeEnter:m?w:k,afterEnter:I}}function c(e,t,n,i,r,a){if(e<4)return null;const h=(0,o.n2)(t,n.startLineNumber,n.startColumn);if(h.firstCharOffset)return null;const u=a.getLanguageConfiguration(h.languageId).indentRulesSupport;if(!u)return null;const c=h.getLineContent(),d=c.substr(0,n.startColumn-1-h.firstCharOffset);let g;if(n.isEmpty())g=c.substr(n.startColumn-1-h.firstCharOffset);else{const e=(0,o.n2)(t,n.endLineNumber,n.endColumn);g=e.getLineContent().substr(n.endColumn-1-h.firstCharOffset)}if(!u.shouldDecrease(d+g)&&u.shouldDecrease(d+i+g)){const i=l(e,t,n.startLineNumber,!1,a);if(!i)return null;let o=i.indentation;return i.action!==s.wU.Indent&&(o=r.unshiftIndent(o)),o}return null}function d(e,t,n){const i=n.getLanguageConfiguration(e.getLanguageId()).indentRulesSupport;return i?t<1||t>e.getLineCount()?null:i.getIndentMetadata(e.getLineContent(t)):null}},90309:(e,t,n)=>{n.d(t,{e:()=>d});var i=n(60204);function s(e){const t=[];for(const n of e){const e=Number(n);(e||0===e&&""!==n.replace(/\s/g,""))&&t.push(e)}return t}function r(e,t,n,i){return{red:e/255,blue:n/255,green:t/255,alpha:i}}function o(e,t){const n=t.index,i=t[0].length;if(!n)return;const s=e.positionAt(n),r={startLineNumber:s.lineNumber,startColumn:s.column,endLineNumber:s.lineNumber,endColumn:s.column+i};return r}function a(e,t){if(!e)return;const n=i.Il.Format.CSS.parseHex(t);return n?{range:e,color:r(n.rgba.r,n.rgba.g,n.rgba.b,n.rgba.a)}:void 0}function l(e,t,n){if(!e||1!==t.length)return;const i=t[0],o=i.values(),a=s(o);return{range:e,color:r(a[0],a[1],a[2],n?a[3]:1)}}function h(e,t,n){if(!e||1!==t.length)return;const o=t[0],a=o.values(),l=s(a),h=new i.Il(new i.Oz(l[0],l[1]/100,l[2]/100,n?l[3]:1));return{range:e,color:r(h.rgba.r,h.rgba.g,h.rgba.b,h.rgba.a)}}function u(e,t){return"string"===typeof e?[...e.matchAll(t)]:e.findMatches(t)}function c(e){const t=[],n=/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm,i=u(e,n);if(i.length>0)for(const s of i){const n=s.filter((e=>void 0!==e)),i=n[1],r=n[2];if(!r)continue;let c;if("rgb"===i){const t=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;c=l(o(e,s),u(r,t),!1)}else if("rgba"===i){const t=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;c=l(o(e,s),u(r,t),!0)}else if("hsl"===i){const t=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;c=h(o(e,s),u(r,t),!1)}else if("hsla"===i){const t=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;c=h(o(e,s),u(r,t),!0)}else"#"===i&&(c=a(o(e,s),i+r));c&&t.push(c)}return t}function d(e){return e&&"function"===typeof e.getValue&&"function"===typeof e.positionAt?c(e):[]}},74177:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(11432),s=n(97297);function r(e,t,n,r){const o=(0,s.n2)(t,n.startLineNumber,n.startColumn),a=r.getLanguageConfiguration(o.languageId);if(!a)return null;const l=o.getLineContent(),h=l.substr(0,n.startColumn-1-o.firstCharOffset);let u;if(n.isEmpty())u=l.substr(n.startColumn-1-o.firstCharOffset);else{const e=(0,s.n2)(t,n.endLineNumber,n.endColumn);u=e.getLineContent().substr(n.endColumn-1-o.firstCharOffset)}let c="";if(n.startLineNumber>1&&0===o.firstCharOffset){const e=(0,s.n2)(t,n.startLineNumber-1);e.languageId===o.languageId&&(c=e.getLineContent())}const d=a.onEnter(e,c,h,u);if(!d)return null;const g=d.indentAction;let f=d.appendText;const m=d.removeText||0;f?g===i.wU.Indent&&(f="\t"+f):f=g===i.wU.Indent||g===i.wU.IndentOutdent?"\t":"";let p=(0,s.u0)(t,n.startLineNumber,n.startColumn);return m&&(p=p.substring(0,p.length-m)),{indentAction:g,appendText:f,removeText:m,indentation:p}}},61141:(e,t,n)=>{n.d(t,{O:()=>s});var i=n(21881);const s=(0,i.yh)("languageService")},11432:(e,t,n)=>{var i;n.d(t,{V6:()=>s,c$:()=>r,wU:()=>i}),function(e){e[e["None"]=0]="None",e[e["Indent"]=1]="Indent",e[e["IndentOutdent"]=2]="IndentOutdent",e[e["Outdent"]=3]="Outdent"}(i||(i={}));class s{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,n=e.notIn.length;t<n;t++){const n=e.notIn[t];switch(n){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(0===e.getTokenCount())return!0;const n=e.findTokenIndexAtOffset(t-2),i=e.getStandardTokenType(n);return this.isOK(i)}_findNeutralCharacterInRange(e,t){for(let n=e;n<=t;n++){const e=String.fromCharCode(n);if(!this.open.includes(e)&&!this.close.includes(e))return e}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class r{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)o(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),o(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),o(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),o(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),1===t.close.length&&1===t.open.length&&o(this.autoClosingPairsCloseSingleChar,t.close,t)}}function o(e,t,n){e.has(t)?e.get(t).push(n):e.set(t,[n])}},97297:(e,t,n)=>{n.d(t,{c_:()=>O,u0:()=>D,n2:()=>q});var i=n(11271),s=n(70959),r=n(61720),o=n(87738),a=n(11432),l=n(64371);class h{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map((e=>new a.V6(e))):e.brackets?this._autoClosingPairs=e.brackets.map((e=>new a.V6({open:e[0],close:e[1]}))):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new a.V6({open:t.open,close:t.close||""}))}this._autoCloseBeforeForQuotes="string"===typeof e.autoCloseBefore?e.autoCloseBefore:h.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets="string"===typeof e.autoCloseBefore?e.autoCloseBefore:h.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(e){return e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}h.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=";:.,=}])> \n\t",h.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS="'\"`;:.,=}])> \n\t";var u=n(21921),c=n(37758);class d{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const n of t.close){const t=n.charAt(n.length-1);e.push(t)}return(0,u.EB)(e)}onElectricCharacter(e,t,n){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const i=t.findTokenIndexAtOffset(n-1);if((0,l.Bu)(t.getStandardTokenType(i)))return null;const s=this._richEditBrackets.reversedRegex,r=t.getLineContent().substring(0,n-1)+e,o=c.Vr.findPrevBracketInRange(s,1,r,0,r.length);if(!o)return null;const a=r.substring(o.startColumn-1,o.endColumn-1).toLowerCase(),h=this._richEditBrackets.textIsOpenBracket[a];if(h)return null;const u=t.getActualLineContentBefore(o.startColumn-1);return/^\s*$/.test(u)?{matchOpenBracket:a}:null}}function g(e){return e.global&&(e.lastIndex=0),!0}class f{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&g(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&g(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&g(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&g(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}var m=n(98642);class p{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach((e=>{const t=p._createOpenBracketRegExp(e[0]),n=p._createCloseBracketRegExp(e[1]);t&&n&&this._brackets.push({open:e[0],openRegExp:t,close:e[1],closeRegExp:n})})),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,n,i){if(e>=3)for(let s=0,r=this._regExpRules.length;s<r;s++){const e=this._regExpRules[s],r=[{reg:e.beforeText,text:n},{reg:e.afterText,text:i},{reg:e.previousLineText,text:t}].every((e=>!e.reg||(e.reg.lastIndex=0,e.reg.test(e.text))));if(r)return e.action}if(e>=2&&n.length>0&&i.length>0)for(let s=0,r=this._brackets.length;s<r;s++){const e=this._brackets[s];if(e.openRegExp.test(n)&&e.closeRegExp.test(i))return{indentAction:a.wU.IndentOutdent}}if(e>=2&&n.length>0)for(let s=0,r=this._brackets.length;s<r;s++){const e=this._brackets[s];if(e.openRegExp.test(n))return{indentAction:a.wU.Indent}}return null}static _createOpenBracketRegExp(e){let t=r.ec(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",p._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=r.ec(e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,p._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return(0,m.dL)(t),null}}}var C=n(21881),k=n(47596),b=n(61141),w=n(39326),v=n(32484),I=n(60857);class _{constructor(e,t){this.languageId=e;const n=t.brackets?x(t.brackets):[],i=new I.b((e=>{const t=new Set;return{info:new S(this,e,t),closing:t}})),s=new I.b((e=>{const t=new Set,n=new Set;return{info:new E(this,e,t,n),opening:t,openingColorized:n}}));for(const[o,a]of n){const e=i.get(o),t=s.get(a);e.closing.add(t.info),t.opening.add(e.info)}const r=t.colorizedBracketPairs?x(t.colorizedBracketPairs):n.filter((e=>!("<"===e[0]&&">"===e[1])));for(const[o,a]of r){const e=i.get(o),t=s.get(a);e.closing.add(t.info),t.openingColorized.add(e.info),t.opening.add(e.info)}this._openingBrackets=new Map([...i.cachedValues].map((([e,t])=>[e,t.info]))),this._closingBrackets=new Map([...s.cachedValues].map((([e,t])=>[e,t.info])))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}}function x(e){return e.filter((([e,t])=>""!==e&&""!==t))}class L{constructor(e,t){this.config=e,this.bracketText=t}get languageId(){return this.config.languageId}}class S extends L{constructor(e,t,n){super(e,t),this.openedBrackets=n,this.isOpeningBracket=!0}}class E extends L{constructor(e,t,n,i){super(e,t),this.openingBrackets=n,this.openingColorizedBrackets=i,this.isOpeningBracket=!1}closes(e){return e["config"]===this.config&&this.openingBrackets.has(e)}closesColorized(e){return e["config"]===this.config&&this.openingColorizedBrackets.has(e)}getOpeningBrackets(){return[...this.openingBrackets]}}var R=function(e,t,n,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,n,o):s(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o},y=function(e,t){return function(n,i){t(n,i,e)}};class N{constructor(e){this.languageId=e}affects(e){return!this.languageId||this.languageId===e}}const O=(0,C.yh)("languageConfigurationService");let T=class extends s.JT{constructor(e,t){super(),this.configurationService=e,this.languageService=t,this._registry=this._register(new j),this.onDidChangeEmitter=this._register(new i.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const n=new Set(Object.values(P));this._register(this.configurationService.onDidChangeConfiguration((e=>{const t=e.change.keys.some((e=>n.has(e))),i=e.change.overrides.filter((([e,t])=>t.some((e=>n.has(e))))).map((([e])=>e));if(t)this.configurations.clear(),this.onDidChangeEmitter.fire(new N(void 0));else for(const n of i)this.languageService.isRegisteredLanguageId(n)&&(this.configurations.delete(n),this.onDidChangeEmitter.fire(new N(n)))}))),this._register(this._registry.onDidChange((e=>{this.configurations.delete(e.languageId),this.onDidChangeEmitter.fire(new N(e.languageId))})))}register(e,t,n){return this._registry.register(e,t,n)}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=B(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}};function B(e,t,n,i){let s=t.getLanguageConfiguration(e);if(!s){if(!i.isRegisteredLanguageId(e))return new V(e,{});s=new V(e,{})}const r=M(s.languageId,n),o=F([s.underlyingConfig,r]),a=new V(s.languageId,o);return a}T=R([y(0,k.Ui),y(1,b.O)],T);const P={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function M(e,t){const n=t.getValue(P.brackets,{overrideIdentifier:e}),i=t.getValue(P.colorizedBracketPairs,{overrideIdentifier:e});return{brackets:A(n),colorizedBracketPairs:A(i)}}function A(e){if(Array.isArray(e))return e.map((e=>{if(Array.isArray(e)&&2===e.length)return[e[0],e[1]]})).filter((e=>!!e))}function D(e,t,n){const i=e.getLineContent(t);let s=r.V8(i);return s.length>n-1&&(s=s.substring(0,n-1)),s}function q(e,t,n){e.tokenization.forceTokenization(t);const i=e.tokenization.getLineTokens(t),s="undefined"===typeof n?e.getLineMaxColumn(t)-1:n-1;return(0,l.wH)(i,s)}class z{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const n=new H(e,t,++this._order);return this._entries.push(n),this._resolved=null,(0,s.OF)((()=>{for(let e=0;e<this._entries.length;e++)if(this._entries[e]===n){this._entries.splice(e,1),this._resolved=null;break}}))}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new V(this.languageId,e))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(H.cmp),F(this._entries.map((e=>e.configuration))))}}function F(e){let t={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const n of e)t={comments:n.comments||t.comments,brackets:n.brackets||t.brackets,wordPattern:n.wordPattern||t.wordPattern,indentationRules:n.indentationRules||t.indentationRules,onEnterRules:n.onEnterRules||t.onEnterRules,autoClosingPairs:n.autoClosingPairs||t.autoClosingPairs,surroundingPairs:n.surroundingPairs||t.surroundingPairs,autoCloseBefore:n.autoCloseBefore||t.autoCloseBefore,folding:n.folding||t.folding,colorizedBracketPairs:n.colorizedBracketPairs||t.colorizedBracketPairs,__electricCharacterSupport:n.__electricCharacterSupport||t.__electricCharacterSupport};return t}class H{constructor(e,t,n){this.configuration=e,this.priority=t,this.order=n}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class W{constructor(e){this.languageId=e}}class j extends s.JT{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new i.Q5),this.onDidChange=this._onDidChange.event,this._register(this.register(v.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,n=0){let i=this._entries.get(e);i||(i=new z(e),this._entries.set(e,i));const r=i.register(t,n);return this._onDidChange.fire(new W(e)),(0,s.OF)((()=>{r.dispose(),this._onDidChange.fire(new W(e))}))}getLanguageConfiguration(e){const t=this._entries.get(e);return(null===t||void 0===t?void 0:t.getResolvedConfiguration())||null}}class V{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new p(this.underlyingConfig):null,this.comments=V._handleComments(this.underlyingConfig),this.characterPair=new h(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||o.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new f(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new _(e,this.underlyingConfig)}getWordDefinition(){return(0,o.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new c.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new d(this.brackets)),this._electricCharacter}onEnter(e,t,n,i){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,n,i):null}getAutoClosingPairs(){return new a.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(e){return this.characterPair.getAutoCloseBeforeSet(e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t)return null;const n={};if(t.lineComment&&(n.lineCommentToken=t.lineComment),t.blockComment){const[e,i]=t.blockComment;n.blockCommentStartToken=e,n.blockCommentEndToken=i}return n}}(0,w.z)(O,T,1)},74531:(e,t,n)=>{n.d(t,{E:()=>c});var i=n(51099);class s{constructor(e,t,n){const i=new Uint8Array(e*t);for(let s=0,r=e*t;s<r;s++)i[s]=n;this._data=i,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,n){this._data[e*this.cols+t]=n}}class r{constructor(e){let t=0,n=0;for(let s=0,r=e.length;s<r;s++){const[i,r,o]=e[s];r>t&&(t=r),i>n&&(n=i),o>n&&(n=o)}t++,n++;const i=new s(n,t,0);for(let s=0,r=e.length;s<r;s++){const[t,n,r]=e[s];i.set(t,n,r)}this._states=i,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let o=null;function a(){return null===o&&(o=new r([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),o}let l=null;function h(){if(null===l){l=new i.N(0);const e=" \t<>'\"";for(let n=0;n<e.length;n++)l.set(e.charCodeAt(n),1);const t=".,;:";for(let n=0;n<t.length;n++)l.set(t.charCodeAt(n),2)}return l}class u{static _createLink(e,t,n,i,s){let r=s-1;do{const n=t.charCodeAt(r),i=e.get(n);if(2!==i)break;r--}while(r>i);if(i>0){const e=t.charCodeAt(i-1),n=t.charCodeAt(r);(40===e&&41===n||91===e&&93===n||123===e&&125===n)&&r--}return{range:{startLineNumber:n,startColumn:i+1,endLineNumber:n,endColumn:r+2},url:t.substring(i,r+1)}}static computeLinks(e,t=a()){const n=h(),i=[];for(let s=1,r=e.getLineCount();s<=r;s++){const r=e.getLineContent(s),o=r.length;let a=0,l=0,h=0,c=1,d=!1,g=!1,f=!1,m=!1;while(a<o){let e=!1;const o=r.charCodeAt(a);if(13===c){let t;switch(o){case 40:d=!0,t=0;break;case 41:t=d?0:1;break;case 91:f=!0,g=!0,t=0;break;case 93:f=!1,t=g?0:1;break;case 123:m=!0,t=0;break;case 125:t=m?0:1;break;case 39:case 34:case 96:t=h===o?1:39===h||34===h||96===h?0:1;break;case 42:t=42===h?1:0;break;case 124:t=124===h?1:0;break;case 32:t=f?0:1;break;default:t=n.get(o)}1===t&&(i.push(u._createLink(n,r,s,l,a)),e=!0)}else if(12===c){let t;91===o?(g=!0,t=0):t=n.get(o),1===t?e=!0:c=13}else c=t.nextState(c,o),0===c&&(e=!0);e&&(c=1,d=!1,g=!1,m=!1,l=a+1,h=o),a++}13===c&&i.push(u._createLink(n,r,s,l,o))}return i}}function c(e){return e&&"function"===typeof e.getLineCount&&"function"===typeof e.getLineContent?u.computeLinks(e):[]}},32484:(e,t,n)=>{n.d(t,{bd:()=>c,dQ:()=>u});var i=n(25206),s=n(11271),r=n(39672),o=n(96358),a=n(46853);const l={ModesRegistry:"editor.modesRegistry"};class h{constructor(){this._onDidChangeLanguages=new s.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,n=this._languages.length;t<n;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return this._languages}}const u=new h;r.B.add(l.ModesRegistry,u);const c="plaintext",d=".txt";u.registerLanguage({id:c,extensions:[d],aliases:[i.NC("plainText.alias","Plain Text"),"text"],mimetypes:[o.v.text]}),r.B.as(a.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},89492:(e,t,n)=>{n.d(t,{Dy:()=>o,Ri:()=>r,TJ:()=>s});var i=n(67026);const s=new class{clone(){return this}equals(e){return this===e}};function r(e,t){return new i.hG([new i.WU(0,"",e)],t)}function o(e,t){const n=new Uint32Array(2);return n[0]=0,n[1]=(32768|e<<0|2<<24)>>>0,new i.DI(n,null===t?s:t)}},64371:(e,t,n)=>{function i(e,t){const n=e.getCount(),i=e.findTokenIndexAtOffset(t),r=e.getLanguageId(i);let o=i;while(o+1<n&&e.getLanguageId(o+1)===r)o++;let a=i;while(a>0&&e.getLanguageId(a-1)===r)a--;return new s(e,r,a,o+1,e.getStartOffset(a),e.getEndOffset(o))}n.d(t,{Bu:()=>r,wH:()=>i});class s{constructor(e,t,n,i,s,r){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=n,this._lastTokenIndex=i,this.firstCharOffset=s,this._lastCharOffset=r}getLineContent(){const e=this._actual.getLineContent();return e.substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){const t=this._actual.getLineContent();return t.substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function r(e){return 0!==(3&e)}},61416:(e,t,n)=>{n.d(t,{J:()=>i});class i{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,n,i,s){if(e&&t){const n=this.doNavigateValueSet(t,s);if(n)return{range:e,value:n}}if(n&&i){const e=this.doNavigateValueSet(i,s);if(e)return{range:n,value:e}}return null}doNavigateValueSet(e,t){const n=this.numberReplace(e,t);return null!==n?n:this.textReplace(e,t)}numberReplace(e,t){const n=Math.pow(10,e.length-(e.lastIndexOf(".")+1));let i=Number(e);const s=parseFloat(e);return isNaN(i)||isNaN(s)||i!==s?null:0!==i||t?(i=Math.floor(i*n),i+=t?n:-n,String(i/n)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,n){let i=null;for(let s=0,r=e.length;null===i&&s<r;s++)i=this.valueSetReplace(e[s],t,n);return i}valueSetReplace(e,t,n){let i=e.indexOf(t);return i>=0?(i+=n?1:-1,i<0?i=e.length-1:i%=e.length,e[i]):null}}i.INSTANCE=new i},37758:(e,t,n)=>{n.d(t,{EA:()=>l,Vr:()=>b});var i=n(61720),s=n(69427),r=n(33162);class o{constructor(e,t,n,i,s,r){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=n,this.close=i,this.forwardRegex=s,this.reversedRegex=r,this._openSet=o._toSet(this.open),this._closeSet=o._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const n of e)t.add(n);return t}}function a(e){const t=e.length;e=e.map((e=>[e[0].toLowerCase(),e[1].toLowerCase()]));const n=[];for(let o=0;o<t;o++)n[o]=o;const i=(e,t)=>{const[n,i]=e,[s,r]=t;return n===s||n===r||i===s||i===r},s=(e,i)=>{const s=Math.min(e,i),r=Math.max(e,i);for(let o=0;o<t;o++)n[o]===r&&(n[o]=s)};for(let o=0;o<t;o++){const r=e[o];for(let a=o+1;a<t;a++){const t=e[a];i(r,t)&&s(n[o],n[a])}}const r=[];for(let o=0;o<t;o++){const i=[],s=[];for(let r=0;r<t;r++)if(n[r]===o){const[t,n]=e[r];i.push(t),s.push(n)}i.length>0&&r.push({open:i,close:s})}return r}class l{constructor(e,t){this._richEditBracketsBrand=void 0;const n=a(t);this.brackets=n.map(((t,i)=>new o(e,i,t.open,t.close,d(t.open,t.close,n,i),g(t.open,t.close,n,i)))),this.forwardRegex=f(this.brackets),this.reversedRegex=m(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const i of this.brackets){for(const e of i.open)this.textIsBracket[e]=i,this.textIsOpenBracket[e]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,e.length);for(const e of i.close)this.textIsBracket[e]=i,this.textIsOpenBracket[e]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,e.length)}}}function h(e,t,n,i){for(let s=0,r=t.length;s<r;s++){if(s===n)continue;const r=t[s];for(const t of r.open)t.indexOf(e)>=0&&i.push(t);for(const t of r.close)t.indexOf(e)>=0&&i.push(t)}}function u(e,t){return e.length-t.length}function c(e){if(e.length<=1)return e;const t=[],n=new Set;for(const i of e)n.has(i)||(t.push(i),n.add(i));return t}function d(e,t,n,i){let s=[];s=s.concat(e),s=s.concat(t);for(let r=0,o=s.length;r<o;r++)h(s[r],n,i,s);return s=c(s),s.sort(u),s.reverse(),C(s)}function g(e,t,n,i){let s=[];s=s.concat(e),s=s.concat(t);for(let r=0,o=s.length;r<o;r++)h(s[r],n,i,s);return s=c(s),s.sort(u),s.reverse(),C(s.map(k))}function f(e){let t=[];for(const n of e){for(const e of n.open)t.push(e);for(const e of n.close)t.push(e)}return t=c(t),C(t)}function m(e){let t=[];for(const n of e){for(const e of n.open)t.push(e);for(const e of n.close)t.push(e)}return t=c(t),C(t.map(k))}function p(e){const t=/^[\w ]+$/.test(e);return e=i.ec(e),t?`\\b${e}\\b`:e}function C(e){const t=`(${e.map(p).join(")|(")})`;return i.GF(t,!0)}const k=function(){function e(e){const t=new Uint16Array(e.length);let n=0;for(let i=e.length-1;i>=0;i--)t[n++]=e.charCodeAt(i);return s.oe().decode(t)}let t=null,n=null;return function(i){return t!==i&&(t=i,n=e(t)),n}}();class b{static _findPrevBracketInText(e,t,n,i){const s=n.match(e);if(!s)return null;const o=n.length-(s.index||0),a=s[0].length,l=i+o;return new r.e(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,n,i,s){const r=k(n),o=r.substring(n.length-s,n.length-i);return this._findPrevBracketInText(e,t,o,i)}static findNextBracketInText(e,t,n,i){const s=n.match(e);if(!s)return null;const o=s.index||0,a=s[0].length;if(0===a)return null;const l=i+o;return new r.e(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,n,i,s){const r=n.substring(i,s);return this.findNextBracketInText(e,t,r,i)}}},69055:(e,t,n)=>{n.d(t,{si:()=>h,yr:()=>m});var i=n(60204);class s{constructor(e,t,n,i,s){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=n,this.foreground=i,this.background=s}}function r(e){if(!e||!Array.isArray(e))return[];const t=[];let n=0;for(let i=0,r=e.length;i<r;i++){const r=e[i];let o=-1;if("string"===typeof r.fontStyle){o=0;const e=r.fontStyle.split(" ");for(let t=0,n=e.length;t<n;t++){const n=e[t];switch(n){case"italic":o|=1;break;case"bold":o|=2;break;case"underline":o|=4;break;case"strikethrough":o|=8;break}}}let a=null;"string"===typeof r.foreground&&(a=r.foreground);let l=null;"string"===typeof r.background&&(l=r.background),t[n++]=new s(r.token||"",i,o,a,l)}return t}function o(e,t){e.sort(((e,t)=>{const n=d(e.token,t.token);return 0!==n?n:e.index-t.index}));let n=0,i="000000",s="ffffff";while(e.length>=1&&""===e[0].token){const t=e.shift();-1!==t.fontStyle&&(n=t.fontStyle),null!==t.foreground&&(i=t.foreground),null!==t.background&&(s=t.background)}const r=new l;for(const l of t)r.getId(l);const o=r.getId(i),a=r.getId(s),u=new g(n,o,a),c=new f(u);for(let l=0,h=e.length;l<h;l++){const t=e[l];c.insert(t.token,t.fontStyle,r.getId(t.foreground),r.getId(t.background))}return new h(r,c)}const a=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class l{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(null===e)return 0;const t=e.match(a);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let n=this._color2id.get(e);return n||(n=++this._lastColorId,this._color2id.set(e,n),this._id2color[n]=i.Il.fromHex("#"+e),n)}getColorMap(){return this._id2color.slice(0)}}class h{static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(r(e),t)}static createFromParsedTokenTheme(e,t){return o(e,t)}constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let n=this._cache.get(t);if("undefined"===typeof n){const e=this._match(t),i=c(t);n=(e.metadata|i<<8)>>>0,this._cache.set(t,n)}return(n|e<<0)>>>0}}const u=/\b(comment|string|regex|regexp)\b/;function c(e){const t=e.match(u);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function d(e,t){return e<t?-1:e>t?1:0}class g{constructor(e,t,n){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=n,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new g(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,n){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==n&&(this._background=n),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class f{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(""===e)return this._mainRule;const t=e.indexOf(".");let n,i;-1===t?(n=e,i=""):(n=e.substring(0,t),i=e.substring(t+1));const s=this._children.get(n);return"undefined"!==typeof s?s.match(i):this._mainRule}insert(e,t,n,i){if(""===e)return void this._mainRule.acceptOverwrite(t,n,i);const s=e.indexOf(".");let r,o;-1===s?(r=e,o=""):(r=e.substring(0,s),o=e.substring(s+1));let a=this._children.get(r);"undefined"===typeof a&&(a=new f(this._mainRule.clone()),this._children.set(r,a)),a.insert(o,t,n,i)}}function m(e){const t=[];for(let n=1,i=e.length;n<i;n++){const i=e[n];t[n]=`.mtk${n} { color: ${i}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.push(".mtks { text-decoration: line-through; }"),t.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),t.join("\n")}},50960:(e,t,n)=>{n.d(t,{C2:()=>h,Fq:()=>u});var i=n(61720),s=n(81083),r=n(67026),o=n(89492),a=function(e,t,n,i){function s(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):s(e.value).then(o,a)}l((i=i.apply(e,t||[])).next())}))};const l={getInitialState:()=>o.TJ,tokenizeEncoded:(e,t,n)=>(0,o.Dy)(0,n)};function h(e,t,n){return a(this,void 0,void 0,(function*(){if(!n)return c(t,e.languageIdCodec,l);const i=yield r.RW.getOrCreate(n);return c(t,e.languageIdCodec,i||l)}))}function u(e,t,n,i,s,r,o){let a="<div>",l=i,h=0,u=!0;for(let c=0,d=t.getCount();c<d;c++){const d=t.getEndOffset(c);if(d<=i)continue;let g="";for(;l<d&&l<s;l++){const t=e.charCodeAt(l);switch(t){case 9:{let e=r-(l+h)%r;h+=e-1;while(e>0)o&&u?(g+="&#160;",u=!1):(g+=" ",u=!0),e--;break}case 60:g+="&lt;",u=!1;break;case 62:g+="&gt;",u=!1;break;case 38:g+="&amp;",u=!1;break;case 0:g+="&#00;",u=!1;break;case 65279:case 8232:case 8233:case 133:g+="",u=!1;break;case 13:g+="&#8203",u=!1;break;case 32:o&&u?(g+="&#160;",u=!1):(g+=" ",u=!0);break;default:g+=String.fromCharCode(t),u=!1}}if(a+=`<span style="${t.getInlineStyle(c,n)}">${g}</span>`,d>s||l>=s)break}return a+="</div>",a}function c(e,t,n){let r='<div class="monaco-tokenized-source">';const o=i.uq(e);let a=n.getInitialState();for(let l=0,h=o.length;l<h;l++){const e=o[l];l>0&&(r+="<br/>");const h=n.tokenizeEncoded(e,!0,a);s.A.convertToEndOffset(h.tokens,e.length);const u=new s.A(h.tokens,e,t),c=u.inflate();let d=0;for(let t=0,n=c.getCount();t<n;t++){const n=c.getClassName(t),s=c.getEndOffset(t);r+=`<span class="${n}">${i.YU(e.substring(d,s))}</span>`,d=s}a=h.endState}return r+="</div>",r}},79857:(e,t,n)=>{n.d(t,{F5:()=>r,Hf:()=>u,Qi:()=>c,RM:()=>o,Tx:()=>d,U:()=>s,dJ:()=>l,je:()=>g,pt:()=>f,sh:()=>i,tk:()=>h});var i,s,r,o,a=n(2179);(function(e){e[e["Left"]=1]="Left",e[e["Center"]=2]="Center",e[e["Right"]=4]="Right",e[e["Full"]=7]="Full"})(i||(i={})),function(e){e[e["Left"]=1]="Left",e[e["Right"]=2]="Right"}(s||(s={})),function(e){e[e["Inline"]=1]="Inline",e[e["Gutter"]=2]="Gutter"}(r||(r={})),function(e){e[e["Both"]=0]="Both",e[e["Right"]=1]="Right",e[e["Left"]=2]="Left",e[e["None"]=3]="None"}(o||(o={}));class l{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|e.tabSize),"tabSize"===e.indentSize?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,0|e.indentSize),this._indentSizeIsTabSize=!1),this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace),this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this._indentSizeIsTabSize===e._indentSizeIsTabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&(0,a.fS)(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class h{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}function u(e){return e&&"function"===typeof e.read}class c{constructor(e,t,n,i,s,r){this.identifier=e,this.range=t,this.text=n,this.forceMoveMarkers=i,this.isAutoWhitespaceEdit=s,this._isTracked=r}}class d{constructor(e,t,n){this.regex=e,this.wordSeparators=t,this.simpleSearch=n}}class g{constructor(e,t,n){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=n}}function f(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}},83155:(e,t,n)=>{n.d(t,{gD:()=>o});var i=n(65662),s=n(89999),r=n(79857);class o{constructor(e,t,n,i,s){this.injectionOffsets=e,this.injectionOptions=t,this.breakOffsets=n,this.breakOffsetsVisibleColumn=i,this.wrappedTextIndentLength=s}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(e){return e>0?this.wrappedTextIndentLength:0}getLineLength(e){const t=e>0?this.breakOffsets[e-1]:0,n=this.breakOffsets[e];let i=n-t;return e>0&&(i+=this.wrappedTextIndentLength),i}getMaxOutputOffset(e){return this.getLineLength(e)}translateToInputOffset(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));const n=0===e?t:this.breakOffsets[e-1]+t;let i=n;if(null!==this.injectionOffsets)for(let s=0;s<this.injectionOffsets.length;s++){if(!(i>this.injectionOffsets[s]))break;i<this.injectionOffsets[s]+this.injectionOptions[s].content.length?i=this.injectionOffsets[s]:i-=this.injectionOptions[s].content.length}return i}translateToOutputPosition(e,t=2){let n=e;if(null!==this.injectionOffsets)for(let i=0;i<this.injectionOffsets.length;i++){if(e<this.injectionOffsets[i])break;if(1!==t&&e===this.injectionOffsets[i])break;n+=this.injectionOptions[i].content.length}return this.offsetInInputWithInjectionsToOutputPosition(n,t)}offsetInInputWithInjectionsToOutputPosition(e,t=2){let n=0,i=this.breakOffsets.length-1,s=0,r=0;while(n<=i){s=n+(i-n)/2|0;const o=this.breakOffsets[s];if(r=s>0?this.breakOffsets[s-1]:0,0===t)if(e<=r)i=s-1;else{if(!(e>o))break;n=s+1}else if(e<r)i=s-1;else{if(!(e>=o))break;n=s+1}}let o=e-r;return s>0&&(o+=this.wrappedTextIndentLength),new h(s,o)}normalizeOutputPosition(e,t,n){if(null!==this.injectionOffsets){const i=this.outputPositionToOffsetInInputWithInjections(e,t),s=this.normalizeOffsetInInputWithInjectionsAroundInjections(i,n);if(s!==i)return this.offsetInInputWithInjectionsToOutputPosition(s,n)}if(0===n){if(e>0&&t===this.getMinOutputOffset(e))return new h(e-1,this.getMaxOutputOffset(e-1))}else if(1===n){const n=this.getOutputLineCount()-1;if(e<n&&t===this.getMaxOutputOffset(e))return new h(e+1,this.getMinOutputOffset(e+1))}return new h(e,t)}outputPositionToOffsetInInputWithInjections(e,t){e>0&&(t=Math.max(0,t-this.wrappedTextIndentLength));const n=(e>0?this.breakOffsets[e-1]:0)+t;return n}normalizeOffsetInInputWithInjectionsAroundInjections(e,t){const n=this.getInjectedTextAtOffset(e);if(!n)return e;if(2===t){if(e===n.offsetInInputWithInjections+n.length&&a(this.injectionOptions[n.injectedTextIndex].cursorStops))return n.offsetInInputWithInjections+n.length;{let e=n.offsetInInputWithInjections;if(l(this.injectionOptions[n.injectedTextIndex].cursorStops))return e;let t=n.injectedTextIndex-1;while(t>=0&&this.injectionOffsets[t]===this.injectionOffsets[n.injectedTextIndex]){if(a(this.injectionOptions[t].cursorStops))break;if(e-=this.injectionOptions[t].content.length,l(this.injectionOptions[t].cursorStops))break;t--}return e}}if(1===t||4===t){let e=n.offsetInInputWithInjections+n.length,t=n.injectedTextIndex;while(t+1<this.injectionOffsets.length&&this.injectionOffsets[t+1]===this.injectionOffsets[t])e+=this.injectionOptions[t+1].content.length,t++;return e}if(0===t||3===t){let e=n.offsetInInputWithInjections,t=n.injectedTextIndex;while(t-1>=0&&this.injectionOffsets[t-1]===this.injectionOffsets[t])e-=this.injectionOptions[t-1].content.length,t--;return e}(0,i.vE)(t)}getInjectedText(e,t){const n=this.outputPositionToOffsetInInputWithInjections(e,t),i=this.getInjectedTextAtOffset(n);return i?{options:this.injectionOptions[i.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,n=this.injectionOptions;if(null!==t){let i=0;for(let s=0;s<t.length;s++){const r=n[s].content.length,o=t[s]+i,a=t[s]+i+r;if(o>e)break;if(e<=a)return{injectedTextIndex:s,offsetInInputWithInjections:o,length:r};i+=r}}}}function a(e){return null===e||void 0===e||(e===r.RM.Right||e===r.RM.Both)}function l(e){return null===e||void 0===e||(e===r.RM.Left||e===r.RM.Both)}class h{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e){return new s.L(e+this.outputLineIndex,this.outputOffset+1)}}},53087:(e,t,n)=>{n.d(t,{Q:()=>_});var i=n(21921),s=n(11271),r=n(70959),o=n(33162),a=n(64371),l=n(37758),h=n(96821),u=n(2371),c=n(18594),d=n(25624),g=n(38219),f=n(28068),m=n(754),p=n(81452);class C extends r.JT{didLanguageChange(e){return this.brackets.didLanguageChange(e)}constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new s.Q5,this.denseKeyProvider=new f.FE,this.brackets=new c.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],e.tokenization.hasTokens)2===e.tokenization.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const e=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),t=new m.g(this.textModel.getValue(),e);this.initialAstWithoutTokens=(0,g.w)(t,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(2===this.textModel.tokenization.backgroundTokenizationState){const e=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:e}){const t=e.map((e=>new u.Q((0,d.Hg)(e.fromLineNumber-1,0),(0,d.Hg)(e.toLineNumber,0),(0,d.Hg)(e.toLineNumber-e.fromLineNumber+1,0))));this.handleEdits(t,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){const t=u.Q.fromModelContentChanges(e.changes);this.handleEdits(t,!1)}handleEdits(e,t){const n=(0,p.o)(this.queuedTextEdits,e);this.queuedTextEdits=n,this.initialAstWithoutTokens&&!t&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,p.o)(this.queuedTextEditsForInitialAstWithoutTokens,e))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(e,t,n){const i=!1,s=i?null===t||void 0===t?void 0:t.deepClone():t,r=new m.xH(this.textModel,this.brackets),o=(0,g.w)(r,e,s,n);return o}getBracketsInRange(e,t){this.flushQueue();const n=(0,d.Hg)(e.startLineNumber-1,e.startColumn-1),s=(0,d.Hg)(e.endLineNumber-1,e.endColumn-1);return new i.W$((e=>{const i=this.initialAstWithoutTokens||this.astWithTokens;w(i,d.xl,i.length,n,s,e,0,0,new Map,t)}))}getBracketPairsInRange(e,t){this.flushQueue();const n=(0,d.PZ)(e.getStartPosition()),s=(0,d.PZ)(e.getEndPosition());return new i.W$((e=>{const i=this.initialAstWithoutTokens||this.astWithTokens,r=new v(e,t,this.textModel);I(i,d.xl,i.length,n,s,r,0,new Map)}))}getFirstBracketAfter(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return b(t,d.xl,t.length,(0,d.PZ)(e))}getFirstBracketBefore(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return k(t,d.xl,t.length,(0,d.PZ)(e))}}function k(e,t,n,i){if(4===e.kind||2===e.kind){const s=[];for(const i of e.children)n=(0,d.Ii)(t,i.length),s.push({nodeOffsetStart:t,nodeOffsetEnd:n}),t=n;for(let t=s.length-1;t>=0;t--){const{nodeOffsetStart:n,nodeOffsetEnd:r}=s[t];if((0,d.VR)(n,i)){const s=k(e.children[t],n,r,i);if(s)return s}}return null}if(3===e.kind)return null;if(1===e.kind){const i=(0,d.Qw)(t,n);return{bracketInfo:e.bracketInfo,range:i}}return null}function b(e,t,n,i){if(4===e.kind||2===e.kind){for(const s of e.children){if(n=(0,d.Ii)(t,s.length),(0,d.VR)(i,n)){const e=b(s,t,n,i);if(e)return e}t=n}return null}if(3===e.kind)return null;if(1===e.kind){const i=(0,d.Qw)(t,n);return{bracketInfo:e.bracketInfo,range:i}}return null}function w(e,t,n,i,s,r,o,a,l,u,c=!1){if(o>200)return!0;e:while(1)switch(e.kind){case 4:{const a=e.childrenLength;for(let h=0;h<a;h++){const a=e.getChild(h);if(a){if(n=(0,d.Ii)(t,a.length),(0,d.By)(t,s)&&(0,d.Zq)(n,i)){const h=(0,d.Zq)(n,s);if(h){e=a;continue e}const c=w(a,t,n,i,s,r,o,0,l,u);if(!c)return!1}t=n}}return!0}case 2:{const h=!u||!e.closingBracket||e.closingBracket.bracketInfo.closesColorized(e.openingBracket.bracketInfo);let c=0;if(l){let t=l.get(e.openingBracket.text);void 0===t&&(t=0),c=t,h&&(t++,l.set(e.openingBracket.text,t))}const g=e.childrenLength;for(let f=0;f<g;f++){const g=e.getChild(f);if(g){if(n=(0,d.Ii)(t,g.length),(0,d.By)(t,s)&&(0,d.Zq)(n,i)){const f=(0,d.Zq)(n,s);if(f&&1!==g.kind){e=g,h?(o++,a=c+1):a=c;continue e}if(h||1!==g.kind||!e.closingBracket){const a=w(g,t,n,i,s,r,h?o+1:o,h?c+1:c,l,u,!e.closingBracket);if(!a)return!1}}t=n}}return null===l||void 0===l||l.set(e.openingBracket.text,c),!0}case 3:{const e=(0,d.Qw)(t,n);return r(new h.M$(e,o-1,0,!0))}case 1:{const e=(0,d.Qw)(t,n);return r(new h.M$(e,o-1,a-1,c))}case 0:return!0}}class v{constructor(e,t,n){this.push=e,this.includeMinIndentation=t,this.textModel=n}}function I(e,t,n,i,s,r,o,a){var l;if(o>200)return!0;let u=!0;if(2===e.kind){let c=0;if(a){let t=a.get(e.openingBracket.text);void 0===t&&(t=0),c=t,t++,a.set(e.openingBracket.text,t)}const g=(0,d.Ii)(t,e.openingBracket.length);let f=-1;if(r.includeMinIndentation&&(f=e.computeMinIndentation(t,r.textModel)),u=r.push(new h.YA((0,d.Qw)(t,n),(0,d.Qw)(t,g),e.closingBracket?(0,d.Qw)((0,d.Ii)(g,(null===(l=e.child)||void 0===l?void 0:l.length)||d.xl),n):void 0,o,c,e,f)),t=g,u&&e.child){const l=e.child;if(n=(0,d.Ii)(t,l.length),(0,d.By)(t,s)&&(0,d.Zq)(n,i)&&(u=I(l,t,n,i,s,r,o+1,a),!u))return!1}null===a||void 0===a||a.set(e.openingBracket.text,c)}else{let n=t;for(const t of e.children){const e=n;if(n=(0,d.Ii)(n,t.length),(0,d.By)(e,s)&&(0,d.By)(i,n)&&(u=I(t,e,n,i,s,r,o,a),!u))return!1}}return u}class _ extends r.JT{get canBuildAST(){const e=5e6;return this.textModel.getValueLength()<=e}constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new r.XK),this.onDidChangeEmitter=new s.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange((e=>{var t;e.languageId&&!(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.didLanguageChange(e.languageId))||(this.bracketPairsTree.clear(),this.updateBracketPairsTree())})))}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){var t;null===(t=this.bracketPairsTree.value)||void 0===t||t.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){var e;null===(e=this.bracketPairsTree.value)||void 0===e||e.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){var t;null===(t=this.bracketPairsTree.value)||void 0===t||t.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const e=new r.SL;this.bracketPairsTree.value=x(e.add(new C(this.textModel,(e=>this.languageConfigurationService.getLanguageConfiguration(e)))),e),e.add(this.bracketPairsTree.value.object.onDidChange((e=>this.onDidChangeEmitter.fire(e)))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!1))||i.W$.empty}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getBracketPairsInRange(e,!0))||i.W$.empty}getBracketsInRange(e,t=!1){var n;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(n=this.bracketPairsTree.value)||void 0===n?void 0:n.object.getBracketsInRange(e,t))||i.W$.empty}findMatchingBracketUp(e,t,n){const i=this.textModel.validatePosition(t),s=this.textModel.getLanguageIdAtPosition(i.lineNumber,i.column);if(this.canBuildAST){const n=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew.getClosingBracketInfo(e);if(!n)return null;const i=this.getBracketPairsInRange(o.e.fromPositions(t,t)).findLast((e=>n.closes(e.openingBracketInfo)));return i?i.openingBracketRange:null}{const t=e.toLowerCase(),r=this.languageConfigurationService.getLanguageConfiguration(s).brackets;if(!r)return null;const o=r.textIsBracket[t];return o?E(this._findMatchingBracketUp(o,i,L(n))):null}}matchBracket(e,t){if(this.canBuildAST){const t=this.getBracketPairsInRange(o.e.fromPositions(e,e)).filter((t=>void 0!==t.closingBracketRange&&(t.openingBracketRange.containsPosition(e)||t.closingBracketRange.containsPosition(e)))).findLastMaxBy((0,i.tT)((t=>t.openingBracketRange.containsPosition(e)?t.openingBracketRange:t.closingBracketRange),o.e.compareRangesUsingStarts));return t?[t.openingBracketRange,t.closingBracketRange]:null}{const n=L(t);return this._matchBracket(this.textModel.validatePosition(e),n)}}_establishBracketSearchOffsets(e,t,n,i){const s=t.getCount(),r=t.getLanguageId(i);let o=Math.max(0,e.column-1-n.maxBracketLength);for(let h=i-1;h>=0;h--){const e=t.getEndOffset(h);if(e<=o)break;if((0,a.Bu)(t.getStandardTokenType(h))||t.getLanguageId(h)!==r){o=e;break}}let l=Math.min(t.getLineContent().length,e.column-1+n.maxBracketLength);for(let h=i+1;h<s;h++){const e=t.getStartOffset(h);if(e>=l)break;if((0,a.Bu)(t.getStandardTokenType(h))||t.getLanguageId(h)!==r){l=e;break}}return{searchStartOffset:o,searchEndOffset:l}}_matchBracket(e,t){const n=e.lineNumber,i=this.textModel.tokenization.getLineTokens(n),s=this.textModel.getLineContent(n),r=i.findTokenIndexAtOffset(e.column-1);if(r<0)return null;const o=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId(r)).brackets;if(o&&!(0,a.Bu)(i.getStandardTokenType(r))){let{searchStartOffset:a,searchEndOffset:h}=this._establishBracketSearchOffsets(e,i,o,r),u=null;while(1){const i=l.Vr.findNextBracketInRange(o.forwardRegex,n,s,a,h);if(!i)break;if(i.startColumn<=e.column&&e.column<=i.endColumn){const e=s.substring(i.startColumn-1,i.endColumn-1).toLowerCase(),n=this._matchFoundBracket(i,o.textIsBracket[e],o.textIsOpenBracket[e],t);if(n){if(n instanceof S)return null;u=n}}a=i.endColumn-1}if(u)return u}if(r>0&&i.getStartOffset(r)===e.column-1){const o=r-1,h=this.languageConfigurationService.getLanguageConfiguration(i.getLanguageId(o)).brackets;if(h&&!(0,a.Bu)(i.getStandardTokenType(o))){const{searchStartOffset:r,searchEndOffset:a}=this._establishBracketSearchOffsets(e,i,h,o),u=l.Vr.findPrevBracketInRange(h.reversedRegex,n,s,r,a);if(u&&u.startColumn<=e.column&&e.column<=u.endColumn){const e=s.substring(u.startColumn-1,u.endColumn-1).toLowerCase(),n=this._matchFoundBracket(u,h.textIsBracket[e],h.textIsOpenBracket[e],t);if(n)return n instanceof S?null:n}}}return null}_matchFoundBracket(e,t,n,i){if(!t)return null;const s=n?this._findMatchingBracketDown(t,e.getEndPosition(),i):this._findMatchingBracketUp(t,e.getStartPosition(),i);return s?s instanceof S?s:[e,s]:null}_findMatchingBracketUp(e,t,n){const i=e.languageId,s=e.reversedRegex;let r=-1,o=0;const h=(t,i,a,h)=>{while(1){if(n&&++o%100===0&&!n())return S.INSTANCE;const u=l.Vr.findPrevBracketInRange(s,t,i,a,h);if(!u)break;const c=i.substring(u.startColumn-1,u.endColumn-1).toLowerCase();if(e.isOpen(c)?r++:e.isClose(c)&&r--,0===r)return u;h=u.startColumn-1}return null};for(let l=t.lineNumber;l>=1;l--){const e=this.textModel.tokenization.getLineTokens(l),n=e.getCount(),s=this.textModel.getLineContent(l);let r=n-1,o=s.length,u=s.length;l===t.lineNumber&&(r=e.findTokenIndexAtOffset(t.column-1),o=t.column-1,u=t.column-1);let c=!0;for(;r>=0;r--){const t=e.getLanguageId(r)===i&&!(0,a.Bu)(e.getStandardTokenType(r));if(t)c?o=e.getStartOffset(r):(o=e.getStartOffset(r),u=e.getEndOffset(r));else if(c&&o!==u){const e=h(l,s,o,u);if(e)return e}c=t}if(c&&o!==u){const e=h(l,s,o,u);if(e)return e}}return null}_findMatchingBracketDown(e,t,n){const i=e.languageId,s=e.forwardRegex;let r=1,o=0;const h=(t,i,a,h)=>{while(1){if(n&&++o%100===0&&!n())return S.INSTANCE;const u=l.Vr.findNextBracketInRange(s,t,i,a,h);if(!u)break;const c=i.substring(u.startColumn-1,u.endColumn-1).toLowerCase();if(e.isOpen(c)?r++:e.isClose(c)&&r--,0===r)return u;a=u.endColumn-1}return null},u=this.textModel.getLineCount();for(let l=t.lineNumber;l<=u;l++){const e=this.textModel.tokenization.getLineTokens(l),n=e.getCount(),s=this.textModel.getLineContent(l);let r=0,o=0,u=0;l===t.lineNumber&&(r=e.findTokenIndexAtOffset(t.column-1),o=t.column-1,u=t.column-1);let c=!0;for(;r<n;r++){const t=e.getLanguageId(r)===i&&!(0,a.Bu)(e.getStandardTokenType(r));if(t)c||(o=e.getStartOffset(r)),u=e.getEndOffset(r);else if(c&&o!==u){const e=h(l,s,o,u);if(e)return e}c=t}if(c&&o!==u){const e=h(l,s,o,u);if(e)return e}}return null}findPrevBracket(e){var t;const n=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getFirstBracketBefore(n))||null;let i=null,s=null,r=null;for(let o=n.lineNumber;o>=1;o--){const e=this.textModel.tokenization.getLineTokens(o),t=e.getCount(),h=this.textModel.getLineContent(o);let u=t-1,c=h.length,d=h.length;if(o===n.lineNumber){u=e.findTokenIndexAtOffset(n.column-1),c=n.column-1,d=n.column-1;const t=e.getLanguageId(u);i!==t&&(i=t,s=this.languageConfigurationService.getLanguageConfiguration(i).brackets,r=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew)}let g=!0;for(;u>=0;u--){const t=e.getLanguageId(u);if(i!==t){if(s&&r&&g&&c!==d){const e=l.Vr.findPrevBracketInRange(s.reversedRegex,o,h,c,d);if(e)return this._toFoundBracket(r,e);g=!1}i=t,s=this.languageConfigurationService.getLanguageConfiguration(i).brackets,r=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew}const n=!!s&&!(0,a.Bu)(e.getStandardTokenType(u));if(n)g?c=e.getStartOffset(u):(c=e.getStartOffset(u),d=e.getEndOffset(u));else if(r&&s&&g&&c!==d){const e=l.Vr.findPrevBracketInRange(s.reversedRegex,o,h,c,d);if(e)return this._toFoundBracket(r,e)}g=n}if(r&&s&&g&&c!==d){const e=l.Vr.findPrevBracketInRange(s.reversedRegex,o,h,c,d);if(e)return this._toFoundBracket(r,e)}}return null}findNextBracket(e){var t;const n=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(t=this.bracketPairsTree.value)||void 0===t?void 0:t.object.getFirstBracketAfter(n))||null;const i=this.textModel.getLineCount();let s=null,r=null,o=null;for(let h=n.lineNumber;h<=i;h++){const e=this.textModel.tokenization.getLineTokens(h),t=e.getCount(),i=this.textModel.getLineContent(h);let u=0,c=0,d=0;if(h===n.lineNumber){u=e.findTokenIndexAtOffset(n.column-1),c=n.column-1,d=n.column-1;const t=e.getLanguageId(u);s!==t&&(s=t,r=this.languageConfigurationService.getLanguageConfiguration(s).brackets,o=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew)}let g=!0;for(;u<t;u++){const t=e.getLanguageId(u);if(s!==t){if(o&&r&&g&&c!==d){const e=l.Vr.findNextBracketInRange(r.forwardRegex,h,i,c,d);if(e)return this._toFoundBracket(o,e);g=!1}s=t,r=this.languageConfigurationService.getLanguageConfiguration(s).brackets,o=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew}const n=!!r&&!(0,a.Bu)(e.getStandardTokenType(u));if(n)g||(c=e.getStartOffset(u)),d=e.getEndOffset(u);else if(o&&r&&g&&c!==d){const e=l.Vr.findNextBracketInRange(r.forwardRegex,h,i,c,d);if(e)return this._toFoundBracket(o,e)}g=n}if(o&&r&&g&&c!==d){const e=l.Vr.findNextBracketInRange(r.forwardRegex,h,i,c,d);if(e)return this._toFoundBracket(o,e)}}return null}findEnclosingBrackets(e,t){const n=this.textModel.validatePosition(e);if(this.canBuildAST){const e=o.e.fromPositions(n),t=this.getBracketPairsInRange(o.e.fromPositions(n,n)).findLast((t=>void 0!==t.closingBracketRange&&t.range.strictContainsRange(e)));return t?[t.openingBracketRange,t.closingBracketRange]:null}const i=L(t),s=this.textModel.getLineCount(),r=new Map;let h=[];const u=(e,t)=>{if(!r.has(e)){const n=[];for(let e=0,i=t?t.brackets.length:0;e<i;e++)n[e]=0;r.set(e,n)}h=r.get(e)};let c=0;const d=(e,t,n,s,r)=>{while(1){if(i&&++c%100===0&&!i())return S.INSTANCE;const o=l.Vr.findNextBracketInRange(e.forwardRegex,t,n,s,r);if(!o)break;const a=n.substring(o.startColumn-1,o.endColumn-1).toLowerCase(),u=e.textIsBracket[a];if(u&&(u.isOpen(a)?h[u.index]++:u.isClose(a)&&h[u.index]--,-1===h[u.index]))return this._matchFoundBracket(o,u,!1,i);s=o.endColumn-1}return null};let g=null,f=null;for(let o=n.lineNumber;o<=s;o++){const e=this.textModel.tokenization.getLineTokens(o),t=e.getCount(),i=this.textModel.getLineContent(o);let s=0,r=0,l=0;if(o===n.lineNumber){s=e.findTokenIndexAtOffset(n.column-1),r=n.column-1,l=n.column-1;const t=e.getLanguageId(s);g!==t&&(g=t,f=this.languageConfigurationService.getLanguageConfiguration(g).brackets,u(g,f))}let h=!0;for(;s<t;s++){const t=e.getLanguageId(s);if(g!==t){if(f&&h&&r!==l){const e=d(f,o,i,r,l);if(e)return E(e);h=!1}g=t,f=this.languageConfigurationService.getLanguageConfiguration(g).brackets,u(g,f)}const n=!!f&&!(0,a.Bu)(e.getStandardTokenType(s));if(n)h||(r=e.getStartOffset(s)),l=e.getEndOffset(s);else if(f&&h&&r!==l){const e=d(f,o,i,r,l);if(e)return E(e)}h=n}if(f&&h&&r!==l){const e=d(f,o,i,r,l);if(e)return E(e)}}return null}_toFoundBracket(e,t){if(!t)return null;let n=this.textModel.getValueInRange(t);n=n.toLowerCase();const i=e.getBracketInfo(n);return i?{range:t,bracketInfo:i}:null}}function x(e,t){return{object:e,dispose:()=>null===t||void 0===t?void 0:t.dispose()}}function L(e){if("undefined"===typeof e)return()=>!0;{const t=Date.now();return()=>Date.now()-t<=e}}class S{constructor(){this._searchCanceledBrand=void 0}}function E(e){return e instanceof S?null:e}S.INSTANCE=new S},52454:(e,t,n)=>{n.d(t,{BH:()=>p,Dm:()=>k,Kd:()=>l,Y0:()=>h,n2:()=>C});var i=n(98642),s=n(16779),r=n(25624),o=n(28068);class a{get length(){return this._length}constructor(e){this._length=e}}class l extends a{static create(e,t,n){let i=e.length;return t&&(i=(0,r.Ii)(i,t.length)),n&&(i=(0,r.Ii)(i,n.length)),new l(i,e,t,n,t?t.missingOpeningBracketIds:o.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=[];return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}constructor(e,t,n,i,s){super(e),this.openingBracket=t,this.child=n,this.closingBracket=i,this.missingOpeningBracketIds=s}canBeReused(e){return null!==this.closingBracket&&!e.intersects(this.missingOpeningBracketIds)}deepClone(){return new l(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation((0,r.Ii)(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class h extends a{static create23(e,t,n,i=!1){let s=e.length,o=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(s=(0,r.Ii)(s,t.length),o=o.merge(t.missingOpeningBracketIds),n){if(e.listHeight!==n.listHeight)throw new Error("Invalid list heights");s=(0,r.Ii)(s,n.length),o=o.merge(n.missingOpeningBracketIds)}return i?new c(s,e.listHeight+1,e,t,n,o):new u(s,e.listHeight+1,e,t,n,o)}static getEmpty(){return new g(r.xl,0,[],o.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(e,t,n){super(e),this.listHeight=t,this._missingOpeningBracketIds=n,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(0===e)return;const t=this.getChild(e-1),n=4===t.kind?t.toMutable():t;return t!==n&&this.setChild(e-1,n),n}makeFirstElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(0===e)return;const t=this.getChild(0),n=4===t.kind?t.toMutable():t;return t!==n&&this.setChild(0,n),n}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds))return!1;if(0===this.childrenLength)return!1;let t=this;while(4===t.kind){const e=t.childrenLength;if(0===e)throw new i.he;t=t.getChild(e-1)}return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,n=this.getChild(0).missingOpeningBracketIds;for(let i=1;i<e;i++){const e=this.getChild(i);t=(0,r.Ii)(t,e.length),n=n.merge(e.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=n,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let n=Number.MAX_SAFE_INTEGER,i=e;for(let s=0;s<this.childrenLength;s++){const e=this.getChild(s);e&&(n=Math.min(n,e.computeMinIndentation(i,t)),i=(0,r.Ii)(i,e.length))}return this.cachedMinIndentation=n,n}}class u extends h{get childrenLength(){return null!==this._item3?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:return void(this._item1=t);case 1:return void(this._item2=t);case 2:return void(this._item3=t)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(e,t,n,i,s,r){super(e,t,r),this._item1=n,this._item2=i,this._item3=s}deepClone(){return new u(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class c extends u{toMutable(){return new u(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class d extends h{get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}constructor(e,t,n,i){super(e,t,i),this._children=n}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new d(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class g extends d{toMutable(){return new d(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const f=[];class m extends a{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return f}deepClone(){return this}}class p extends m{get kind(){return 0}get missingOpeningBracketIds(){return o.tS.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const n=(0,r.Hw)(e),i=(0===n.columnCount?n.lineCount:n.lineCount+1)+1,o=(0,r.W9)((0,r.Ii)(e,this.length))+1;let a=Number.MAX_SAFE_INTEGER;for(let r=i;r<=o;r++){const e=t.getLineFirstNonWhitespaceColumn(r),n=t.getLineContent(r);if(0===e)continue;const i=s.i.visibleColumnFromColumn(n,e,t.getOptions().tabSize);a=Math.min(a,i)}return a}}class C extends m{static create(e,t,n){const i=new C(e,t,n);return i}get kind(){return 1}get missingOpeningBracketIds(){return o.tS.getEmpty()}constructor(e,t,n){super(e),this.bracketInfo=t,this.bracketIds=n}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class k extends m{get kind(){return 3}constructor(e,t){super(t),this.missingOpeningBracketIds=e}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}},2371:(e,t,n)=>{n.d(t,{Q:()=>r,Y:()=>o});var i=n(33162),s=n(25624);class r{static fromModelContentChanges(e){const t=e.map((e=>{const t=i.e.lift(e.range);return new r((0,s.PZ)(t.getStartPosition()),(0,s.PZ)(t.getEndPosition()),(0,s.oR)(e.text))})).reverse();return t}constructor(e,t,n){this.startOffset=e,this.endOffset=t,this.newLength=n}toString(){return`[${(0,s.Hw)(this.startOffset)}...${(0,s.Hw)(this.endOffset)}) -> ${(0,s.Hw)(this.newLength)}`}}class o{constructor(e){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map((e=>a.from(e)))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],n=t?this.translateOldToCur(t.offsetObj):null;return null===n?null:(0,s.BE)(e,n)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?(0,s.Hg)(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):(0,s.Hg)(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=(0,s.Hw)(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,s.Hg)(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):(0,s.Hg)(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){while(this.nextEditIdx<this.edits.length){const t=this.edits[this.nextEditIdx],n=this.translateOldToCur(t.endOffsetAfterObj);if(!(0,s.By)(n,e))break;{this.nextEditIdx++;const e=(0,s.Hw)(n),i=(0,s.Hw)(this.translateOldToCur(t.endOffsetBeforeObj)),r=e.lineCount-i.lineCount;this.deltaOldToNewLineCount+=r;const o=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,a=e.columnCount-i.columnCount;this.deltaOldToNewColumnCount=o+a,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}}}}class a{static from(e){return new a(e.startOffset,e.endOffset,e.newLength)}constructor(e,t,n){this.endOffsetBeforeObj=(0,s.Hw)(t),this.endOffsetAfterObj=(0,s.Hw)((0,s.Ii)(e,n)),this.offsetObj=(0,s.Hw)(e)}}},18594:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(61720),s=n(52454),r=n(25624),o=n(28068),a=n(754);class l{static createFromLanguage(e,t){function n(e){return t.getKey(`${e.languageId}:::${e.bracketText}`)}const i=new Map;for(const l of e.bracketsNew.openingBrackets){const e=(0,r.Hg)(0,l.bracketText.length),t=n(l),h=o.tS.getEmpty().add(t,o.Qw);i.set(l.bracketText,new a.WU(e,1,t,h,s.n2.create(e,l,h)))}for(const l of e.bracketsNew.closingBrackets){const e=(0,r.Hg)(0,l.bracketText.length);let t=o.tS.getEmpty();const h=l.getOpeningBrackets();for(const i of h)t=t.add(n(i),o.Qw);i.set(l.bracketText,new a.WU(e,2,n(h[0]),t,s.n2.create(e,l,t)))}return new l(i)}constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map((e=>h(e))).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(const[t,n]of this.map)if(2===n.kind&&n.bracketIds.intersects(e))return t}get isEmpty(){return 0===this.map.size}}function h(e){let t=(0,i.ec)(e);return/^[\w ]+/.test(e)&&(t=`\\b${t}`),/[\w ]+$/.test(e)&&(t=`${t}\\b`),t}class u{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=l.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}},81452:(e,t,n)=>{n.d(t,{o:()=>o});var i=n(21921),s=n(2371),r=n(25624);function o(e,t){if(0===e.length)return t;if(0===t.length)return e;const n=new i.H9(l(e)),o=l(t);o.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let h=n.dequeue();function u(e){if(void 0===e){const e=n.takeWhile((e=>!0))||[];return h&&e.unshift(h),e}const t=[];while(h&&!(0,r.xd)(e)){const[i,s]=h.splitAt(e);t.push(i),e=(0,r.BE)(i.lengthAfter,e),h=null!==s&&void 0!==s?s:n.dequeue()}return(0,r.xd)(e)||t.push(new a(!1,e,e)),t}const c=[];function d(e,t,n){if(c.length>0&&(0,r.rM)(c[c.length-1].endOffset,e)){const e=c[c.length-1];c[c.length-1]=new s.Q(e.startOffset,t,(0,r.Ii)(e.newLength,n))}else c.push({startOffset:e,endOffset:t,newLength:n})}let g=r.xl;for(const i of o){const e=u(i.lengthBefore);if(i.modified){const t=(0,r.tQ)(e,(e=>e.lengthBefore)),n=(0,r.Ii)(g,t);d(g,n,i.lengthAfter),g=n}else for(const t of e){const e=g;g=(0,r.Ii)(g,t.lengthBefore),t.modified&&d(e,g,t.lengthAfter)}}return c}class a{constructor(e,t,n){this.modified=e,this.lengthBefore=t,this.lengthAfter=n}splitAt(e){const t=(0,r.BE)(e,this.lengthAfter);return(0,r.rM)(t,r.xl)?[this,void 0]:this.modified?[new a(this.modified,this.lengthBefore,e),new a(this.modified,r.xl,t)]:[new a(this.modified,e,e),new a(this.modified,t,t)]}toString(){return`${this.modified?"M":"U"}:${(0,r.Hw)(this.lengthBefore)} -> ${(0,r.Hw)(this.lengthAfter)}`}}function l(e){const t=[];let n=r.xl;for(const i of e){const e=(0,r.BE)(n,i.startOffset);(0,r.xd)(e)||t.push(new a(!1,e,e));const s=(0,r.BE)(i.startOffset,i.endOffset);t.push(new a(!0,s,i.newLength)),n=i.endOffset}return t}},25624:(e,t,n)=>{n.d(t,{BE:()=>k,By:()=>w,F_:()=>f,Hg:()=>c,Hw:()=>d,Ii:()=>m,PZ:()=>_,Qw:()=>x,Uv:()=>L,VR:()=>b,W9:()=>g,Zq:()=>v,av:()=>a,bP:()=>I,oR:()=>S,rM:()=>C,tQ:()=>p,xd:()=>h,xl:()=>l});var i=n(61720),s=n(89999),r=n(33162);class o{constructor(e,t){this.lineCount=e,this.columnCount=t}toLength(){return c(this.lineCount,this.columnCount)}toString(){return`${this.lineCount},${this.columnCount}`}}function a(e,t,n,i){return e!==n?c(n-e,i):c(0,i-t)}o.zero=new o(0,0);const l=0;function h(e){return 0===e}const u=Math.pow(2,26);function c(e,t){return e*u+t}function d(e){const t=e,n=Math.floor(t/u),i=t-n*u;return new o(n,i)}function g(e){return Math.floor(e/u)}function f(e){return e}function m(e,t){let n=e+t;return t>=u&&(n-=e%u),n}function p(e,t){return e.reduce(((e,n)=>m(e,t(n))),l)}function C(e,t){return e===t}function k(e,t){const n=e,i=t,s=i-n;if(s<=0)return l;const r=Math.floor(n/u),o=Math.floor(i/u),a=i-o*u;if(r===o){const e=n-r*u;return c(0,a-e)}return c(o-r,a)}function b(e,t){return e<t}function w(e,t){return e<=t}function v(e,t){return e>=t}function I(e){const t=e,n=Math.floor(t/u),i=t-n*u;return new s.L(n+1,i+1)}function _(e){return c(e.lineNumber-1,e.column-1)}function x(e,t){const n=e,i=Math.floor(n/u),s=n-i*u,o=t,a=Math.floor(o/u),l=o-a*u;return new r.e(i+1,s+1,a+1,l+1)}function L(e){return e.startLineNumber===e.endLineNumber?new o(0,e.endColumn-e.startColumn):new o(e.endLineNumber-e.startLineNumber,e.endColumn-1)}function S(e){const t=(0,i.uq)(e);return c(t.length-1,t[t.length-1].length)}},38219:(e,t,n)=>{n.d(t,{w:()=>p});var i=n(52454),s=n(2371),r=n(28068),o=n(25624);function a(e){if(0===e.length)return null;if(1===e.length)return e[0];let t=0;function n(){if(t>=e.length)return null;const n=t,i=e[n].listHeight;t++;while(t<e.length&&e[t].listHeight===i)t++;return t-n>=2?l(0===n&&t===e.length?e:e.slice(n,t),!1):e[n]}let i=n(),s=n();if(!s)return i;for(let o=n();o;o=n())h(i,s)<=h(s,o)?(i=u(i,s),s=o):s=u(s,o);const r=u(i,s);return r}function l(e,t=!1){if(0===e.length)return null;if(1===e.length)return e[0];let n=e.length;while(n>3){const s=n>>1;for(let r=0;r<s;r++){const s=r<<1;e[r]=i.Y0.create23(e[s],e[s+1],s+3===n?e[s+2]:null,t)}n=s}return i.Y0.create23(e[0],e[1],n>=3?e[2]:null,t)}function h(e,t){return Math.abs(e.listHeight-t.listHeight)}function u(e,t){return e.listHeight===t.listHeight?i.Y0.create23(e,t,null,!1):e.listHeight>t.listHeight?c(e,t):d(t,e)}function c(e,t){e=e.toMutable();let n=e;const s=[];let r;while(1){if(t.listHeight===n.listHeight){r=t;break}if(4!==n.kind)throw new Error("unexpected");s.push(n),n=n.makeLastElementMutable()}for(let o=s.length-1;o>=0;o--){const e=s[o];r?e.childrenLength>=3?r=i.Y0.create23(e.unappendChild(),r,null,!1):(e.appendChildOfSameHeight(r),r=void 0):e.handleChildrenChanged()}return r?i.Y0.create23(e,r,null,!1):e}function d(e,t){e=e.toMutable();let n=e;const s=[];while(t.listHeight!==n.listHeight){if(4!==n.kind)throw new Error("unexpected");s.push(n),n=n.makeFirstElementMutable()}let r=t;for(let o=s.length-1;o>=0;o--){const e=s[o];r?e.childrenLength>=3?r=i.Y0.create23(r,e.unprependChild(),null,!1):(e.prependChildOfSameHeight(r),r=void 0):e.handleChildrenChanged()}return r?i.Y0.create23(r,e,null,!1):e}class g{constructor(e){this.lastOffset=o.xl,this.nextNodes=[e],this.offsets=[o.xl],this.idxs=[]}readLongestNodeAt(e,t){if((0,o.VR)(e,this.lastOffset))throw new Error("Invalid offset");this.lastOffset=e;while(1){const n=m(this.nextNodes);if(!n)return;const i=m(this.offsets);if((0,o.VR)(e,i))return;if((0,o.VR)(i,e))if((0,o.Ii)(i,n.length)<=e)this.nextNodeAfterCurrent();else{const e=f(n);-1!==e?(this.nextNodes.push(n.getChild(e)),this.offsets.push(i),this.idxs.push(e)):this.nextNodeAfterCurrent()}else{if(t(n))return this.nextNodeAfterCurrent(),n;{const e=f(n);if(-1===e)return void this.nextNodeAfterCurrent();this.nextNodes.push(n.getChild(e)),this.offsets.push(i),this.idxs.push(e)}}}}nextNodeAfterCurrent(){while(1){const e=m(this.offsets),t=m(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const n=m(this.nextNodes),i=f(n,this.idxs[this.idxs.length-1]);if(-1!==i){this.nextNodes.push(n.getChild(i)),this.offsets.push((0,o.Ii)(e,t.length)),this.idxs[this.idxs.length-1]=i;break}this.idxs.pop()}}}function f(e,t=-1){while(1){if(t++,t>=e.childrenLength)return-1;if(e.getChild(t))return t}}function m(e){return e.length>0?e[e.length-1]:void 0}function p(e,t,n,i){const s=new C(e,t,n,i);return s.parseDocument()}class C{constructor(e,t,n,i){if(this.tokenizer=e,this.createImmutableLists=i,this._itemsConstructed=0,this._itemsFromCache=0,n&&i)throw new Error("Not supported");this.oldNodeReader=n?new g(n):void 0,this.positionMapper=new s.Y(t)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(r.tS.getEmpty(),0);return e||(e=i.Y0.getEmpty()),e}parseList(e,t){const n=[];while(1){let i=this.tryReadChildFromCache(e);if(!i){const n=this.tokenizer.peek();if(!n||2===n.kind&&n.bracketIds.intersects(e))break;i=this.parseChild(e,t+1)}4===i.kind&&0===i.childrenLength||n.push(i)}const i=this.oldNodeReader?a(n):l(n,this.createImmutableLists);return i}tryReadChildFromCache(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(null===t||!(0,o.xd)(t)){const n=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),(n=>{if(null!==t&&!(0,o.VR)(n.length,t))return!1;const i=n.canBeReused(e);return i}));if(n)return this._itemsFromCache++,this.tokenizer.skip(n.length),n}}}parseChild(e,t){this._itemsConstructed++;const n=this.tokenizer.read();switch(n.kind){case 2:return new i.Dm(n.bracketIds,n.length);case 0:return n.astNode;case 1:{if(t>300)return new i.BH(n.length);const s=e.merge(n.bracketIds),r=this.parseList(s,t+1),o=this.tokenizer.peek();return o&&2===o.kind&&(o.bracketId===n.bracketId||o.bracketIds.intersects(n.bracketIds))?(this.tokenizer.read(),i.Kd.create(n.astNode,r,o.astNode)):i.Kd.create(n.astNode,r,null)}default:throw new Error("unexpected")}}}},28068:(e,t,n)=>{n.d(t,{FE:()=>o,Qw:()=>r,tS:()=>s});const i=[];class s{static create(e,t){if(e<=128&&0===t.length){let n=s.cache[e];return n||(n=new s(e,t),s.cache[e]=n),n}return new s(e,t)}static getEmpty(){return this.empty}constructor(e,t){this.items=e,this.additionalItems=t}add(e,t){const n=t.getKey(e);let i=n>>5;if(0===i){const e=1<<n|this.items;return e===this.items?this:s.create(e,this.additionalItems)}i--;const r=this.additionalItems.slice(0);while(r.length<i)r.push(0);return r[i]|=1<<(31&n),s.create(this.items,r)}merge(e){const t=this.items|e.items;if(this.additionalItems===i&&e.additionalItems===i)return t===this.items?this:t===e.items?e:s.create(t,i);const n=[];for(let i=0;i<Math.max(this.additionalItems.length,e.additionalItems.length);i++){const t=this.additionalItems[i]||0,s=e.additionalItems[i]||0;n.push(t|s)}return s.create(t,n)}intersects(e){if(0!==(this.items&e.items))return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(0!==(this.additionalItems[t]&e.additionalItems[t]))return!0;return!1}}s.cache=new Array(129),s.empty=s.create(0,i);const r={getKey(e){return e}};class o{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return void 0===t&&(t=this.items.size,this.items.set(e,t)),t}}},754:(e,t,n)=>{n.d(t,{WU:()=>l,g:()=>c,xH:()=>h});var i=n(98642),s=n(15578),r=n(52454),o=n(25624),a=n(28068);class l{constructor(e,t,n,i,s){this.length=e,this.kind=t,this.bracketId=n,this.bracketIds=i,this.astNode=s}}class h{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new u(this.textModel,this.bracketTokens),this._offset=o.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,o.Hg)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=(0,o.Ii)(this._offset,e);const t=(0,o.Hw)(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=(0,o.Ii)(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class u{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,null!==this.line&&(this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const e=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,o.F_)(e.length),e}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let n=0;while(1){const i=this.lineTokens,r=i.getCount();let a=null;if(this.lineTokenOffset<r){const l=i.getMetadata(this.lineTokenOffset);while(this.lineTokenOffset+1<r&&l===i.getMetadata(this.lineTokenOffset+1))this.lineTokenOffset++;const h=0===s.N.getTokenType(l),u=s.N.containsBalancedBrackets(l),c=i.getEndOffset(this.lineTokenOffset);if(u&&h&&this.lineCharOffset<c){const e=i.getLanguageId(this.lineTokenOffset),t=this.line.substring(this.lineCharOffset,c),n=this.bracketTokens.getSingleLanguageBracketTokens(e),s=n.regExpGlobal;if(s){s.lastIndex=0;const e=s.exec(t);e&&(a=n.getToken(e[0]),a&&(this.lineCharOffset+=e.index))}}if(n+=c-this.lineCharOffset,a){if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=a;break}return this.lineCharOffset+=(0,o.F_)(a.length),a}this.lineTokenOffset++,this.lineCharOffset=c}else{if(this.lineIdx===this.textBufferLineCount-1)break;if(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,n+=33,n>1e3)break}if(n>1500)break}const i=(0,o.av)(e,t,this.lineIdx,this.lineCharOffset);return new l(i,0,-1,a.tS.getEmpty(),new r.BH(i))}}class c{constructor(e,t){this.text=e,this._offset=o.xl,this.idx=0;const n=t.getRegExpStr(),i=n?new RegExp(n+"|\n","gi"):null,s=[];let h,u=0,c=0,d=0,g=0;const f=[];for(let C=0;C<60;C++)f.push(new l((0,o.Hg)(0,C),0,-1,a.tS.getEmpty(),new r.BH((0,o.Hg)(0,C))));const m=[];for(let C=0;C<60;C++)m.push(new l((0,o.Hg)(1,C),0,-1,a.tS.getEmpty(),new r.BH((0,o.Hg)(1,C))));if(i){i.lastIndex=0;while(null!==(h=i.exec(e))){const e=h.index,n=h[0];if("\n"===n)u++,c=e+1;else{if(d!==e){let t;if(g===u){const n=e-d;if(n<f.length)t=f[n];else{const e=(0,o.Hg)(0,n);t=new l(e,0,-1,a.tS.getEmpty(),new r.BH(e))}}else{const n=u-g,i=e-c;if(1===n&&i<m.length)t=m[i];else{const e=(0,o.Hg)(n,i);t=new l(e,0,-1,a.tS.getEmpty(),new r.BH(e))}}s.push(t)}s.push(t.getToken(n)),d=e+n.length,g=u}}}const p=e.length;if(d!==p){const e=g===u?(0,o.Hg)(0,p-d):(0,o.Hg)(u-g,p-c);s.push(new l(e,0,-1,a.tS.getEmpty(),new r.BH(e)))}this.length=(0,o.Hg)(u,p-c),this.tokens=s}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new i.B8}}},86777:(e,t,n)=>{n.d(t,{z:()=>l});var i=n(11271),s=n(70959),r=n(33162),o=n(27193),a=n(32656);class l extends s.JT{constructor(e){super(),this.textModel=e,this.colorProvider=new h,this.onDidChangeEmitter=new i.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange((e=>{this.onDidChangeEmitter.fire()})))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,n,i){if(i)return[];if(void 0===t)return[];if(!this.colorizationOptions.enabled)return[];const s=this.textModel.bracketPairs.getBracketsInRange(e,!0).map((e=>({id:`bracket${e.range.toString()}-${e.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(e,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:e.range}))).toArray();return s}getAllDecorations(e,t){return void 0===e?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new r.e(1,1,this.textModel.getLineCount(),1),e,t):[]}}class h{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return"bracket-highlighting-"+e%30}}(0,a.Ic)(((e,t)=>{const n=[o.zJ,o.Vs,o.CE,o.UP,o.r0,o.m1],i=new h;t.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${e.getColor(o.ts)}; }`);const s=n.map((t=>e.getColor(t))).filter((e=>!!e)).filter((e=>!e.isTransparent()));for(let r=0;r<30;r++){const e=s[r%s.length];t.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(r)} { color: ${e}; }`)}}))},98817:(e,t,n)=>{n.d(t,{r:()=>l});var i=n(18594),s=n(25624),r=n(38219),o=n(28068),a=n(754);function l(e,t){const n=new o.FE,l=new i.Z(n,(e=>t.getLanguageConfiguration(e))),u=new a.xH(new h([e]),l),c=(0,r.w)(u,[],void 0,!0);let d="";const g=e.getLineContent();function f(e,t){if(2===e.kind)if(f(e.openingBracket,t),t=(0,s.Ii)(t,e.openingBracket.length),e.child&&(f(e.child,t),t=(0,s.Ii)(t,e.child.length)),e.closingBracket)f(e.closingBracket,t),t=(0,s.Ii)(t,e.closingBracket.length);else{const t=l.getSingleLanguageBracketTokens(e.openingBracket.languageId),n=t.findClosingTokenText(e.openingBracket.bracketIds);d+=n}else if(3===e.kind);else if(0===e.kind||1===e.kind)d+=g.substring((0,s.F_)(t),(0,s.F_)((0,s.Ii)(t,e.length)));else if(4===e.kind)for(const n of e.children)f(n,t),t=(0,s.Ii)(t,n.length)}return f(c,s.xl),d}class h{constructor(e){this.lines=e,this.tokenization={getLineTokens:e=>this.lines[e-1]}}getLineCount(){return this.lines.length}getLineLength(e){return this.lines[e-1].getLineContent().length}}},22762:(e,t,n)=>{n.d(t,{NL:()=>p,e9:()=>m});var i=n(25206),s=n(98642),r=n(54644),o=n(95896),a=n(8485),l=n(80356),h=n(21230);function u(e){return e.toString()}class c{static create(e,t){const n=e.getAlternativeVersionId(),i=f(e);return new c(n,n,i,i,t,t,[])}constructor(e,t,n,i,s,r,o){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=n,this.afterEOL=i,this.beforeCursorState=s,this.afterCursorState=r,this.changes=o}append(e,t,n,i,s){t.length>0&&(this.changes=(0,a.b)(this.changes,t)),this.afterEOL=n,this.afterVersionId=i,this.afterCursorState=s}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,n){if(l.T4(e,t?t.length:0,n),n+=4,t)for(const i of t)l.T4(e,i.selectionStartLineNumber,n),n+=4,l.T4(e,i.selectionStartColumn,n),n+=4,l.T4(e,i.positionLineNumber,n),n+=4,l.T4(e,i.positionColumn,n),n+=4;return n}static _readSelections(e,t,n){const i=l.Ag(e,t);t+=4;for(let s=0;s<i;s++){const i=l.Ag(e,t);t+=4;const s=l.Ag(e,t);t+=4;const o=l.Ag(e,t);t+=4;const a=l.Ag(e,t);t+=4,n.push(new r.Y(i,s,o,a))}return t}serialize(){let e=10+c._writeSelectionsSize(this.beforeCursorState)+c._writeSelectionsSize(this.afterCursorState)+4;for(const i of this.changes)e+=i.writeSize();const t=new Uint8Array(e);let n=0;l.T4(t,this.beforeVersionId,n),n+=4,l.T4(t,this.afterVersionId,n),n+=4,l.Cg(t,this.beforeEOL,n),n+=1,l.Cg(t,this.afterEOL,n),n+=1,n=c._writeSelections(t,this.beforeCursorState,n),n=c._writeSelections(t,this.afterCursorState,n),l.T4(t,this.changes.length,n),n+=4;for(const i of this.changes)n=i.write(t,n);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let n=0;const i=l.Ag(t,n);n+=4;const s=l.Ag(t,n);n+=4;const r=l.Q$(t,n);n+=1;const o=l.Q$(t,n);n+=1;const h=[];n=c._readSelections(t,n,h);const u=[];n=c._readSelections(t,n,u);const d=l.Ag(t,n);n+=4;const g=[];for(let l=0;l<d;l++)n=a.q.read(t,n,g);return new c(i,s,r,o,h,u,g)}}class d{get type(){return 0}get resource(){return o.o.isUri(this.model)?this.model:this.model.uri}constructor(e,t,n,i){this.label=e,this.code=t,this.model=n,this._data=c.create(n,i)}toString(){const e=this._data instanceof c?this._data:c.deserialize(this._data);return e.changes.map((e=>e.toString())).join(", ")}matchesResource(e){const t=o.o.isUri(this.model)?this.model:this.model.uri;return t.toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof c}append(e,t,n,i,s){this._data instanceof c&&this._data.append(e,t,n,i,s)}close(){this._data instanceof c&&(this._data=this._data.serialize())}open(){this._data instanceof c||(this._data=c.deserialize(this._data))}undo(){if(o.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof c&&(this._data=this._data.serialize());const e=c.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(o.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof c&&(this._data=this._data.serialize());const e=c.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof c&&(this._data=this._data.serialize()),this._data.byteLength+168}}class g{get resources(){return this._editStackElementsArr.map((e=>e.resource))}constructor(e,t,n){this.label=e,this.code=t,this.type=1,this._isOpen=!0,this._editStackElementsArr=n.slice(0),this._editStackElementsMap=new Map;for(const i of this._editStackElementsArr){const e=u(i.resource);this._editStackElementsMap.set(e,i)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=u(e);return this._editStackElementsMap.has(t)}setModel(e){const t=u(o.o.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=u(e.uri);if(this._editStackElementsMap.has(t)){const n=this._editStackElementsMap.get(t);return n.canAppend(e)}return!1}append(e,t,n,i,s){const r=u(e.uri),o=this._editStackElementsMap.get(r);o.append(e,t,n,i,s)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=u(e);if(this._editStackElementsMap.has(t)){const e=this._editStackElementsMap.get(t);return e.heapSize()}return 0}split(){return this._editStackElementsArr}toString(){const e=[];for(const t of this._editStackElementsArr)e.push(`${(0,h.EZ)(t.resource)}: ${t}`);return`{${e.join(", ")}}`}}function f(e){const t=e.getEOL();return"\n"===t?0:1}function m(e){return!!e&&(e instanceof d||e instanceof g)}class p{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);m(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);m(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e,t){const n=this._undoRedoService.getLastElement(this._model.uri);if(m(n)&&n.canAppend(this._model))return n;const s=new d(i.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(s,t),s}pushEOL(e){const t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],f(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,n,i){const s=this._getOrCreateEditStackElement(e,i),r=this._model.applyEdits(t,!0),o=p._computeCursorState(n,r),a=r.map(((e,t)=>({index:t,textChange:e.textChange})));return a.sort(((e,t)=>e.textChange.oldPosition===t.textChange.oldPosition?e.index-t.index:e.textChange.oldPosition-t.textChange.oldPosition)),s.append(this._model,a.map((e=>e.textChange)),f(this._model),this._model.getAlternativeVersionId(),o),o}static _computeCursorState(e,t){try{return e?e(t):null}catch(n){return(0,s.dL)(n),null}}}},61833:(e,t,n)=>{n.d(t,{v:()=>s});var i=n(21921);class s{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){while(e>=this._store.length)this._store[this._store.length]=this._default;this._store[e]=t}replace(e,t,n){if(e>=this._store.length)return;if(0===t)return void this.insert(e,n);if(0===n)return void this.delete(e,t);const i=this._store.slice(0,e),s=this._store.slice(e+t),o=r(n,this._default);this._store=i.concat(o,s)}delete(e,t){0===t||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(0===t||e>=this._store.length)return;const n=[];for(let i=0;i<t;i++)n[i]=this._default;this._store=(0,i.Zv)(this._store,e,n)}}function r(e,t){const n=[];for(let i=0;i<e;i++)n[i]=t;return n}},48902:(e,t,n)=>{n.d(t,{W:()=>d,l:()=>c});var i=n(21921),s=n(61720),r=n(16779),o=n(33162),a=n(202),l=n(83787),h=n(37969),u=n(98642);class c extends a.U{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return(0,l.q)(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,n){this.assertNotDisposed();const i=this.textModel.getLineCount();if(e<1||e>i)throw new u.he("Illegal value for lineNumber");const s=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,r=Boolean(s&&s.offSide);let o=-2,a=-1,l=-2,h=-1;const c=e=>{if(-1!==o&&(-2===o||o>e-1)){o=-1,a=-1;for(let t=e-2;t>=0;t--){const e=this._computeIndentLevel(t);if(e>=0){o=t,a=e;break}}}if(-2===l){l=-1,h=-1;for(let t=e;t<i;t++){const e=this._computeIndentLevel(t);if(e>=0){l=t,h=e;break}}}};let d=-2,g=-1,f=-2,m=-1;const p=e=>{if(-2===d){d=-1,g=-1;for(let t=e-2;t>=0;t--){const e=this._computeIndentLevel(t);if(e>=0){d=t,g=e;break}}}if(-1!==f&&(-2===f||f<e-1)){f=-1,m=-1;for(let t=e;t<i;t++){const e=this._computeIndentLevel(t);if(e>=0){f=t,m=e;break}}}};let C=0,k=!0,b=0,w=!0,v=0,I=0;for(let u=0;k||w;u++){const s=e-u,o=e+u;u>1&&(s<1||s<t)&&(k=!1),u>1&&(o>i||o>n)&&(w=!1),u>5e4&&(k=!1,w=!1);let f=-1;if(k&&s>=1){const e=this._computeIndentLevel(s-1);e>=0?(l=s-1,h=e,f=Math.ceil(e/this.textModel.getOptions().indentSize)):(c(s),f=this._getIndentLevelForWhitespaceLine(r,a,h))}let _=-1;if(w&&o<=i){const e=this._computeIndentLevel(o-1);e>=0?(d=o-1,g=e,_=Math.ceil(e/this.textModel.getOptions().indentSize)):(p(o),_=this._getIndentLevelForWhitespaceLine(r,g,m))}if(0!==u){if(1===u){if(o<=i&&_>=0&&I+1===_){k=!1,C=o,b=o,v=_;continue}if(s>=1&&f>=0&&f-1===I){w=!1,C=s,b=s,v=f;continue}if(C=e,b=e,v=I,0===v)return{startLineNumber:C,endLineNumber:b,indent:v}}k&&(f>=v?C=s:k=!1),w&&(_>=v?b=o:w=!1)}else I=f}return{startLineNumber:C,endLineNumber:b,indent:v}}getLinesBracketGuides(e,t,n,r){var a;const l=[];for(let i=e;i<=t;i++)l.push([]);const u=!0,c=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new o.e(e,1,t,this.textModel.getLineMaxColumn(t))).toArray();let g;if(n&&c.length>0){const s=(e<=n.lineNumber&&n.lineNumber<=t?c:this.textModel.bracketPairs.getBracketPairsInRange(o.e.fromPositions(n)).toArray()).filter((e=>o.e.strictContainsPosition(e.range,n)));g=null===(a=(0,i.dF)(s,(e=>u||e.range.startLineNumber!==e.range.endLineNumber)))||void 0===a?void 0:a.range}const f=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,m=new d;for(const i of c){if(!i.closingBracketRange)continue;const n=g&&i.range.equalsRange(g);if(!n&&!r.includeInactive)continue;const o=m.getInlineClassName(i.nestingLevel,i.nestingLevelOfEqualBracketType,f)+(r.highlightActive&&n?" "+m.activeClassName:""),a=i.openingBracketRange.getStartPosition(),c=i.closingBracketRange.getStartPosition(),d=r.horizontalGuides===h.s6.Enabled||r.horizontalGuides===h.s6.EnabledForActive&&n;if(i.range.startLineNumber===i.range.endLineNumber){u&&d&&l[i.range.startLineNumber-e].push(new h.UO(-1,i.openingBracketRange.getEndPosition().column,o,new h.vW(!1,c.column),-1,-1));continue}const p=this.getVisibleColumnFromPosition(c),C=this.getVisibleColumnFromPosition(i.openingBracketRange.getStartPosition()),k=Math.min(C,p,i.minVisibleColumnIndentation+1);let b=!1;const w=s.LC(this.textModel.getLineContent(i.closingBracketRange.startLineNumber)),v=w<i.closingBracketRange.startColumn-1;v&&(b=!0);const I=Math.max(a.lineNumber,e),_=Math.min(c.lineNumber,t),x=b?1:0;for(let t=I;t<_+x;t++)l[t-e].push(new h.UO(k,-1,o,null,t===a.lineNumber?a.column:-1,t===c.lineNumber?c.column:-1));d&&(a.lineNumber>=e&&C>k&&l[a.lineNumber-e].push(new h.UO(k,-1,o,new h.vW(!1,a.column),-1,-1)),c.lineNumber<=t&&p>k&&l[c.lineNumber-e].push(new h.UO(k,-1,o,new h.vW(!b,c.column),-1,-1)))}for(const i of l)i.sort(((e,t)=>e.visibleColumn-t.visibleColumn));return l}getVisibleColumnFromPosition(e){return r.i.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const n=this.textModel.getLineCount();if(e<1||e>n)throw new Error("Illegal value for startLineNumber");if(t<1||t>n)throw new Error("Illegal value for endLineNumber");const i=this.textModel.getOptions(),s=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,r=Boolean(s&&s.offSide),o=new Array(t-e+1);let a=-2,l=-1,h=-2,u=-1;for(let c=e;c<=t;c++){const t=c-e,s=this._computeIndentLevel(c-1);if(s>=0)a=c-1,l=s,o[t]=Math.ceil(s/i.indentSize);else{if(-2===a){a=-1,l=-1;for(let e=c-2;e>=0;e--){const t=this._computeIndentLevel(e);if(t>=0){a=e,l=t;break}}}if(-1!==h&&(-2===h||h<c-1)){h=-1,u=-1;for(let e=c;e<n;e++){const t=this._computeIndentLevel(e);if(t>=0){h=e,u=t;break}}}o[t]=this._getIndentLevelForWhitespaceLine(r,l,u)}}return o}_getIndentLevelForWhitespaceLine(e,t,n){const i=this.textModel.getOptions();return-1===t||-1===n?0:t<n?1+Math.floor(t/i.indentSize):t===n||e?Math.ceil(n/i.indentSize):1+Math.floor(n/i.indentSize)}}class d{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,n){return this.getInlineClassNameOfLevel(n?t:e)}getInlineClassNameOfLevel(e){return"bracket-indent-guide lvl-"+e%30}}},47176:(e,t,n)=>{n.d(t,{L:()=>r});class i{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function s(e,t,n,i,s){let r;for(s.spacesDiff=0,s.looksLikeAlignment=!1,r=0;r<t&&r<i;r++){const t=e.charCodeAt(r),i=n.charCodeAt(r);if(t!==i)break}let o=0,a=0;for(let d=r;d<t;d++){const t=e.charCodeAt(d);32===t?o++:a++}let l=0,h=0;for(let d=r;d<i;d++){const e=n.charCodeAt(d);32===e?l++:h++}if(o>0&&a>0)return;if(l>0&&h>0)return;const u=Math.abs(a-h),c=Math.abs(o-l);if(0===u)return s.spacesDiff=c,void(c>0&&0<=l-1&&l-1<e.length&&l<n.length&&32!==n.charCodeAt(l)&&32===e.charCodeAt(l-1)&&44===e.charCodeAt(e.length-1)&&(s.looksLikeAlignment=!0));c%u!==0||(s.spacesDiff=c/u)}function r(e,t,n){const r=Math.min(e.getLineCount(),1e4);let o=0,a=0,l="",h=0;const u=[2,4,6,8,3,5,7],c=8,d=[0,0,0,0,0,0,0,0,0],g=new i;for(let i=1;i<=r;i++){const r=e.getLineLength(i),u=e.getLineContent(i),f=r<=65536;let m=!1,p=0,C=0,k=0;for(let t=0,n=r;t<n;t++){const n=f?u.charCodeAt(t):e.getLineCharCode(i,t);if(9===n)k++;else{if(32!==n){m=!0,p=t;break}C++}}if(!m)continue;if(k>0?o++:C>1&&a++,s(l,h,u,p,g),g.looksLikeAlignment&&(!n||t!==g.spacesDiff))continue;const b=g.spacesDiff;b<=c&&d[b]++,l=u,h=p}let f=n;o!==a&&(f=o<a);let m=t;if(f){let e=f?0:.1*r;u.forEach((t=>{const n=d[t];n>e&&(e=n,m=t)})),4===m&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(m=2)}return{insertSpaces:f,tabSize:m}}},26828:(e,t,n)=>{function i(e){return(1&e.metadata)>>>0}function s(e,t){e.metadata=254&e.metadata|t<<0}function r(e){return(2&e.metadata)>>>1===1}function o(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function a(e){return(4&e.metadata)>>>2===1}function l(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function h(e){return(64&e.metadata)>>>6===1}function u(e,t){e.metadata=191&e.metadata|(t?1:0)<<6}function c(e){return(24&e.metadata)>>>3}function d(e,t){e.metadata=231&e.metadata|t<<3}function g(e){return(32&e.metadata)>>>5===1}function f(e,t){e.metadata=223&e.metadata|(t?1:0)<<5}n.d(t,{IF:()=>C,fL:()=>m,sR:()=>M});class m{constructor(e,t,n){this.metadata=0,this.parent=this,this.left=this,this.right=this,s(this,1),this.start=t,this.end=n,this.delta=0,this.maxEnd=n,this.id=e,this.ownerId=0,this.options=null,l(this,!1),u(this,!1),d(this,1),f(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=null,o(this,!1)}reset(e,t,n,i){this.start=t,this.end=n,this.maxEnd=n,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=i}setOptions(e){this.options=e;const t=this.options.className;l(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),u(this,null!==this.options.glyphMarginClassName),d(this,this.options.stickiness),f(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,n){this.cachedVersionId!==n&&(this.range=null),this.cachedVersionId=n,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const p=new m(null,0,0);p.parent=p,p.left=p,p.right=p,s(p,0);class C{constructor(){this.root=p,this.requestNormalizeDelta=!1}intervalSearch(e,t,n,i,s,r){return this.root===p?[]:S(this,e,t,n,i,s,r)}search(e,t,n,i){return this.root===p?[]:L(this,e,t,n,i)}collectNodesFromOwner(e){return _(this,e)}collectNodesPostOrder(){return x(this)}insert(e){E(this,e),this._normalizeDeltaIfNecessary()}delete(e){y(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const n=e;let i=0;while(e!==this.root)e===e.parent.right&&(i+=e.parent.delta),e=e.parent;const s=n.start+i,r=n.end+i;n.setCachedOffsets(s,r,t)}acceptReplace(e,t,n,i){const s=v(this,e,e+t);for(let r=0,o=s.length;r<o;r++){const e=s[r];y(this,e)}this._normalizeDeltaIfNecessary(),I(this,e,e+t,n),this._normalizeDeltaIfNecessary();for(let r=0,o=s.length;r<o;r++){const o=s[r];o.start=o.cachedAbsoluteStart,o.end=o.cachedAbsoluteEnd,w(o,e,e+t,n,i),o.maxEnd=o.end,E(this,o)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,k(this))}}function k(e){let t=e.root,n=0;while(t!==p)t.left===p||r(t.left)?t.right===p||r(t.right)?(t.start=n+t.start,t.end=n+t.end,t.delta=0,M(t),o(t,!0),o(t.left,!1),o(t.right,!1),t===t.parent.right&&(n-=t.parent.delta),t=t.parent):(n+=t.delta,t=t.right):t=t.left;o(e.root,!1)}function b(e,t,n,i){return e<n||!(e>n)&&(1!==i&&(2===i||t))}function w(e,t,n,i,s){const r=c(e),o=0===r||2===r,a=1===r||2===r,l=n-t,h=i,u=Math.min(l,h),d=e.start;let f=!1;const m=e.end;let p=!1;t<=d&&m<=n&&g(e)&&(e.start=t,f=!0,e.end=t,p=!0);{const e=s?1:l>0?2:0;!f&&b(d,o,t,e)&&(f=!0),!p&&b(m,a,t,e)&&(p=!0)}if(u>0&&!s){const e=l>h?2:0;!f&&b(d,o,t+u,e)&&(f=!0),!p&&b(m,a,t+u,e)&&(p=!0)}{const i=s?1:0;!f&&b(d,o,n,i)&&(e.start=t+h,f=!0),!p&&b(m,a,n,i)&&(e.end=t+h,p=!0)}const C=h-l;f||(e.start=Math.max(0,d+C)),p||(e.end=Math.max(0,m+C)),e.start>e.end&&(e.end=e.start)}function v(e,t,n){let i=e.root,s=0,a=0,l=0,h=0;const u=[];let c=0;while(i!==p)if(r(i))o(i.left,!1),o(i.right,!1),i===i.parent.right&&(s-=i.parent.delta),i=i.parent;else{if(!r(i.left)){if(a=s+i.maxEnd,a<t){o(i,!0);continue}if(i.left!==p){i=i.left;continue}}l=s+i.start,l>n?o(i,!0):(h=s+i.end,h>=t&&(i.setCachedOffsets(l,h,0),u[c++]=i),o(i,!0),i.right===p||r(i.right)||(s+=i.delta,i=i.right))}return o(e.root,!1),u}function I(e,t,n,i){let s=e.root,a=0,l=0,h=0;const u=i-(n-t);while(s!==p)if(r(s))o(s.left,!1),o(s.right,!1),s===s.parent.right&&(a-=s.parent.delta),M(s),s=s.parent;else{if(!r(s.left)){if(l=a+s.maxEnd,l<t){o(s,!0);continue}if(s.left!==p){s=s.left;continue}}h=a+s.start,h>n?(s.start+=u,s.end+=u,s.delta+=u,(s.delta<-1073741824||s.delta>1073741824)&&(e.requestNormalizeDelta=!0),o(s,!0)):(o(s,!0),s.right===p||r(s.right)||(a+=s.delta,s=s.right))}o(e.root,!1)}function _(e,t){let n=e.root;const i=[];let s=0;while(n!==p)r(n)?(o(n.left,!1),o(n.right,!1),n=n.parent):n.left===p||r(n.left)?(n.ownerId===t&&(i[s++]=n),o(n,!0),n.right===p||r(n.right)||(n=n.right)):n=n.left;return o(e.root,!1),i}function x(e){let t=e.root;const n=[];let i=0;while(t!==p)r(t)?(o(t.left,!1),o(t.right,!1),t=t.parent):t.left===p||r(t.left)?t.right===p||r(t.right)?(n[i++]=t,o(t,!0)):t=t.right:t=t.left;return o(e.root,!1),n}function L(e,t,n,i,s){let l=e.root,u=0,c=0,d=0;const g=[];let f=0;while(l!==p){if(r(l)){o(l.left,!1),o(l.right,!1),l===l.parent.right&&(u-=l.parent.delta),l=l.parent;continue}if(l.left!==p&&!r(l.left)){l=l.left;continue}c=u+l.start,d=u+l.end,l.setCachedOffsets(c,d,i);let e=!0;t&&l.ownerId&&l.ownerId!==t&&(e=!1),n&&a(l)&&(e=!1),s&&!h(l)&&(e=!1),e&&(g[f++]=l),o(l,!0),l.right===p||r(l.right)||(u+=l.delta,l=l.right)}return o(e.root,!1),g}function S(e,t,n,i,s,l,u){let c=e.root,d=0,g=0,f=0,m=0;const C=[];let k=0;while(c!==p)if(r(c))o(c.left,!1),o(c.right,!1),c===c.parent.right&&(d-=c.parent.delta),c=c.parent;else{if(!r(c.left)){if(g=d+c.maxEnd,g<t){o(c,!0);continue}if(c.left!==p){c=c.left;continue}}if(f=d+c.start,f>n)o(c,!0);else{if(m=d+c.end,m>=t){c.setCachedOffsets(f,m,l);let e=!0;i&&c.ownerId&&c.ownerId!==i&&(e=!1),s&&a(c)&&(e=!1),u&&!h(c)&&(e=!1),e&&(C[k++]=c)}o(c,!0),c.right===p||r(c.right)||(d+=c.delta,c=c.right)}}return o(e.root,!1),C}function E(e,t){if(e.root===p)return t.parent=p,t.left=p,t.right=p,s(t,0),e.root=t,e.root;R(e,t),A(t.parent);let n=t;while(n!==e.root&&1===i(n.parent))if(n.parent===n.parent.parent.left){const t=n.parent.parent.right;1===i(t)?(s(n.parent,0),s(t,0),s(n.parent.parent,1),n=n.parent.parent):(n===n.parent.right&&(n=n.parent,T(e,n)),s(n.parent,0),s(n.parent.parent,1),B(e,n.parent.parent))}else{const t=n.parent.parent.left;1===i(t)?(s(n.parent,0),s(t,0),s(n.parent.parent,1),n=n.parent.parent):(n===n.parent.left&&(n=n.parent,B(e,n)),s(n.parent,0),s(n.parent.parent,1),T(e,n.parent.parent))}return s(e.root,0),t}function R(e,t){let n=0,i=e.root;const r=t.start,o=t.end;while(1){const e=D(r,o,i.start+n,i.end+n);if(e<0){if(i.left===p){t.start-=n,t.end-=n,t.maxEnd-=n,i.left=t;break}i=i.left}else{if(i.right===p){t.start-=n+i.delta,t.end-=n+i.delta,t.maxEnd-=n+i.delta,i.right=t;break}n+=i.delta,i=i.right}}t.parent=i,t.left=p,t.right=p,s(t,1)}function y(e,t){let n,r;if(t.left===p?(n=t.right,r=t,n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta):t.right===p?(n=t.left,r=t):(r=N(t.right),n=r.right,n.start+=r.delta,n.end+=r.delta,n.delta+=r.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),r.start+=t.delta,r.end+=t.delta,r.delta=t.delta,(r.delta<-1073741824||r.delta>1073741824)&&(e.requestNormalizeDelta=!0)),r===e.root)return e.root=n,s(n,0),t.detach(),O(),M(n),void(e.root.parent=p);const o=1===i(r);if(r===r.parent.left?r.parent.left=n:r.parent.right=n,r===t?n.parent=r.parent:(r.parent===t?n.parent=r:n.parent=r.parent,r.left=t.left,r.right=t.right,r.parent=t.parent,s(r,i(t)),t===e.root?e.root=r:t===t.parent.left?t.parent.left=r:t.parent.right=r,r.left!==p&&(r.left.parent=r),r.right!==p&&(r.right.parent=r)),t.detach(),o)return A(n.parent),r!==t&&(A(r),A(r.parent)),void O();let a;A(n),A(n.parent),r!==t&&(A(r),A(r.parent));while(n!==e.root&&0===i(n))n===n.parent.left?(a=n.parent.right,1===i(a)&&(s(a,0),s(n.parent,1),T(e,n.parent),a=n.parent.right),0===i(a.left)&&0===i(a.right)?(s(a,1),n=n.parent):(0===i(a.right)&&(s(a.left,0),s(a,1),B(e,a),a=n.parent.right),s(a,i(n.parent)),s(n.parent,0),s(a.right,0),T(e,n.parent),n=e.root)):(a=n.parent.left,1===i(a)&&(s(a,0),s(n.parent,1),B(e,n.parent),a=n.parent.left),0===i(a.left)&&0===i(a.right)?(s(a,1),n=n.parent):(0===i(a.left)&&(s(a.right,0),s(a,1),T(e,a),a=n.parent.left),s(a,i(n.parent)),s(n.parent,0),s(a.left,0),B(e,n.parent),n=e.root));s(n,0),O()}function N(e){while(e.left!==p)e=e.left;return e}function O(){p.parent=p,p.delta=0,p.start=0,p.end=0}function T(e,t){const n=t.right;n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,t.right=n.left,n.left!==p&&(n.left.parent=t),n.parent=t.parent,t.parent===p?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n,M(t),M(n)}function B(e,t){const n=t.left;t.delta-=n.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=n.delta,t.end-=n.delta,t.left=n.right,n.right!==p&&(n.right.parent=t),n.parent=t.parent,t.parent===p?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n,M(t),M(n)}function P(e){let t=e.end;if(e.left!==p){const n=e.left.maxEnd;n>t&&(t=n)}if(e.right!==p){const n=e.right.maxEnd+e.delta;n>t&&(t=n)}return t}function M(e){e.maxEnd=P(e)}function A(e){while(e!==p){const t=P(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}function D(e,t,n,i){return e===n?t-i:e-n}}}]);
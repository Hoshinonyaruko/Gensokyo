"use strict";(globalThis["webpackChunkfrontend"]=globalThis["webpackChunkfrontend"]||[]).push([[911],{68050:(t,e,n)=>{n.d(e,{Lp:()=>ct,sW:()=>S});var i=n(96297),r=n(25258),s=n(74475);const o="function"==typeof String.prototype.normalize?t=>t.normalize("NFKD"):t=>t;class h{constructor(t,e,n=0,i=t.length,r,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(n,i),this.bufferStart=n,this.normalize=r?t=>r(o(t)):o,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,r.gm)(this.buffer,this.bufferPos)}next(){while(this.matches.length)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=(0,r.bg)(t),n=this.bufferStart+this.bufferPos;this.bufferPos+=(0,r.nZ)(t);let i=this.normalize(e);for(let r=0,s=n;;r++){let t=i.charCodeAt(r),o=this.match(t,s);if(r==i.length-1){if(o)return this.value=o,this;break}s==n&&r<e.length&&e.charCodeAt(r)==t&&s++}}}match(t,e){let n=null;for(let i=0;i<this.matches.length;i+=2){let r=this.matches[i],s=!1;this.query.charCodeAt(r)==t&&(r==this.query.length-1?n={from:this.matches[i+1],to:e+1}:(this.matches[i]++,s=!0)),s||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==t&&(1==this.query.length?n={from:e,to:e+1}:this.matches.push(1,e)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}}"undefined"!=typeof Symbol&&(h.prototype[Symbol.iterator]=function(){return this});const l={from:-1,to:-1,match:/.*/.exec("")},a="gm"+(null==/x/.unicode?"":"u");class c{constructor(t,e,n,i=0,r=t.length){if(this.text=t,this.to=r,this.curLine="",this.done=!1,this.value=l,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new d(t,e,n,i,r);this.re=new RegExp(e,a+((null===n||void 0===n?void 0:n.ignoreCase)?"i":"")),this.test=null===n||void 0===n?void 0:n.test,this.iter=t.iter();let s=t.lineAt(i);this.curLineStart=s.from,this.matchPos=g(t,i),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let n=this.curLineStart+e.index,i=n+e[0].length;if(this.matchPos=g(this.text,i+(n==i?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<i||n>this.value.to)&&(!this.test||this.test(n,i,e)))return this.value={from:n,to:i,match:e},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}}const u=new WeakMap;class f{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,n){let i=u.get(t);if(!i||i.from>=n||i.to<=e){let i=new f(e,t.sliceString(e,n));return u.set(t,i),i}if(i.from==e&&i.to==n)return i;let{text:r,from:s}=i;return s>e&&(r=t.sliceString(e,s)+r,s=e),i.to<n&&(r+=t.sliceString(i.to,n)),u.set(t,new f(s,r)),new f(e,r.slice(e-s,n-s))}}class d{constructor(t,e,n,i,r){this.text=t,this.to=r,this.done=!1,this.value=l,this.matchPos=g(t,i),this.re=new RegExp(e,a+((null===n||void 0===n?void 0:n.ignoreCase)?"i":"")),this.test=null===n||void 0===n?void 0:n.test,this.flat=f.get(t,i,this.chunkEnd(i+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e){let t=this.flat.from+e.index,n=t+e[0].length;if((this.flat.to>=this.to||e.index+e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(t,n,e)))return this.value={from:t,to:n,match:e},this.matchPos=g(this.text,n+(t==n?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=f.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function p(t){try{return new RegExp(t,a),!0}catch(e){return!1}}function g(t,e){if(e>=t.length)return e;let n,i=t.lineAt(e);while(e<i.to&&(n=i.text.charCodeAt(e-i.from))>=56320&&n<57344)e++;return e}function m(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=(0,s.Z)("input",{class:"cm-textfield",name:"line",value:e}),o=(0,s.Z)("form",{class:"cm-gotoLine",onkeydown:e=>{27==e.keyCode?(e.preventDefault(),t.dispatch({effects:x.of(!1)}),t.focus()):13==e.keyCode&&(e.preventDefault(),h())},onsubmit:t=>{t.preventDefault(),h()}},(0,s.Z)("label",t.state.phrase("Go to line"),": ",n)," ",(0,s.Z)("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function h(){let e=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!e)return;let{state:s}=t,o=s.doc.lineAt(s.selection.main.head),[,h,l,a,c]=e,u=a?+a.slice(1):0,f=l?+l:o.number;if(l&&c){let t=f/100;h&&(t=t*("-"==h?-1:1)+o.number/s.doc.lines),f=Math.round(s.doc.lines*t)}else l&&h&&(f=f*("-"==h?-1:1)+o.number);let d=s.doc.line(Math.max(1,Math.min(s.doc.lines,f))),p=r.jT.cursor(d.from+Math.max(0,Math.min(u,d.length)));t.dispatch({effects:[x.of(!1),i.tk.scrollIntoView(p.from,{y:"center"})],selection:p}),t.focus()}return{dom:o}}"undefined"!=typeof Symbol&&(c.prototype[Symbol.iterator]=d.prototype[Symbol.iterator]=function(){return this});const x=r.Py.define(),v=r.QQ.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(x)&&(t=n.value);return t},provide:t=>i.mH.from(t,(t=>t?m:null))}),y=t=>{let e=(0,i.Sd)(t,m);if(!e){let n=[x.of(!0)];null==t.state.field(v,!1)&&n.push(r.Py.appendConfig.of([v,w])),t.dispatch({effects:n}),e=(0,i.Sd)(t,m)}return e&&e.dom.querySelector("input").select(),!0},w=i.tk.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),k={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},b=r.r$.define({combine(t){return(0,r.BO)(t,k,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})}});function S(t){let e=[P,E];return t&&e.push(b.of(t)),e}const I=i.p.mark({class:"cm-selectionMatch"}),M=i.p.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function C(t,e,n,i){return(0==n||t(e.sliceDoc(n-1,n))!=r.D0.Word)&&(i==e.doc.length||t(e.sliceDoc(i,i+1))!=r.D0.Word)}function A(t,e,n,i){return t(e.sliceDoc(n,n+1))==r.D0.Word&&t(e.sliceDoc(i-1,i))==r.D0.Word}const E=i.lg.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(b),{state:n}=t,r=n.selection;if(r.ranges.length>1)return i.p.none;let s,o=r.main,l=null;if(o.empty){if(!e.highlightWordAroundCursor)return i.p.none;let t=n.wordAt(o.head);if(!t)return i.p.none;l=n.charCategorizer(o.head),s=n.sliceDoc(t.from,t.to)}else{let t=o.to-o.from;if(t<e.minSelectionLength||t>200)return i.p.none;if(e.wholeWords){if(s=n.sliceDoc(o.from,o.to),l=n.charCategorizer(o.head),!C(l,n,o.from,o.to)||!A(l,n,o.from,o.to))return i.p.none}else if(s=n.sliceDoc(o.from,o.to).trim(),!s)return i.p.none}let a=[];for(let c of t.visibleRanges){let t=new h(n.doc,s,c.from,c.to);while(!t.next().done){let{from:r,to:s}=t.value;if((!l||C(l,n,r,s))&&(o.empty&&r<=o.from&&s>=o.to?a.push(M.range(r,s)):(r>=o.to||s<=o.from)&&a.push(I.range(r,s)),a.length>e.maxMatches))return i.p.none}}return i.p.set(a)}},{decorations:t=>t.decorations}),P=i.tk.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),N=({state:t,dispatch:e})=>{let{selection:n}=t,i=r.jT.create(n.ranges.map((e=>t.wordAt(e.head)||r.jT.cursor(e.head))),n.mainIndex);return!i.eq(n)&&(e(t.update({selection:i})),!0)};function O(t,e){let{main:n,ranges:i}=t.selection,r=t.wordAt(n.head),s=r&&r.from==n.from&&r.to==n.to;for(let o=!1,l=new h(t.doc,e,i[i.length-1].to);;){if(l.next(),!l.done){if(o&&i.some((t=>t.from==l.value.from)))continue;if(s){let e=t.wordAt(l.value.from);if(!e||e.from!=l.value.from||e.to!=l.value.to)continue}return l.value}if(o)return null;l=new h(t.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}}const R=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some((t=>t.from===t.to)))return N({state:t,dispatch:e});let s=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some((e=>t.sliceDoc(e.from,e.to)!=s)))return!1;let o=O(t,s);return!!o&&(e(t.update({selection:t.selection.addRange(r.jT.range(o.from,o.to),!1),effects:i.tk.scrollIntoView(o.to)})),!0)},T=r.r$.define({combine(t){return(0,r.BO)(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new ut(t),scrollToMatch:t=>i.tk.scrollIntoView(t)})}});class _{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||p(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,((t,e)=>"n"==e?"\n":"r"==e?"\r":"t"==e?"\t":"\\"))}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new $(this):new F(this)}getCursor(t,e=0,n){let i=t.doc?t:r.yy.create({doc:t});return null==n&&(n=i.doc.length),this.regexp?B(this,i,e,n):L(this,i,e,n)}}class D{constructor(t){this.spec=t}}function L(t,e,n,i){return new h(e.doc,t.unquoted,n,i,t.caseSensitive?void 0:t=>t.toLowerCase(),t.wholeWord?q(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function q(t,e){return(n,i,s,o)=>((o>n||o+s.length<i)&&(o=Math.max(0,n-2),s=t.sliceString(o,Math.min(t.length,i+2))),(e(W(s,n-o))!=r.D0.Word||e(z(s,n-o))!=r.D0.Word)&&(e(z(s,i-o))!=r.D0.Word||e(W(s,i-o))!=r.D0.Word))}class F extends D{constructor(t){super(t)}nextMatch(t,e,n){let i=L(this.spec,t,n,t.doc.length).nextOverlapping();return i.done&&(i=L(this.spec,t,0,e).nextOverlapping()),i.done?null:i.value}prevMatchInRange(t,e,n){for(let i=n;;){let n=Math.max(e,i-1e4-this.spec.unquoted.length),r=L(this.spec,t,n,i),s=null;while(!r.nextOverlapping().done)s=r.value;if(s)return s;if(n==e)return null;i-=1e4}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,e){let n=L(this.spec,t,0,t.doc.length),i=[];while(!n.next().done){if(i.length>=e)return null;i.push(n.value)}return i}highlight(t,e,n,i){let r=L(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,t.doc.length));while(!r.next().done)i(r.value.from,r.value.to)}}function B(t,e,n,i){return new c(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?j(e.charCategorizer(e.selection.main.head)):void 0},n,i)}function W(t,e){return t.slice((0,r.cp)(t,e,!1),e)}function z(t,e){return t.slice(e,(0,r.cp)(t,e))}function j(t){return(e,n,i)=>!i[0].length||(t(W(i.input,i.index))!=r.D0.Word||t(z(i.input,i.index))!=r.D0.Word)&&(t(z(i.input,i.index+i[0].length))!=r.D0.Word||t(W(i.input,i.index+i[0].length))!=r.D0.Word)}class $ extends D{nextMatch(t,e,n){let i=B(this.spec,t,n,t.doc.length).next();return i.done&&(i=B(this.spec,t,0,e).next()),i.done?null:i.value}prevMatchInRange(t,e,n){for(let i=1;;i++){let r=Math.max(e,n-1e4*i),s=B(this.spec,t,r,n),o=null;while(!s.next().done)o=s.value;if(o&&(r==e||o.from>r+10))return o;if(r==e)return null}}prevMatch(t,e,n){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,n,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,((e,n)=>"$"==n?"$":"&"==n?t.match[0]:"0"!=n&&+n<t.match.length?t.match[n]:e)))}matchAll(t,e){let n=B(this.spec,t,0,t.doc.length),i=[];while(!n.next().done){if(i.length>=e)return null;i.push(n.value)}return i}highlight(t,e,n,i){let r=B(this.spec,t,Math.max(0,e-250),Math.min(n+250,t.doc.length));while(!r.next().done)i(r.value.from,r.value.to)}}const J=r.Py.define(),V=r.Py.define(),Z=r.QQ.define({create(t){return new Q(st(t).create(),null)},update(t,e){for(let n of e.effects)n.is(J)?t=new Q(n.value.create(),t.panel):n.is(V)&&(t=new Q(t.query,n.value?rt:null));return t},provide:t=>i.mH.from(t,(t=>t.panel))});class Q{constructor(t,e){this.query=t,this.panel=e}}const U=i.p.mark({class:"cm-searchMatch"}),K=i.p.mark({class:"cm-searchMatch cm-searchMatch-selected"}),H=i.lg.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Z))}update(t){let e=t.state.field(Z);(e!=t.startState.field(Z)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return i.p.none;let{view:n}=this,s=new r.f_;for(let i=0,r=n.visibleRanges,o=r.length;i<o;i++){let{from:e,to:h}=r[i];while(i<o-1&&h>r[i+1].from-500)h=r[++i].to;t.highlight(n.state,e,h,((t,e)=>{let i=n.state.selection.ranges.some((n=>n.from==t&&n.to==e));s.add(t,e,i?K:U)}))}return s.finish()}},{decorations:t=>t.decorations});function G(t){return e=>{let n=e.state.field(Z,!1);return n&&n.query.spec.valid?t(e,n):lt(e)}}const X=G(((t,{query:e})=>{let{to:n}=t.state.selection.main,i=e.nextMatch(t.state,n,n);if(!i)return!1;let s=r.jT.single(i.from,i.to),o=t.state.facet(T);return t.dispatch({selection:s,effects:[gt(t,i),o.scrollToMatch(s.main,t)],userEvent:"select.search"}),ht(t),!0})),Y=G(((t,{query:e})=>{let{state:n}=t,{from:i}=n.selection.main,s=e.prevMatch(n,i,i);if(!s)return!1;let o=r.jT.single(s.from,s.to),h=t.state.facet(T);return t.dispatch({selection:o,effects:[gt(t,s),h.scrollToMatch(o.main,t)],userEvent:"select.search"}),ht(t),!0})),tt=G(((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!(!n||!n.length)&&(t.dispatch({selection:r.jT.create(n.map((t=>r.jT.range(t.from,t.to)))),userEvent:"select.search.matches"}),!0)})),et=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:i,to:s}=n.main,o=[],l=0;for(let a=new h(t.doc,t.sliceDoc(i,s));!a.next().done;){if(o.length>1e3)return!1;a.value.from==i&&(l=o.length),o.push(r.jT.range(a.value.from,a.value.to))}return e(t.update({selection:r.jT.create(o,l),userEvent:"select.search.matches"})),!0},nt=G(((t,{query:e})=>{let{state:n}=t,{from:s,to:o}=n.selection.main;if(n.readOnly)return!1;let h=e.nextMatch(n,s,s);if(!h)return!1;let l,a,c=[],u=[];if(h.from==s&&h.to==o&&(a=n.toText(e.getReplacement(h)),c.push({from:h.from,to:h.to,insert:a}),h=e.nextMatch(n,h.from,h.to),u.push(i.tk.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(s).number)+"."))),h){let e=0==c.length||c[0].from>=h.to?0:h.to-h.from-a.length;l=r.jT.single(h.from-e,h.to-e),u.push(gt(t,h)),u.push(n.facet(T).scrollToMatch(l.main,t))}return t.dispatch({changes:c,selection:l,effects:u,userEvent:"input.replace"}),!0})),it=G(((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map((t=>{let{from:n,to:i}=t;return{from:n,to:i,insert:e.getReplacement(t)}}));if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:i.tk.announce.of(r),userEvent:"input.replace.all"}),!0}));function rt(t){return t.state.facet(T).createPanel(t)}function st(t,e){var n,i,r,s,o;let h=t.selection.main,l=h.empty||h.to>h.from+100?"":t.sliceDoc(h.from,h.to);if(e&&!l)return e;let a=t.facet(T);return new _({search:(null!==(n=null===e||void 0===e?void 0:e.literal)&&void 0!==n?n:a.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:null!==(i=null===e||void 0===e?void 0:e.caseSensitive)&&void 0!==i?i:a.caseSensitive,literal:null!==(r=null===e||void 0===e?void 0:e.literal)&&void 0!==r?r:a.literal,regexp:null!==(s=null===e||void 0===e?void 0:e.regexp)&&void 0!==s?s:a.regexp,wholeWord:null!==(o=null===e||void 0===e?void 0:e.wholeWord)&&void 0!==o?o:a.wholeWord})}function ot(t){let e=(0,i.Sd)(t,rt);return e&&e.dom.querySelector("[main-field]")}function ht(t){let e=ot(t);e&&e==t.root.activeElement&&e.select()}const lt=t=>{let e=t.state.field(Z,!1);if(e&&e.panel){let n=ot(t);if(n&&n!=t.root.activeElement){let i=st(t.state,e.query.spec);i.valid&&t.dispatch({effects:J.of(i)}),n.focus(),n.select()}}else t.dispatch({effects:[V.of(!0),e?J.of(st(t.state,e.query.spec)):r.Py.appendConfig.of(xt)]});return!0},at=t=>{let e=t.state.field(Z,!1);if(!e||!e.panel)return!1;let n=(0,i.Sd)(t,rt);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:V.of(!1)}),!0},ct=[{key:"Mod-f",run:lt,scope:"editor search-panel"},{key:"F3",run:X,shift:Y,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:X,shift:Y,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:at,scope:"editor search-panel"},{key:"Mod-Shift-l",run:et},{key:"Alt-g",run:y},{key:"Mod-d",run:R,preventDefault:!0}];class ut{constructor(t){this.view=t;let e=this.query=t.state.field(Z).query.spec;function n(t,e,n){return(0,s.Z)("button",{class:"cm-button",name:t,onclick:e,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=(0,s.Z)("input",{value:e.search,placeholder:ft(t,"Find"),"aria-label":ft(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=(0,s.Z)("input",{value:e.replace,placeholder:ft(t,"Replace"),"aria-label":ft(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=(0,s.Z)("input",{type:"checkbox",name:"case",form:"",checked:e.caseSensitive,onchange:this.commit}),this.reField=(0,s.Z)("input",{type:"checkbox",name:"re",form:"",checked:e.regexp,onchange:this.commit}),this.wordField=(0,s.Z)("input",{type:"checkbox",name:"word",form:"",checked:e.wholeWord,onchange:this.commit}),this.dom=(0,s.Z)("div",{onkeydown:t=>this.keydown(t),class:"cm-search"},[this.searchField,n("next",(()=>X(t)),[ft(t,"next")]),n("prev",(()=>Y(t)),[ft(t,"previous")]),n("select",(()=>tt(t)),[ft(t,"all")]),(0,s.Z)("label",null,[this.caseField,ft(t,"match case")]),(0,s.Z)("label",null,[this.reField,ft(t,"regexp")]),(0,s.Z)("label",null,[this.wordField,ft(t,"by word")]),...t.state.readOnly?[]:[(0,s.Z)("br"),this.replaceField,n("replace",(()=>nt(t)),[ft(t,"replace")]),n("replaceAll",(()=>it(t)),[ft(t,"replace all")])],(0,s.Z)("button",{name:"close",onclick:()=>at(t),"aria-label":ft(t,"close"),type:"button"},["Ã—"])])}commit(){let t=new _({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:J.of(t)}))}keydown(t){(0,i.$1)(this.view,t,"search-panel")?t.preventDefault():13==t.keyCode&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?Y:X)(this.view)):13==t.keyCode&&t.target==this.replaceField&&(t.preventDefault(),nt(this.view))}update(t){for(let e of t.transactions)for(let t of e.effects)t.is(J)&&!t.value.eq(this.query)&&this.setQuery(t.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(T).top}}function ft(t,e){return t.state.phrase(e)}const dt=30,pt=/[\s\.,:;?!]/;function gt(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),s=t.state.doc.lineAt(n).to,o=Math.max(r.from,e-dt),h=Math.min(s,n+dt),l=t.state.sliceDoc(o,h);if(o!=r.from)for(let i=0;i<dt;i++)if(!pt.test(l[i+1])&&pt.test(l[i])){l=l.slice(i);break}if(h!=s)for(let i=l.length-1;i>l.length-dt;i--)if(!pt.test(l[i-1])&&pt.test(l[i])){l=l.slice(0,i);break}return i.tk.announce.of(`${t.state.phrase("current match")}. ${l} ${t.state.phrase("on line")} ${r.number}.`)}const mt=i.tk.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),xt=[Z,r.Wl.low(H),mt]},25258:(t,e,n)=>{n.d(e,{BO:()=>Pt,D0:()=>St,IS:()=>Qt,Py:()=>dt,QQ:()=>Z,Wl:()=>K,Xs:()=>_t,YW:()=>pt,as:()=>E,bg:()=>S,cp:()=>x,f_:()=>Lt,gc:()=>C,gm:()=>b,jT:()=>L,n0:()=>A,nZ:()=>I,q6:()=>ct,r$:()=>B,uU:()=>Nt,xv:()=>i,yy:()=>Et});class i{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,n){let i=[];return this.decompose(0,t,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(e,this.length,i,1),s.from(i,this.length-(e-t)+n.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){let n=[];return this.decompose(t,e,n,0),s.from(n,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),n=this.length-this.scanIdentical(t,-1),i=new a(this),r=new a(t);for(let s=e,o=e;;){if(i.next(s),r.next(s),s=0,i.lineBreak!=r.lineBreak||i.done!=r.done||i.value!=r.value)return!1;if(o+=i.value.length,i.done||o>=n)return!0}}iter(t=1){return new a(this,t)}iterRange(t,e=this.length){return new c(this,t,e)}iterLines(t,e){let n;if(null==t)n=this.iter();else{null==e&&(e=this.lines+1);let i=this.line(t).from;n=this.iterRange(i,Math.max(i,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new u(n)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new r(t):s.from(r.split(t,[])):i.empty}}class r extends i{constructor(t,e=o(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,n,i){for(let r=0;;r++){let s=this.text[r],o=i+s.length;if((e?n:o)>=t)return new f(i,o,n,s);i=o+1,n++}}decompose(t,e,n,i){let s=t<=0&&e>=this.length?this:new r(l(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&i){let t=n.pop(),e=h(s.text,t.text.slice(),0,s.length);if(e.length<=32)n.push(new r(e,t.length+s.length));else{let t=e.length>>1;n.push(new r(e.slice(0,t)),new r(e.slice(t)))}}else n.push(s)}replace(t,e,n){if(!(n instanceof r))return super.replace(t,e,n);let i=h(this.text,h(n.text,l(this.text,0,t)),e),o=this.length+n.length-(e-t);return i.length<=32?new r(i,o):s.from(r.split(i,[]),o)}sliceString(t,e=this.length,n="\n"){let i="";for(let r=0,s=0;r<=e&&s<this.text.length;s++){let o=this.text[s],h=r+o.length;r>t&&s&&(i+=n),t<h&&e>r&&(i+=o.slice(Math.max(0,t-r),e-r)),r=h+1}return i}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let n=[],i=-1;for(let s of t)n.push(s),i+=s.length+1,32==n.length&&(e.push(new r(n,i)),n=[],i=-1);return i>-1&&e.push(new r(n,i)),e}}class s extends i{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let n of t)this.lines+=n.lines}lineInner(t,e,n,i){for(let r=0;;r++){let s=this.children[r],o=i+s.length,h=n+s.lines-1;if((e?h:o)>=t)return s.lineInner(t,e,n,i);i=o+1,n=h+1}}decompose(t,e,n,i){for(let r=0,s=0;s<=e&&r<this.children.length;r++){let o=this.children[r],h=s+o.length;if(t<=h&&e>=s){let r=i&((s<=t?1:0)|(h>=e?2:0));s>=t&&h<=e&&!r?n.push(o):o.decompose(t-s,e-s,n,r)}s=h+1}}replace(t,e,n){if(n.lines<this.lines)for(let i=0,r=0;i<this.children.length;i++){let o=this.children[i],h=r+o.length;if(t>=r&&e<=h){let l=o.replace(t-r,e-r,n),a=this.lines-o.lines+l.lines;if(l.lines<a>>4&&l.lines>a>>6){let r=this.children.slice();return r[i]=l,new s(r,this.length-(e-t)+n.length)}return super.replace(r,h,l)}r=h+1}return super.replace(t,e,n)}sliceString(t,e=this.length,n="\n"){let i="";for(let r=0,s=0;r<this.children.length&&s<=e;r++){let o=this.children[r],h=s+o.length;s>t&&r&&(i+=n),t<h&&e>s&&(i+=o.sliceString(t-s,e-s,n)),s=h+1}return i}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof s))return 0;let n=0,[i,r,o,h]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;i+=e,r+=e){if(i==o||r==h)return n;let s=this.children[i],l=t.children[r];if(s!=l)return n+s.scanIdentical(l,e);n+=s.length+1}}static from(t,e=t.reduce(((t,e)=>t+e.length+1),-1)){let n=0;for(let r of t)n+=r.lines;if(n<32){let n=[];for(let e of t)e.flatten(n);return new r(n,e)}let i=Math.max(32,n>>5),o=i<<1,h=i>>1,l=[],a=0,c=-1,u=[];function f(t){let e;if(t.lines>o&&t instanceof s)for(let n of t.children)f(n);else t.lines>h&&(a>h||!a)?(d(),l.push(t)):t instanceof r&&a&&(e=u[u.length-1])instanceof r&&t.lines+e.lines<=32?(a+=t.lines,c+=t.length+1,u[u.length-1]=new r(e.text.concat(t.text),e.length+1+t.length)):(a+t.lines>i&&d(),a+=t.lines,c+=t.length+1,u.push(t))}function d(){0!=a&&(l.push(1==u.length?u[0]:s.from(u,c)),c=-1,a=u.length=0)}for(let r of t)f(r);return d(),1==l.length?l[0]:new s(l,e)}}function o(t){let e=-1;for(let n of t)e+=n.length+1;return e}function h(t,e,n=0,i=1e9){for(let r=0,s=0,o=!0;s<t.length&&r<=i;s++){let h=t[s],l=r+h.length;l>=n&&(l>i&&(h=h.slice(0,i-r)),r<n&&(h=h.slice(n-r)),o?(e[e.length-1]+=h,o=!1):e.push(h)),r=l+1}return e}function l(t,e,n){return h(t,[""],e,n)}i.empty=new r([""],0);class a{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof r?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],s=this.offsets[n],o=s>>1,h=i instanceof r?i.text.length:i.children.length;if(o==(e>0?h:0)){if(0==n)return this.done=!0,this.value="",this;e>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&s)==(e>0?0:1)){if(this.offsets[n]+=e,0==t)return this.lineBreak=!0,this.value="\n",this;t--}else if(i instanceof r){let r=i.text[o+(e<0?-1:0)];if(this.offsets[n]+=e,r.length>Math.max(0,t))return this.value=0==t?r:e>0?r.slice(t):r.slice(0,r.length-t),this;t-=r.length}else{let s=i.children[o+(e<0?-1:0)];t>s.length?(t-=s.length,this.offsets[n]+=e):(e<0&&this.offsets[n]--,this.nodes.push(s),this.offsets.push(e>0?1:(s instanceof r?s.text.length:s.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class c{constructor(t,e,n){this.value="",this.done=!1,this.cursor=new a(t,e>n?-1:1),this.pos=e>n?t.length:0,this.from=Math.min(e,n),this.to=Math.max(e,n)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let n=e<0?this.pos-this.from:this.to-this.pos;t>n&&(t=n),n-=t;let{value:i}=this.cursor.next(t);return this.pos+=(i.length+t)*e,this.value=i.length<=n?i:e<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class u{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:n,value:i}=this.inner.next(t);return e?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(i.prototype[Symbol.iterator]=function(){return this.iter()},a.prototype[Symbol.iterator]=c.prototype[Symbol.iterator]=u.prototype[Symbol.iterator]=function(){return this});class f{constructor(t,e,n,i){this.from=t,this.to=e,this.number=n,this.text=i}get length(){return this.to-this.from}}let d="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((t=>t?parseInt(t,36):1));for(let Kt=1;Kt<d.length;Kt++)d[Kt]+=d[Kt-1];function p(t){for(let e=1;e<d.length;e+=2)if(d[e]>t)return d[e-1]<=t;return!1}function g(t){return t>=127462&&t<=127487}const m=8205;function x(t,e,n=!0,i=!0){return(n?v:y)(t,e,i)}function v(t,e,n){if(e==t.length)return e;e&&w(t.charCodeAt(e))&&k(t.charCodeAt(e-1))&&e--;let i=b(t,e);e+=I(i);while(e<t.length){let r=b(t,e);if(i==m||r==m||n&&p(r))e+=I(r),i=r;else{if(!g(r))break;{let n=0,i=e-2;while(i>=0&&g(b(t,i)))n++,i-=2;if(n%2==0)break;e+=2}}}return e}function y(t,e,n){while(e>0){let i=v(t,e-2,n);if(i<e)return i;e--}return 0}function w(t){return t>=56320&&t<57344}function k(t){return t>=55296&&t<56320}function b(t,e){let n=t.charCodeAt(e);if(!k(n)||e+1==t.length)return n;let i=t.charCodeAt(e+1);return w(i)?i-56320+(n-55296<<10)+65536:n}function S(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function I(t){return t<65536?1:2}const M=/\r\n?|\n/;var C=function(t){return t[t["Simple"]=0]="Simple",t[t["TrackDel"]=1]="TrackDel",t[t["TrackBefore"]=2]="TrackBefore",t[t["TrackAfter"]=3]="TrackAfter",t}(C||(C={}));class A{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e+1];t+=n<0?this.sections[e]:n}return t}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(t){for(let e=0,n=0,i=0;e<this.sections.length;){let r=this.sections[e++],s=this.sections[e++];s<0?(t(n,i,r),i+=r):i+=s,n+=r}}iterChangedRanges(t,e=!1){O(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let n=this.sections[e++],i=this.sections[e++];i<0?t.push(n,i):t.push(i,n)}return new A(t)}composeDesc(t){return this.empty?t:t.empty?this:T(this,t)}mapDesc(t,e=!1){return t.empty?this:R(this,t,e)}mapPos(t,e=-1,n=C.Simple){let i=0,r=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],h=this.sections[s++],l=i+o;if(h<0){if(l>t)return r+(t-i);r+=o}else{if(n!=C.Simple&&l>=t&&(n==C.TrackDel&&i<t&&l>t||n==C.TrackBefore&&i<t||n==C.TrackAfter&&l>t))return null;if(l>t||l==t&&e<0&&!o)return t==i||e<0?r:r+h;r+=h}i=l}if(t>i)throw new RangeError(`Position ${t} is out of range for changeset of length ${i}`);return r}touchesRange(t,e=t){for(let n=0,i=0;n<this.sections.length&&i<=e;){let r=this.sections[n++],s=this.sections[n++],o=i+r;if(s>=0&&i<=e&&o>=t)return!(i<t&&o>e)||"cover";i=o}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let n=this.sections[e++],i=this.sections[e++];t+=(t?" ":"")+n+(i>=0?":"+i:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some((t=>"number"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new A(t)}static create(t){return new A(t)}}class E extends A{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return O(this,((e,n,i,r,s)=>t=t.replace(i,i+(n-e),s)),!1),t}mapDesc(t,e=!1){return R(this,t,e,!0)}invert(t){let e=this.sections.slice(),n=[];for(let r=0,s=0;r<e.length;r+=2){let o=e[r],h=e[r+1];if(h>=0){e[r]=h,e[r+1]=o;let l=r>>1;while(n.length<l)n.push(i.empty);n.push(o?t.slice(s,s+o):i.empty)}s+=o}return new E(e,n)}compose(t){return this.empty?t:t.empty?this:T(this,t,!0)}map(t,e=!1){return t.empty?this:R(this,t,e,!0)}iterChanges(t,e=!1){O(this,t,e)}get desc(){return A.create(this.sections)}filter(t){let e=[],n=[],i=[],r=new _(this);t:for(let s=0,o=0;;){let h=s==t.length?1e9:t[s++];while(o<h||o==h&&0==r.len){if(r.done)break t;let t=Math.min(r.len,h-o);P(i,t,-1);let s=-1==r.ins?-1:0==r.off?r.ins:0;P(e,t,s),s>0&&N(n,e,r.text),r.forward(t),o+=t}let l=t[s++];while(o<l){if(r.done)break t;let t=Math.min(r.len,l-o);P(e,t,-1),P(i,t,-1==r.ins?-1:0==r.off?r.ins:0),r.forward(t),o+=t}}return{changes:new E(e,n),filtered:A.create(i)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let n=this.sections[e],i=this.sections[e+1];i<0?t.push(n):0==i?t.push([n]):t.push([n].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,n){let r=[],s=[],o=0,h=null;function l(t=!1){if(!t&&!r.length)return;o<e&&P(r,e-o,-1);let n=new E(r,s);h=h?h.compose(n.map(h)):n,r=[],s=[],o=0}function a(t){if(Array.isArray(t))for(let e of t)a(e);else if(t instanceof E){if(t.length!=e)throw new RangeError(`Mismatched change set length (got ${t.length}, expected ${e})`);l(),h=h?h.compose(t.map(h)):t}else{let{from:h,to:a=h,insert:c}=t;if(h>a||h<0||a>e)throw new RangeError(`Invalid change range ${h} to ${a} (in doc of length ${e})`);let u=c?"string"==typeof c?i.of(c.split(n||M)):c:i.empty,f=u.length;if(h==a&&0==f)return;h<o&&l(),h>o&&P(r,h-o,-1),P(r,a-h,f),N(s,r,u),o=a}}return a(t),l(!h),h}static empty(t){return new E(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],n=[];for(let r=0;r<t.length;r++){let s=t[r];if("number"==typeof s)e.push(s,-1);else{if(!Array.isArray(s)||"number"!=typeof s[0]||s.some(((t,e)=>e&&"string"!=typeof t)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==s.length)e.push(s[0],0);else{while(n.length<r)n.push(i.empty);n[r]=i.of(s.slice(1)),e.push(s[0],n[r].length)}}}return new E(e,n)}static createSet(t,e){return new E(t,e)}}function P(t,e,n,i=!1){if(0==e&&n<=0)return;let r=t.length-2;r>=0&&n<=0&&n==t[r+1]?t[r]+=e:0==e&&0==t[r]?t[r+1]+=n:i?(t[r]+=e,t[r+1]+=n):t.push(e,n)}function N(t,e,n){if(0==n.length)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{while(t.length<r)t.push(i.empty);t.push(n)}}function O(t,e,n){let r=t.inserted;for(let s=0,o=0,h=0;h<t.sections.length;){let l=t.sections[h++],a=t.sections[h++];if(a<0)s+=l,o+=l;else{let c=s,u=o,f=i.empty;for(;;){if(c+=l,u+=a,a&&r&&(f=f.append(r[h-2>>1])),n||h==t.sections.length||t.sections[h+1]<0)break;l=t.sections[h++],a=t.sections[h++]}e(s,c,o,u,f),s=c,o=u}}}function R(t,e,n,i=!1){let r=[],s=i?[]:null,o=new _(t),h=new _(e);for(let l=-1;;)if(-1==o.ins&&-1==h.ins){let t=Math.min(o.len,h.len);P(r,t,-1),o.forward(t),h.forward(t)}else if(h.ins>=0&&(o.ins<0||l==o.i||0==o.off&&(h.len<o.len||h.len==o.len&&!n))){let t=h.len;P(r,h.ins,-1);while(t){let e=Math.min(o.len,t);o.ins>=0&&l<o.i&&o.len<=e&&(P(r,0,o.ins),s&&N(s,r,o.text),l=o.i),o.forward(e),t-=e}h.next()}else{if(!(o.ins>=0)){if(o.done&&h.done)return s?E.createSet(r,s):A.create(r);throw new Error("Mismatched change set lengths")}{let t=0,e=o.len;while(e)if(-1==h.ins){let n=Math.min(e,h.len);t+=n,e-=n,h.forward(n)}else{if(!(0==h.ins&&h.len<e))break;e-=h.len,h.next()}P(r,t,l<o.i?o.ins:0),s&&l<o.i&&N(s,r,o.text),l=o.i,o.forward(o.len-e)}}}function T(t,e,n=!1){let i=[],r=n?[]:null,s=new _(t),o=new _(e);for(let h=!1;;){if(s.done&&o.done)return r?E.createSet(i,r):A.create(i);if(0==s.ins)P(i,s.len,0,h),s.next();else if(0!=o.len||o.done){if(s.done||o.done)throw new Error("Mismatched change set lengths");{let t=Math.min(s.len2,o.len),e=i.length;if(-1==s.ins){let e=-1==o.ins?-1:o.off?0:o.ins;P(i,t,e,h),r&&e&&N(r,i,o.text)}else-1==o.ins?(P(i,s.off?0:s.len,t,h),r&&N(r,i,s.textBit(t))):(P(i,s.off?0:s.len,o.off?0:o.ins,h),r&&!o.off&&N(r,i,o.text));h=(s.ins>t||o.ins>=0&&o.len>t)&&(h||i.length>e),s.forward2(t),o.forward(t)}}else P(i,0,o.ins,h),r&&N(r,i,o.text),o.next()}}class _{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?i.empty:t[e]}textBit(t){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length&&!t?i.empty:e[n].slice(this.off,null==t?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){-1==this.ins?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class D{constructor(t,e,n){this.from=t,this.to=e,this.flags=n}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let t=7&this.flags;return 7==t?null:t}get goalColumn(){let t=this.flags>>6;return 16777215==t?void 0:t}map(t,e=-1){let n,i;return this.empty?n=i=t.mapPos(this.from,e):(n=t.mapPos(this.from,1),i=t.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new D(n,i,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return L.range(t,e);let n=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return L.range(this.anchor,n)}eq(t){return this.anchor==t.anchor&&this.head==t.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||"number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid JSON representation for SelectionRange");return L.range(t.anchor,t.head)}static create(t,e,n){return new D(t,e,n)}}class L{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:L.create(this.ranges.map((n=>n.map(t,e))),this.mainIndex)}eq(t){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let e=0;e<this.ranges.length;e++)if(!this.ranges[e].eq(t.ranges[e]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new L([this.main],0)}addRange(t,e=!0){return L.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let n=this.ranges.slice();return n[e]=t,L.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((t=>t.toJSON())),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new L(t.ranges.map((t=>D.fromJSON(t))),t.main)}static single(t,e=t){return new L([L.range(t,e)],0)}static create(t,e=0){if(0==t.length)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<t.length;i++){let r=t[i];if(r.empty?r.from<=n:r.from<n)return L.normalized(t.slice(),e);n=r.to}return new L(t,e)}static cursor(t,e=0,n,i){return D.create(t,t,(0==e?0:e<0?8:16)|(null==n?7:Math.min(6,n))|(null!==i&&void 0!==i?i:16777215)<<6)}static range(t,e,n,i){let r=(null!==n&&void 0!==n?n:16777215)<<6|(null==i?7:Math.min(6,i));return e<t?D.create(e,t,48|r):D.create(t,e,(e>t?8:0)|r)}static normalized(t,e=0){let n=t[e];t.sort(((t,e)=>t.from-e.from)),e=t.indexOf(n);for(let i=1;i<t.length;i++){let n=t[i],r=t[i-1];if(n.empty?n.from<=r.to:n.from<r.to){let s=r.from,o=Math.max(n.to,r.to);i<=e&&e--,t.splice(--i,2,n.anchor>n.head?L.range(o,s):L.range(s,o))}}return new L(t,e)}}function q(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let F=0;class B{constructor(t,e,n,i,r){this.combine=t,this.compareInput=e,this.compare=n,this.isStatic=i,this.id=F++,this.default=t([]),this.extensions="function"==typeof r?r(this):r}get reader(){return this}static define(t={}){return new B(t.combine||(t=>t),t.compareInput||((t,e)=>t===e),t.compare||(t.combine?(t,e)=>t===e:W),!!t.static,t.enables)}of(t){return new z([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new z(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new z(t,this,2,e)}from(t,e){return e||(e=t=>t),this.compute([t],(n=>e(n.field(t))))}}function W(t,e){return t==e||t.length==e.length&&t.every(((t,n)=>t===e[n]))}class z{constructor(t,e,n,i){this.dependencies=t,this.facet=e,this.type=n,this.value=i,this.id=F++}dynamicSlot(t){var e;let n=this.value,i=this.facet.compareInput,r=this.id,s=t[r]>>1,o=2==this.type,h=!1,l=!1,a=[];for(let c of this.dependencies)"doc"==c?h=!0:"selection"==c?l=!0:0==(1&(null!==(e=t[c.id])&&void 0!==e?e:1))&&a.push(t[c.id]);return{create(t){return t.values[s]=n(t),1},update(t,e){if(h&&e.docChanged||l&&(e.docChanged||e.selection)||$(t,a)){let e=n(t);if(o?!j(e,t.values[s],i):!i(e,t.values[s]))return t.values[s]=e,1}return 0},reconfigure:(t,e)=>{let h,l=e.config.address[r];if(null!=l){let r=nt(e,l);if(this.dependencies.every((n=>n instanceof B?e.facet(n)===t.facet(n):!(n instanceof Z)||e.field(n,!1)==t.field(n,!1)))||(o?j(h=n(t),r,i):i(h=n(t),r)))return t.values[s]=r,0}else h=n(t);return t.values[s]=h,1}}}}function j(t,e,n){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1;return!0}function $(t,e){let n=!1;for(let i of e)1&et(t,i)&&(n=!0);return n}function J(t,e,n){let i=n.map((e=>t[e.id])),r=n.map((t=>t.type)),s=i.filter((t=>!(1&t))),o=t[e.id]>>1;function h(t){let n=[];for(let e=0;e<i.length;e++){let s=nt(t,i[e]);if(2==r[e])for(let t of s)n.push(t);else n.push(s)}return e.combine(n)}return{create(t){for(let e of i)et(t,e);return t.values[o]=h(t),1},update(t,n){if(!$(t,s))return 0;let i=h(t);return e.compare(i,t.values[o])?0:(t.values[o]=i,1)},reconfigure(t,r){let s=$(t,i),l=r.config.facets[e.id],a=r.facet(e);if(l&&!s&&W(n,l))return t.values[o]=a,0;let c=h(t);return e.compare(c,a)?(t.values[o]=a,0):(t.values[o]=c,1)}}}const V=B.define({static:!0});class Z{constructor(t,e,n,i,r){this.id=t,this.createF=e,this.updateF=n,this.compareF=i,this.spec=r,this.provides=void 0}static define(t){let e=new Z(F++,t.create,t.update,t.compare||((t,e)=>t===e),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(V).find((t=>t.field==this));return((null===e||void 0===e?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:t=>(t.values[e]=this.create(t),1),update:(t,n)=>{let i=t.values[e],r=this.updateF(i,n);return this.compareF(i,r)?0:(t.values[e]=r,1)},reconfigure:(t,n)=>null!=n.config.address[this.id]?(t.values[e]=n.field(this),0):(t.values[e]=this.create(t),1)}}init(t){return[this,V.of({field:this,create:t})]}get extension(){return this}}const Q={lowest:4,low:3,default:2,high:1,highest:0};function U(t){return e=>new H(e,t)}const K={highest:U(Q.highest),high:U(Q.high),default:U(Q.default),low:U(Q.low),lowest:U(Q.lowest)};class H{constructor(t,e){this.inner=t,this.prec=e}}class G{of(t){return new X(this,t)}reconfigure(t){return G.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class X{constructor(t,e){this.compartment=t,this.inner=e}}class Y{constructor(t,e,n,i,r,s){this.base=t,this.compartments=e,this.dynamicSlots=n,this.address=i,this.staticValues=r,this.facets=s,this.statusTemplate=[];while(this.statusTemplate.length<n.length)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return null==e?t.default:this.staticValues[e>>1]}static resolve(t,e,n){let i=[],r=Object.create(null),s=new Map;for(let u of tt(t,e,s))u instanceof Z?i.push(u):(r[u.facet.id]||(r[u.facet.id]=[])).push(u);let o=Object.create(null),h=[],l=[];for(let u of i)o[u.id]=l.length<<1,l.push((t=>u.slot(t)));let a=null===n||void 0===n?void 0:n.config.facets;for(let u in r){let t=r[u],e=t[0].facet,i=a&&a[u]||[];if(t.every((t=>0==t.type)))if(o[e.id]=h.length<<1|1,W(i,t))h.push(n.facet(e));else{let i=e.combine(t.map((t=>t.value)));h.push(n&&e.compare(i,n.facet(e))?n.facet(e):i)}else{for(let e of t)0==e.type?(o[e.id]=h.length<<1|1,h.push(e.value)):(o[e.id]=l.length<<1,l.push((t=>e.dynamicSlot(t))));o[e.id]=l.length<<1,l.push((n=>J(n,e,t)))}}let c=l.map((t=>t(o)));return new Y(t,s,c,o,h,r)}}function tt(t,e,n){let i=[[],[],[],[],[]],r=new Map;function s(t,o){let h=r.get(t);if(null!=h){if(h<=o)return;let e=i[h].indexOf(t);e>-1&&i[h].splice(e,1),t instanceof X&&n.delete(t.compartment)}if(r.set(t,o),Array.isArray(t))for(let e of t)s(e,o);else if(t instanceof X){if(n.has(t.compartment))throw new RangeError("Duplicate use of compartment in extensions");let i=e.get(t.compartment)||t.inner;n.set(t.compartment,i),s(i,o)}else if(t instanceof H)s(t.inner,t.prec);else if(t instanceof Z)i[o].push(t),t.provides&&s(t.provides,o);else if(t instanceof z)i[o].push(t),t.facet.extensions&&s(t.facet.extensions,Q.default);else{let e=t.extension;if(!e)throw new Error(`Unrecognized extension value in extension set (${t}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(e,o)}}return s(t,Q.default),i.reduce(((t,e)=>t.concat(e)))}function et(t,e){if(1&e)return 2;let n=e>>1,i=t.status[n];if(4==i)throw new Error("Cyclic dependency between fields and/or facets");if(2&i)return i;t.status[n]=4;let r=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|r}function nt(t,e){return 1&e?t.config.staticValues[e>>1]:t.values[e>>1]}const it=B.define(),rt=B.define({combine:t=>t.some((t=>t)),static:!0}),st=B.define({combine:t=>t.length?t[0]:void 0,static:!0}),ot=B.define(),ht=B.define(),lt=B.define(),at=B.define({combine:t=>!!t.length&&t[0]});class ct{constructor(t,e){this.type=t,this.value=e}static define(){return new ut}}class ut{of(t){return new ct(this,t)}}class ft{constructor(t){this.map=t}of(t){return new dt(this,t)}}class dt{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return void 0===e?void 0:e==this.value?this:new dt(this.type,e)}is(t){return this.type==t}static define(t={}){return new ft(t.map||(t=>t))}static mapEffects(t,e){if(!t.length)return t;let n=[];for(let i of t){let t=i.map(e);t&&n.push(t)}return n}}dt.reconfigure=dt.define(),dt.appendConfig=dt.define();class pt{constructor(t,e,n,i,r,s){this.startState=t,this.changes=e,this.selection=n,this.effects=i,this.annotations=r,this.scrollIntoView=s,this._doc=null,this._state=null,n&&q(n,e.newLength),r.some((t=>t.type==pt.time))||(this.annotations=r.concat(pt.time.of(Date.now())))}static create(t,e,n,i,r,s){return new pt(t,e,n,i,r,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(pt.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&"."==e[t.length]))}}function gt(t,e){let n=[];for(let i=0,r=0;;){let s,o;if(i<t.length&&(r==e.length||e[r]>=t[i]))s=t[i++],o=t[i++];else{if(!(r<e.length))return n;s=e[r++],o=e[r++]}!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function mt(t,e,n){var i;let r,s,o;return n?(r=e.changes,s=E.empty(e.changes.length),o=t.changes.compose(e.changes)):(r=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):null===(i=t.selection)||void 0===i?void 0:i.map(r),effects:dt.mapEffects(t.effects,r).concat(dt.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function xt(t,e,n){let i=e.selection,r=bt(e.annotations);return e.userEvent&&(r=r.concat(pt.userEvent.of(e.userEvent))),{changes:e.changes instanceof E?e.changes:E.of(e.changes||[],n,t.facet(st)),selection:i&&(i instanceof L?i:L.single(i.anchor,i.head)),effects:bt(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function vt(t,e,n){let i=xt(t,e.length?e[0]:{},t.doc.length);e.length&&!1===e[0].filter&&(n=!1);for(let s=1;s<e.length;s++){!1===e[s].filter&&(n=!1);let r=!!e[s].sequential;i=mt(i,xt(t,e[s],r?i.changes.newLength:t.doc.length),r)}let r=pt.create(t,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return wt(n?yt(r):r)}function yt(t){let e=t.startState,n=!0;for(let r of e.facet(ot)){let e=r(t);if(!1===e){n=!1;break}Array.isArray(e)&&(n=!0===n?e:gt(n,e))}if(!0!==n){let i,r;if(!1===n)r=t.changes.invertedDesc,i=E.empty(e.doc.length);else{let e=t.changes.filter(n);i=e.changes,r=e.filtered.mapDesc(e.changes).invertedDesc}t=pt.create(e,i,t.selection&&t.selection.map(r),dt.mapEffects(t.effects,r),t.annotations,t.scrollIntoView)}let i=e.facet(ht);for(let r=i.length-1;r>=0;r--){let n=i[r](t);t=n instanceof pt?n:Array.isArray(n)&&1==n.length&&n[0]instanceof pt?n[0]:vt(e,bt(n),!1)}return t}function wt(t){let e=t.startState,n=e.facet(lt),i=t;for(let r=n.length-1;r>=0;r--){let s=n[r](t);s&&Object.keys(s).length&&(i=mt(i,xt(e,s,t.changes.newLength),!0))}return i==t?t:pt.create(e,t.changes,t.selection,i.effects,i.annotations,i.scrollIntoView)}pt.time=ct.define(),pt.userEvent=ct.define(),pt.addToHistory=ct.define(),pt.remote=ct.define();const kt=[];function bt(t){return null==t?kt:Array.isArray(t)?t:[t]}var St=function(t){return t[t["Word"]=0]="Word",t[t["Space"]=1]="Space",t[t["Other"]=2]="Other",t}(St||(St={}));const It=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Mt;try{Mt=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(Ut){}function Ct(t){if(Mt)return Mt.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>"Â€"&&(n.toUpperCase()!=n.toLowerCase()||It.test(n)))return!0}return!1}function At(t){return e=>{if(!/\S/.test(e))return St.Space;if(Ct(e))return St.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return St.Word;return St.Other}}class Et{constructor(t,e,n,i,r,s){this.config=t,this.doc=e,this.selection=n,this.values=i,this.status=t.statusTemplate.slice(),this.computeSlot=r,s&&(s._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)et(this,o<<1);this.computeSlot=null}field(t,e=!0){let n=this.config.address[t.id];if(null!=n)return et(this,n),nt(this,n);if(e)throw new RangeError("Field is not present in this state")}update(...t){return vt(this,t,!0)}applyTransaction(t){let e,n=this.config,{base:i,compartments:r}=n;for(let s of t.effects)s.is(G.reconfigure)?(n&&(r=new Map,n.compartments.forEach(((t,e)=>r.set(e,t))),n=null),r.set(s.value.compartment,s.value.extension)):s.is(dt.reconfigure)?(n=null,i=s.value):s.is(dt.appendConfig)&&(n=null,i=bt(i).concat(s.value));if(n)e=t.startState.values.slice();else{n=Y.resolve(i,r,this);let t=new Et(n,this.doc,this.selection,n.dynamicSlots.map((()=>null)),((t,e)=>e.reconfigure(t,this)),null);e=t.values}new Et(n,t.newDoc,t.newSelection,e,((e,n)=>n.update(e,t)),t)}replaceSelection(t){return"string"==typeof t&&(t=this.toText(t)),this.changeByRange((e=>({changes:{from:e.from,to:e.to,insert:t},range:L.cursor(e.from+t.length)})))}changeByRange(t){let e=this.selection,n=t(e.ranges[0]),i=this.changes(n.changes),r=[n.range],s=bt(n.effects);for(let o=1;o<e.ranges.length;o++){let n=t(e.ranges[o]),h=this.changes(n.changes),l=h.map(i);for(let t=0;t<o;t++)r[t]=r[t].map(l);let a=i.mapDesc(h,!0);r.push(n.range.map(a)),i=i.compose(l),s=dt.mapEffects(s,l).concat(dt.mapEffects(bt(n.effects),a))}return{changes:i,selection:L.create(r,e.mainIndex),effects:s}}changes(t=[]){return t instanceof E?t:E.of(t,this.doc.length,this.facet(Et.lineSeparator))}toText(t){return i.of(t.split(this.facet(Et.lineSeparator)||M))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return null==e?t.default:(et(this,e),nt(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let n in t){let i=t[n];i instanceof Z&&null!=this.config.address[i.id]&&(e[n]=i.spec.toJSON(this.field(t[n]),this))}return e}static fromJSON(t,e={},n){if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n)for(let r in n)if(Object.prototype.hasOwnProperty.call(t,r)){let e=n[r],s=t[r];i.push(e.init((t=>e.spec.fromJSON(s,t))))}return Et.create({doc:t.doc,selection:L.fromJSON(t.selection),extensions:e.extensions?i.concat([e.extensions]):i})}static create(t={}){let e=Y.resolve(t.extensions||[],new Map),n=t.doc instanceof i?t.doc:i.of((t.doc||"").split(e.staticFacet(Et.lineSeparator)||M)),r=t.selection?t.selection instanceof L?t.selection:L.single(t.selection.anchor,t.selection.head):L.single(0);return q(r,n.length),e.staticFacet(rt)||(r=r.asSingle()),new Et(e,n,r,e.dynamicSlots.map((()=>null)),((t,e)=>e.create(t)),null)}get tabSize(){return this.facet(Et.tabSize)}get lineBreak(){return this.facet(Et.lineSeparator)||"\n"}get readOnly(){return this.facet(at)}phrase(t,...e){for(let n of this.facet(Et.phrases))if(Object.prototype.hasOwnProperty.call(n,t)){t=n[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,((t,n)=>{if("$"==n)return"$";let i=+(n||1);return!i||i>e.length?t:e[i-1]}))),t}languageDataAt(t,e,n=-1){let i=[];for(let r of this.facet(it))for(let s of r(this,e,n))Object.prototype.hasOwnProperty.call(s,t)&&i.push(s[t]);return i}charCategorizer(t){return At(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:n,length:i}=this.doc.lineAt(t),r=this.charCategorizer(t),s=t-n,o=t-n;while(s>0){let t=x(e,s,!1);if(r(e.slice(t,s))!=St.Word)break;s=t}while(o<i){let t=x(e,o);if(r(e.slice(o,t))!=St.Word)break;o=t}return s==o?null:L.range(s+n,o+n)}}function Pt(t,e,n={}){let i={};for(let r of t)for(let t of Object.keys(r)){let e=r[t],s=i[t];if(void 0===s)i[t]=e;else if(s===e||void 0===e);else{if(!Object.hasOwnProperty.call(n,t))throw new Error("Config merge conflict for field "+t);i[t]=n[t](s,e)}}for(let r in e)void 0===i[r]&&(i[r]=e[r]);return i}Et.allowMultipleSelections=rt,Et.tabSize=B.define({combine:t=>t.length?t[0]:4}),Et.lineSeparator=st,Et.readOnly=at,Et.phrases=B.define({compare(t,e){let n=Object.keys(t),i=Object.keys(e);return n.length==i.length&&n.every((n=>t[n]==e[n]))}}),Et.languageData=it,Et.changeFilter=ot,Et.transactionFilter=ht,Et.transactionExtender=lt,G.reconfigure=dt.define();class Nt{eq(t){return this==t}range(t,e=t){return Ot.create(t,e,this)}}Nt.prototype.startSide=Nt.prototype.endSide=0,Nt.prototype.point=!1,Nt.prototype.mapMode=C.TrackDel;class Ot{constructor(t,e,n){this.from=t,this.to=e,this.value=n}static create(t,e,n){return new Ot(t,e,n)}}function Rt(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Tt{constructor(t,e,n,i){this.from=t,this.to=e,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(t,e,n,i=0){let r=n?this.to:this.from;for(let s=i,o=r.length;;){if(s==o)return s;let i=s+o>>1,h=r[i]-t||(n?this.value[i].endSide:this.value[i].startSide)-e;if(i==s)return h>=0?s:o;h>=0?o=i:s=i+1}}between(t,e,n,i){for(let r=this.findIndex(e,-1e9,!0),s=this.findIndex(n,1e9,!1,r);r<s;r++)if(!1===i(this.from[r]+t,this.to[r]+t,this.value[r]))return!1}map(t,e){let n=[],i=[],r=[],s=-1,o=-1;for(let h=0;h<this.value.length;h++){let l,a,c=this.value[h],u=this.from[h]+t,f=this.to[h]+t;if(u==f){let t=e.mapPos(u,c.startSide,c.mapMode);if(null==t)continue;if(l=a=t,c.startSide!=c.endSide&&(a=e.mapPos(u,c.endSide),a<l))continue}else if(l=e.mapPos(u,c.startSide),a=e.mapPos(f,c.endSide),l>a||l==a&&c.startSide>0&&c.endSide<=0)continue;(a-l||c.endSide-c.startSide)<0||(s<0&&(s=l),c.point&&(o=Math.max(o,a-l)),n.push(c),i.push(l-s),r.push(a-s))}return{mapped:n.length?new Tt(i,r,n,o):null,pos:s}}}class _t{constructor(t,e,n,i){this.chunkPos=t,this.chunk=e,this.nextLayer=n,this.maxPoint=i}static create(t,e,n,i){return new _t(t,e,n,i)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:n=!1,filterFrom:i=0,filterTo:r=this.length}=t,s=t.filter;if(0==e.length&&!s)return this;if(n&&(e=e.slice().sort(Rt)),this.isEmpty)return e.length?_t.of(e):this;let o=new Ft(this,null,-1).goto(0),h=0,l=[],a=new Lt;while(o.value||h<e.length)if(h<e.length&&(o.from-e[h].from||o.startSide-e[h].value.startSide)>=0){let t=e[h++];a.addInner(t.from,t.to,t.value)||l.push(t)}else 1==o.rangeIndex&&o.chunkIndex<this.chunk.length&&(h==e.length||this.chunkEnd(o.chunkIndex)<e[h].from)&&(!s||i>this.chunkEnd(o.chunkIndex)||r<this.chunkPos[o.chunkIndex])&&a.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!s||i>o.to||r<o.from||s(o.from,o.to,o.value))&&(a.addInner(o.from,o.to,o.value)||l.push(Ot.create(o.from,o.to,o.value))),o.next());return a.finishInner(this.nextLayer.isEmpty&&!l.length?_t.empty:this.nextLayer.update({add:l,filter:s,filterFrom:i,filterTo:r}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],n=[],i=-1;for(let s=0;s<this.chunk.length;s++){let r=this.chunkPos[s],o=this.chunk[s],h=t.touchesRange(r,r+o.length);if(!1===h)i=Math.max(i,o.maxPoint),e.push(o),n.push(t.mapPos(r));else if(!0===h){let{mapped:s,pos:h}=o.map(r,t);s&&(i=Math.max(i,s.maxPoint),e.push(s),n.push(h))}}let r=this.nextLayer.map(t);return 0==e.length?r:new _t(n,e,r||_t.empty,i)}between(t,e,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let r=this.chunkPos[i],s=this.chunk[i];if(e>=r&&t<=r+s.length&&!1===s.between(r,t-r,e-r,n))return}this.nextLayer.between(t,e,n)}}iter(t=0){return Bt.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return Bt.from(t).goto(e)}static compare(t,e,n,i,r=-1){let s=t.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=r)),o=e.filter((t=>t.maxPoint>0||!t.isEmpty&&t.maxPoint>=r)),h=qt(s,o,n),l=new zt(s,h,r),a=new zt(o,h,r);n.iterGaps(((t,e,n)=>jt(l,t,a,e,n,i))),n.empty&&0==n.length&&jt(l,0,a,0,0,i)}static eq(t,e,n=0,i){null==i&&(i=999999999);let r=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0)),s=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0));if(r.length!=s.length)return!1;if(!r.length)return!0;let o=qt(r,s),h=new zt(r,o,0).goto(n),l=new zt(s,o,0).goto(n);for(;;){if(h.to!=l.to||!$t(h.active,l.active)||h.point&&(!l.point||!h.point.eq(l.point)))return!1;if(h.to>i)return!0;h.next(),l.next()}}static spans(t,e,n,i,r=-1){let s=new zt(t,null,r).goto(e),o=e,h=s.openStart;for(;;){let t=Math.min(s.to,n);if(s.point){let n=s.activeForPoint(s.to),r=s.pointFrom<e?n.length+1:Math.min(n.length,h);i.point(o,t,s.point,n,r,s.pointRank),h=Math.min(s.openEnd(t),n.length)}else t>o&&(i.span(o,t,s.active,h),h=s.openEnd(t));if(s.to>n)return h+(s.point&&s.to>n?1:0);o=s.to,s.next()}}static of(t,e=!1){let n=new Lt;for(let i of t instanceof Ot?[t]:e?Dt(t):t)n.add(i.from,i.to,i.value);return n.finish()}}function Dt(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let i=t[n];if(Rt(e,i)>0)return t.slice().sort(Rt);e=i}return t}_t.empty=new _t([],[],null,-1),_t.empty.nextLayer=_t.empty;class Lt{finishChunk(t){this.chunks.push(new Tt(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,n){this.addInner(t,e,n)||(this.nextLayer||(this.nextLayer=new Lt)).add(t,e,n)}addInner(t,e,n){let i=t-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(t-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=n,this.lastFrom=t,this.lastTo=e,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let n=e.value.length-1;return this.last=e.value[n],this.lastFrom=e.from[n]+t,this.lastTo=e.to[n]+t,!0}finish(){return this.finishInner(_t.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return t;let e=_t.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function qt(t,e,n){let i=new Map;for(let s of t)for(let t=0;t<s.chunk.length;t++)s.chunk[t].maxPoint<=0&&i.set(s.chunk[t],s.chunkPos[t]);let r=new Set;for(let s of e)for(let t=0;t<s.chunk.length;t++){let e=i.get(s.chunk[t]);null==e||(n?n.mapPos(e):e)!=s.chunkPos[t]||(null===n||void 0===n?void 0:n.touchesRange(e,e+s.chunk[t].length))||r.add(s.chunk[t])}return r}class Ft{constructor(t,e,n,i=0){this.layer=t,this.skip=e,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,n){while(this.chunkIndex<this.layer.chunk.length){let e=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(e)||this.layer.chunkEnd(this.chunkIndex)<t||e.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],n=t+e.from[this.rangeIndex];if(this.from=n,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)while(this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]))this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class Bt{constructor(t){this.heap=t}static from(t,e=null,n=-1){let i=[];for(let r=0;r<t.length;r++)for(let s=t[r];!s.isEmpty;s=s.nextLayer)s.maxPoint>=n&&i.push(new Ft(s,e,n,r));return 1==i.length?i[0]:new Bt(i)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let n of this.heap)n.goto(t,e);for(let n=this.heap.length>>1;n>=0;n--)Wt(this.heap,n);return this.next(),this}forward(t,e){for(let n of this.heap)n.forward(t,e);for(let n=this.heap.length>>1;n>=0;n--)Wt(this.heap,n);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Wt(this.heap,0)}}}function Wt(t,e){for(let n=t[e];;){let i=1+(e<<1);if(i>=t.length)break;let r=t[i];if(i+1<t.length&&r.compare(t[i+1])>=0&&(r=t[i+1],i++),n.compare(r)<0)break;t[i]=n,t[e]=r,e=i}}class zt{constructor(t,e,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Bt.from(t,e,n)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){while(this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){Jt(this.active,t),Jt(this.activeTo,t),Jt(this.activeRank,t),this.minActive=Zt(this.active,this.activeTo)}addActive(t){let e=0,{value:n,to:i,rank:r}=this.cursor;while(e<this.activeRank.length&&this.activeRank[e]<=r)e++;Vt(this.active,e,n),Vt(this.activeTo,e,i),Vt(this.activeRank,e,r),t&&Vt(t,e,this.cursor.from),this.minActive=Zt(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>t){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&Jt(n,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let t=this.cursor.value;if(t.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=t,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=t.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}}if(n){this.openStart=0;for(let e=n.length-1;e>=0&&n[e]<t;e--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let n=this.active.length-1;n>=0;n--){if(this.activeRank[n]<this.pointRank)break;(this.activeTo[n]>t||this.activeTo[n]==t&&this.active[n].endSide>=this.point.endSide)&&e.push(this.active[n])}return e.reverse()}openEnd(t){let e=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>t;n--)e++;return e}}function jt(t,e,n,i,r,s){t.goto(e),n.goto(i);let o=i+r,h=i,l=i-e;for(;;){let e=t.to+l-n.to||t.endSide-n.endSide,i=e<0?t.to+l:n.to,r=Math.min(i,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&$t(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(h,r,t.point,n.point):r>h&&!$t(t.active,n.active)&&s.compareRange(h,r,t.active,n.active),i>o)break;h=i,e<=0&&t.next(),e>=0&&n.next()}}function $t(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Jt(t,e){for(let n=e,i=t.length-1;n<i;n++)t[n]=t[n+1];t.pop()}function Vt(t,e,n){for(let i=t.length-1;i>=e;i--)t[i+1]=t[i];t[e]=n}function Zt(t,e){let n=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||t[r].endSide-t[n].endSide)<0&&(n=r,i=e[r]);return n}function Qt(t,e,n=t.length){let i=0;for(let r=0;r<n;)9==t.charCodeAt(r)?(i+=e-i%e,r++):(i++,r=x(t,r));return i}},93524:(t,e,n)=>{n.d(e,{Jq:()=>a,Lj:()=>c,_b:()=>D,i9:()=>_,md:()=>o,mp:()=>p,vj:()=>d});const i=1024;let r=0;class s{constructor(t,e){this.from=t,this.to=e}}class o{constructor(t={}){this.id=r++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof t&&(t=a.match(t)),e=>{let n=t(e);return void 0===n?null:[this,n]}}}o.closedBy=new o({deserialize:t=>t.split(" ")}),o.openedBy=new o({deserialize:t=>t.split(" ")}),o.group=new o({deserialize:t=>t.split(" ")}),o.contextHash=new o({perNode:!0}),o.lookAhead=new o({perNode:!0}),o.mounted=new o({perNode:!0});class h{constructor(t,e,n){this.tree=t,this.overlay=e,this.parser=n}static get(t){return t&&t.props&&t.props[o.mounted.id]}}const l=Object.create(null);class a{constructor(t,e,n,i=0){this.name=t,this.props=e,this.id=n,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):l,n=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new a(t.name||"",e,t.id,n);if(t.props)for(let r of t.props)if(Array.isArray(r)||(r=r(i)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[r[0].id]=r[1]}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if("string"==typeof t){if(this.name==t)return!0;let e=this.prop(o.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let n in t)for(let i of n.split(" "))e[i]=t[n];return t=>{for(let n=t.prop(o.group),i=-1;i<(n?n.length:0);i++){let r=e[i<0?t.name:n[i]];if(r)return r}}}}a.none=new a("",Object.create(null),0,8);class c{constructor(t){this.types=t;for(let e=0;e<t.length;e++)if(t[e].id!=e)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let e=[];for(let n of this.types){let i=null;for(let e of t){let t=e(n);t&&(i||(i=Object.assign({},n.props)),i[t[0].id]=t[1])}e.push(i?new a(n.name,i,n.id,n.flags):n)}return new c(e)}}const u=new WeakMap,f=new WeakMap;var d;(function(t){t[t["ExcludeBuffers"]=1]="ExcludeBuffers",t[t["IncludeAnonymous"]=2]="IncludeAnonymous",t[t["IgnoreMounts"]=4]="IgnoreMounts",t[t["IgnoreOverlays"]=8]="IgnoreOverlays"})(d||(d={}));class p{constructor(t,e,n,i,r){if(this.type=t,this.children=e,this.positions=n,this.length=i,this.props=null,r&&r.length){this.props=Object.create(null);for(let[t,e]of r)this.props["number"==typeof t?t:t.id]=e}}toString(){let t=h.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let n of this.children){let t=n.toString();t&&(e&&(e+=","),e+=t)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new E(this.topNode,t)}cursorAt(t,e=0,n=0){let i=u.get(this)||this.topNode,r=new E(i);return r.moveTo(t,e),u.set(this,r._tree),r}get topNode(){return new w(this,0,0,null)}resolve(t,e=0){let n=v(u.get(this)||this.topNode,t,e,!1);return u.set(this,n),n}resolveInner(t,e=0){let n=v(f.get(this)||this.topNode,t,e,!0);return f.set(this,n),n}resolveStack(t,e=0){return A(this,t,e)}iterate(t){let{enter:e,leave:n,from:i=0,to:r=this.length}=t,s=t.mode||0,o=(s&d.IncludeAnonymous)>0;for(let h=this.cursor(s|d.IncludeAnonymous);;){let t=!1;if(h.from<=r&&h.to>=i&&(!o&&h.type.isAnonymous||!1!==e(h))){if(h.firstChild())continue;t=!0}for(;;){if(t&&n&&(o||!h.type.isAnonymous)&&n(h),h.nextSibling())break;if(!h.parent())return;t=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:T(a.none,this.children,this.positions,0,this.children.length,0,this.length,((t,e,n)=>new p(this.type,t,e,n,this.propValues)),t.makeTree||((t,e,n)=>new p(a.none,t,e,n)))}static build(t){return N(t)}}p.empty=new p(a.none,[],[],0);class g{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new g(this.buffer,this.index)}}class m{constructor(t,e,n){this.buffer=t,this.length=e,this.set=n}get type(){return a.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],n=this.buffer[t+3],i=this.set.types[e],r=i.name;if(/\W/.test(r)&&!i.isError&&(r=JSON.stringify(r)),t+=4,n==t)return r;let s=[];while(t<n)s.push(this.childString(t)),t=this.buffer[t+3];return r+"("+s.join(",")+")"}findChild(t,e,n,i,r){let{buffer:s}=this,o=-1;for(let h=t;h!=e;h=s[h+3])if(x(r,i,s[h+1],s[h+2])&&(o=h,n>0))break;return o}slice(t,e,n){let i=this.buffer,r=new Uint16Array(e-t),s=0;for(let o=t,h=0;o<e;){r[h++]=i[o++],r[h++]=i[o++]-n;let e=r[h++]=i[o++]-n;r[h++]=i[o++]-t,s=Math.max(s,e)}return new m(r,s,this.set)}}function x(t,e,n,i){switch(t){case-2:return n<e;case-1:return i>=e&&n<e;case 0:return n<e&&i>e;case 1:return n<=e&&i>e;case 2:return i>e;case 4:return!0}}function v(t,e,n,i){var r;while(t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e)){let e=!i&&t instanceof w&&t.index<0?null:t.parent;if(!e)return t;t=e}let s=i?0:d.IgnoreOverlays;if(i)for(let o=t,h=o.parent;h;o=h,h=o.parent)o instanceof w&&o.index<0&&(null===(r=h.enter(e,n,s))||void 0===r?void 0:r.from)!=o.from&&(t=h);for(;;){let i=t.enter(e,n,s);if(!i)return t;t=i}}class y{cursor(t=0){return new E(this,t)}getChild(t,e=null,n=null){let i=k(this,t,e,n);return i.length?i[0]:null}getChildren(t,e=null,n=null){return k(this,t,e,n)}resolve(t,e=0){return v(this,t,e,!1)}resolveInner(t,e=0){return v(this,t,e,!0)}matchContext(t){return b(this,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),n=this;while(e){let t=e.lastChild;if(!t||t.to!=e.to)break;t.type.isError&&t.from==t.to?(n=e,e=t.prevSibling):e=t}return n}get node(){return this}get next(){return this.parent}}class w extends y{constructor(t,e,n,i){super(),this._tree=t,this.from=e,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,n,i,r=0){for(let s=this;;){for(let{children:o,positions:l}=s._tree,a=e>0?o.length:-1;t!=a;t+=e){let a=o[t],c=l[t]+s.from;if(x(i,n,c,c+a.length))if(a instanceof m){if(r&d.ExcludeBuffers)continue;let o=a.findChild(0,a.buffer.length,e,n-c,i);if(o>-1)return new I(new S(s,a,t,c),null,o)}else if(r&d.IncludeAnonymous||!a.type.isAnonymous||P(a)){let o;if(!(r&d.IgnoreMounts)&&(o=h.get(a))&&!o.overlay)return new w(o.tree,c,t,s);let l=new w(a,c,t,s);return r&d.IncludeAnonymous||!l.type.isAnonymous?l:l.nextChild(e<0?a.children.length-1:0,e,n,i)}}if(r&d.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,n=0){let i;if(!(n&d.IgnoreOverlays)&&(i=h.get(this._tree))&&i.overlay){let n=t-this.from;for(let{from:t,to:r}of i.overlay)if((e>0?t<=n:t<n)&&(e<0?r>=n:r>n))return new w(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,n)}nextSignificantParent(){let t=this;while(t.type.isAnonymous&&t._parent)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function k(t,e,n,i){let r=t.cursor(),s=[];if(!r.firstChild())return s;if(null!=n)while(!r.type.is(n))if(!r.nextSibling())return s;for(;;){if(null!=i&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return null==i?s:[]}}function b(t,e,n=e.length-1){for(let i=t.parent;n>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}class S{constructor(t,e,n,i){this.parent=t,this.buffer=e,this.index=n,this.start=i}}class I extends y{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,n){super(),this.context=t,this._parent=e,this.index=n,this.type=t.buffer.set.types[t.buffer.buffer[n]]}child(t,e,n){let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.context.start,n);return r<0?null:new I(this.context,this,r)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,n=0){if(n&d.ExcludeBuffers)return null;let{buffer:i}=this.context,r=i.findChild(this.index+4,i.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return r<0?null:new I(this.context,this,r)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new I(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new I(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:n}=this.context,i=this.index+4,r=n.buffer[this.index+3];if(r>i){let s=n.buffer[this.index+1];t.push(n.slice(i,r,s)),e.push(0)}return new p(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function M(t){if(!t.length)return null;if(1==t.length)return t[0];let e=0,n=t[0];for(let s=1;s<t.length;s++){let i=t[s];(i.from>n.from||i.to<n.to)&&(n=i,e=s)}let i=n instanceof w&&n.index<0?null:n.parent,r=t.slice();return i?r[e]=i:r.splice(e,1),new C(r,n)}class C{constructor(t,e){this.heads=t,this.node=e}get next(){return M(this.heads)}}function A(t,e,n){let i=t.resolveInner(e,n),r=null;for(let s=i instanceof w?i:i.context.parent;s;s=s.parent)if(s.index<0){let t=s.parent;(r||(r=[i])).push(t.resolve(e,n)),s=t}else{let t=h.get(s.tree);if(t&&t.overlay&&t.overlay[0].from<=e&&t.overlay[t.overlay.length-1].to>=e){let o=new w(t.tree,t.overlay[0].from+s.from,0,null);(r||(r=[i])).push(v(o,e,n,!1))}}return r?M(r):i}class E{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof w)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let e=t._parent;e;e=e._parent)this.stack.unshift(e.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:n,buffer:i}=this.buffer;return this.type=e||i.set.types[i.buffer[t]],this.from=n+i.buffer[t+1],this.to=n+i.buffer[t+2],!0}yield(t){return!!t&&(t instanceof w?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,n){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,n,this.mode));let{buffer:i}=this.buffer,r=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.buffer.start,n);return!(r<0)&&(this.stack.push(this.index),this.yieldBuf(r))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,n=this.mode){return this.buffer?!(n&d.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&d.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&d.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,n=this.stack.length-1;if(t<0){let t=n<0?0:this.stack[n]+4;if(this.index!=t)return this.yieldBuf(e.findChild(t,this.index,-1,0,4))}else{let t=e.buffer[this.index+3];if(t<(n<0?e.buffer.length:e.buffer[this.stack[n]+3]))return this.yieldBuf(t)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,n,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let t=0;t<this.index;t++)if(i.buffer.buffer[t+3]<this.index)return!1;({index:e,parent:n}=i)}else({index:e,_parent:n}=this._tree);for(;n;({index:e,_parent:n}=n))if(e>-1)for(let i=e+t,r=t<0?-1:n._tree.children.length;i!=r;i+=t){let t=n._tree.children[i];if(this.mode&d.IncludeAnonymous||t instanceof m||!t.type.isAnonymous||P(t))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){while(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))if(!this.parent())break;while(this.enterChild(1,t,e));return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,n=0;if(t&&t.context==this.buffer)t:for(let i=this.index,r=this.stack.length;r>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;e=s,n=r+1;break t}i=this.stack[--r]}for(let i=n;i<this.stack.length;i++)e=new I(this.buffer,e,this.stack[i]);return this.bufferNode=new I(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let n=0;;){let i=!1;if(this.type.isAnonymous||!1!==t(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&e&&e(this),i=this.type.isAnonymous,this.nextSibling())break;if(!n)return;this.parent(),n--,i=!0}}}matchContext(t){if(!this.buffer)return b(this.node,t);let{buffer:e}=this.buffer,{types:n}=e.set;for(let i=t.length-1,r=this.stack.length-1;i>=0;r--){if(r<0)return b(this.node,t,i);let s=n[e.buffer[this.stack[r]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}}function P(t){return t.children.some((t=>t instanceof m||!t.type.isAnonymous||P(t)))}function N(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:s=i,reused:h=[],minRepeatType:l=r.types.length}=t,a=Array.isArray(n)?new g(n,n.length):n,c=r.types,u=0,f=0;function d(t,e,n,i,o){let{id:p,start:g,end:b,size:S}=a,I=f;while(S<0){if(a.next(),-1==S){let e=h[p];return n.push(e),void i.push(g-t)}if(-3==S)return void(u=p);if(-4==S)return void(f=p);throw new RangeError(`Unrecognized record size: ${S}`)}let M,C,A=c[p],E=g-t;if(b-g<=s&&(C=w(a.pos-e,o))){let e=new Uint16Array(C.size-C.skip),n=a.pos-C.size,i=e.length;while(a.pos>n)i=k(C.start,e,i);M=new m(e,b-C.start,r),E=C.start-t}else{let t=a.pos-S;a.next();let e=[],n=[],i=p>=l?p:-1,r=0,o=b;while(a.pos>t)i>=0&&a.id==i&&a.size>=0?(a.end<=o-s&&(v(e,n,g,r,a.end,o,i,I),r=e.length,o=a.end),a.next()):d(g,t,e,n,i);if(i>=0&&r>0&&r<e.length&&v(e,n,g,r,g,o,i,I),e.reverse(),n.reverse(),i>-1&&r>0){let t=x(A);M=T(A,e,n,0,e.length,0,b-g,t,t)}else M=y(A,e,n,b-g,I-b)}n.push(M),i.push(E)}function x(t){return(e,n,i)=>{let r,s,h=0,l=e.length-1;if(l>=0&&(r=e[l])instanceof p){if(!l&&r.type==t&&r.length==i)return r;(s=r.prop(o.lookAhead))&&(h=n[l]+r.length+s)}return y(t,e,n,i,h)}}function v(t,e,n,i,s,o,h,l){let a=[],c=[];while(t.length>i)a.push(t.pop()),c.push(e.pop()+n-s);t.push(y(r.types[h],a,c,o-s,l-o)),e.push(s-n)}function y(t,e,n,i,r=0,s){if(u){let t=[o.contextHash,u];s=s?[t].concat(s):[t]}if(r>25){let t=[o.lookAhead,r];s=s?[t].concat(s):[t]}return new p(t,e,n,i,s)}function w(t,e){let n=a.fork(),i=0,r=0,o=0,h=n.end-s,c={size:0,start:0,skip:0};t:for(let s=n.pos-t;n.pos>s;){let t=n.size;if(n.id==e&&t>=0){c.size=i,c.start=r,c.skip=o,o+=4,i+=4,n.next();continue}let a=n.pos-t;if(t<0||a<s||n.start<h)break;let u=n.id>=l?4:0,f=n.start;n.next();while(n.pos>a){if(n.size<0){if(-3!=n.size)break t;u+=4}else n.id>=l&&(u+=4);n.next()}r=f,i+=t,o+=u}return(e<0||i==t)&&(c.size=i,c.start=r,c.skip=o),c.size>4?c:void 0}function k(t,e,n){let{id:i,start:r,end:s,size:o}=a;if(a.next(),o>=0&&i<l){let h=n;if(o>4){let i=a.pos-(o-4);while(a.pos>i)n=k(t,e,n)}e[--n]=h,e[--n]=s-t,e[--n]=r-t,e[--n]=i}else-3==o?u=i:-4==o&&(f=i);return n}let b=[],S=[];while(a.pos>0)d(t.start||0,t.bufferStart||0,b,S,-1);let I=null!==(e=t.length)&&void 0!==e?e:b.length?S[0]+b[0].length:0;return new p(c[t.topID],b.reverse(),S.reverse(),I)}const O=new WeakMap;function R(t,e){if(!t.isAnonymous||e instanceof m||e.type!=t)return 1;let n=O.get(e);if(null==n){n=1;for(let i of e.children){if(i.type!=t||!(i instanceof p)){n=1;break}n+=R(t,i)}O.set(e,n)}return n}function T(t,e,n,i,r,s,o,h,l){let a=0;for(let p=i;p<r;p++)a+=R(t,e[p]);let c=Math.ceil(1.5*a/8),u=[],f=[];function d(e,n,i,r,o){for(let h=i;h<r;){let i=h,a=n[h],p=R(t,e[h]);for(h++;h<r;h++){let n=R(t,e[h]);if(p+n>=c)break;p+=n}if(h==i+1){if(p>c){let t=e[i];d(t.children,t.positions,0,t.children.length,n[i]+o);continue}u.push(e[i])}else{let r=n[h-1]+e[h-1].length-a;u.push(T(t,e,n,i,h,a,r,null,l))}f.push(a+o-s)}}return d(e,n,i,r,0),(h||l)(u,f,o)}class _{constructor(t,e,n,i,r=!1,s=!1){this.from=t,this.to=e,this.tree=n,this.offset=i,this.open=(r?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],n=!1){let i=[new _(0,t.length,t,0,!1,n)];for(let r of e)r.to>t.length&&i.push(r);return i}static applyChanges(t,e,n=128){if(!e.length)return t;let i=[],r=1,s=t.length?t[0]:null;for(let o=0,h=0,l=0;;o++){let a=o<e.length?e[o]:null,c=a?a.fromA:1e9;if(c-h>=n)while(s&&s.from<c){let e=s;if(h>=e.from||c<=e.to||l){let t=Math.max(e.from,h)-l,n=Math.min(e.to,c)-l;e=t>=n?null:new _(t,n,e.tree,e.offset+l,o>0,!!a)}if(e&&i.push(e),s.to>c)break;s=r<t.length?t[r++]:null}if(!a)break;h=a.toA,l=a.toA-a.toB}return i}}class D{startParse(t,e,n){return"string"==typeof t&&(t=new L(t)),n=n?n.length?n.map((t=>new s(t.from,t.to))):[new s(0,0)]:[new s(0,t.length)],this.createParse(t,e||[],n)}parse(t,e,n){let i=this.startParse(t,e,n);for(;;){let t=i.advance();if(t)return t}}}class L{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new o({perNode:!0})},86600:(t,e,n)=>{n.d(e,{Gv:()=>c,QR:()=>d,bW:()=>g,pJ:()=>T});var i=n(93524);let r=0;class s{constructor(t,e,n){this.set=t,this.base=e,this.modified=n,this.id=r++}static define(t){if(null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");let e=new s([],null,[]);if(e.set.push(e),t)for(let n of t.set)e.set.push(n);return e}static defineModifier(){let t=new h;return e=>e.modified.indexOf(t)>-1?e:h.get(e.base||e,e.modified.concat(t).sort(((t,e)=>t.id-e.id)))}}let o=0;class h{constructor(){this.instances=[],this.id=o++}static get(t,e){if(!e.length)return t;let n=e[0].instances.find((n=>n.base==t&&l(e,n.modified)));if(n)return n;let i=[],r=new s(i,t,e);for(let s of e)s.instances.push(r);let o=a(e);for(let s of t.set)if(!s.modified.length)for(let t of o)i.push(h.get(s,t));return r}}function l(t,e){return t.length==e.length&&t.every(((t,n)=>t==e[n]))}function a(t){let e=[[]];for(let n=0;n<t.length;n++)for(let i=0,r=e.length;i<r;i++)e.push(e[i].concat(t[n]));return e.sort(((t,e)=>e.length-t.length))}function c(t){let e=Object.create(null);for(let n in t){let i=t[n];Array.isArray(i)||(i=[i]);for(let t of n.split(" "))if(t){let n=[],r=2,s=t;for(let e=0;;){if("..."==s&&e>0&&e+3==t.length){r=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!i)throw new RangeError("Invalid path: "+t);if(n.push("*"==i[0]?"":'"'==i[0][0]?JSON.parse(i[0]):i[0]),e+=i[0].length,e==t.length)break;let o=t[e++];if(e==t.length&&"!"==o){r=0;break}if("/"!=o)throw new RangeError("Invalid path: "+t);s=t.slice(e)}let o=n.length-1,h=n[o];if(!h)throw new RangeError("Invalid path: "+t);let l=new f(i,r,o>0?n.slice(0,o):null);e[h]=l.sort(e[h])}}return u.add(e)}const u=new i.md;class f{constructor(t,e,n,i){this.tags=t,this.mode=e,this.context=n,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function d(t,e){let n=Object.create(null);for(let s of t)if(Array.isArray(s.tag))for(let t of s.tag)n[t.id]=s.class;else n[s.tag.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:t=>{let e=r;for(let i of t)for(let t of i.set){let i=n[t.id];if(i){e=e?e+" "+i:i;break}}return e},scope:i}}function p(t,e){let n=null;for(let i of t){let t=i.style(e);t&&(n=n?n+" "+t:t)}return n}function g(t,e,n,i=0,r=t.length){let s=new m(i,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),i,r,"",s.highlighters),s.flush(r)}f.empty=new f([],2,null);class m{constructor(t,e,n){this.at=t,this.highlighters=e,this.span=n,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,n,r,s){let{type:o,from:h,to:l}=t;if(h>=n||l<=e)return;o.isTop&&(s=this.highlighters.filter((t=>!t.scope||t.scope(o))));let a=r,c=x(t)||f.empty,u=p(s,c.tags);if(u&&(a&&(a+=" "),a+=u,1==c.mode&&(r+=(r?" ":"")+u)),this.startSpan(Math.max(e,h),a),c.opaque)return;let d=t.tree&&t.tree.prop(i.md.mounted);if(d&&d.overlay){let i=t.node.enter(d.overlay[0].from+h,1),o=this.highlighters.filter((t=>!t.scope||t.scope(d.tree.type))),c=t.firstChild();for(let u=0,f=h;;u++){let p=u<d.overlay.length?d.overlay[u]:null,g=p?p.from+h:l,m=Math.max(e,f),x=Math.min(n,g);if(m<x&&c)while(t.from<x)if(this.highlightRange(t,m,x,r,s),this.startSpan(Math.min(x,t.to),a),t.to>=g||!t.nextSibling())break;if(!p||g>n)break;f=p.to+h,f>e&&(this.highlightRange(i.cursor(),Math.max(e,p.from+h),Math.min(n,f),"",o),this.startSpan(Math.min(n,f),a))}c&&t.parent()}else if(t.firstChild()){d&&(r="");do{if(!(t.to<=e)){if(t.from>=n)break;this.highlightRange(t,e,n,r,s),this.startSpan(Math.min(n,t.to),a)}}while(t.nextSibling());t.parent()}}}function x(t){let e=t.type.prop(u);while(e&&e.context&&!t.matchContext(e.context))e=e.next;return e||null}const v=s.define,y=v(),w=v(),k=v(w),b=v(w),S=v(),I=v(S),M=v(S),C=v(),A=v(C),E=v(),P=v(),N=v(),O=v(N),R=v(),T={comment:y,lineComment:v(y),blockComment:v(y),docComment:v(y),name:w,variableName:v(w),typeName:k,tagName:v(k),propertyName:b,attributeName:v(b),className:v(w),labelName:v(w),namespace:v(w),macroName:v(w),literal:S,string:I,docString:v(I),character:v(I),attributeValue:v(I),number:M,integer:v(M),float:v(M),bool:v(S),regexp:v(S),escape:v(S),color:v(S),url:v(S),keyword:E,self:v(E),null:v(E),atom:v(E),unit:v(E),modifier:v(E),operatorKeyword:v(E),controlKeyword:v(E),definitionKeyword:v(E),moduleKeyword:v(E),operator:P,derefOperator:v(P),arithmeticOperator:v(P),logicOperator:v(P),bitwiseOperator:v(P),compareOperator:v(P),updateOperator:v(P),definitionOperator:v(P),typeOperator:v(P),controlOperator:v(P),punctuation:N,separator:v(N),bracket:O,angleBracket:v(O),squareBracket:v(O),paren:v(O),brace:v(O),content:C,heading:A,heading1:v(A),heading2:v(A),heading3:v(A),heading4:v(A),heading5:v(A),heading6:v(A),contentSeparator:v(C),list:v(C),quote:v(C),emphasis:v(C),strong:v(C),link:v(C),monospace:v(C),strikethrough:v(C),inserted:v(),deleted:v(),changed:v(),invalid:v(),meta:R,documentMeta:v(R),annotation:v(R),processingInstruction:v(R),definition:s.defineModifier(),constant:s.defineModifier(),function:s.defineModifier(),standard:s.defineModifier(),local:s.defineModifier(),special:s.defineModifier()};d([{tag:T.link,class:"tok-link"},{tag:T.heading,class:"tok-heading"},{tag:T.emphasis,class:"tok-emphasis"},{tag:T.strong,class:"tok-strong"},{tag:T.keyword,class:"tok-keyword"},{tag:T.atom,class:"tok-atom"},{tag:T.bool,class:"tok-bool"},{tag:T.url,class:"tok-url"},{tag:T.labelName,class:"tok-labelName"},{tag:T.inserted,class:"tok-inserted"},{tag:T.deleted,class:"tok-deleted"},{tag:T.literal,class:"tok-literal"},{tag:T.string,class:"tok-string"},{tag:T.number,class:"tok-number"},{tag:[T.regexp,T.escape,T.special(T.string)],class:"tok-string2"},{tag:T.variableName,class:"tok-variableName"},{tag:T.local(T.variableName),class:"tok-variableName tok-local"},{tag:T.definition(T.variableName),class:"tok-variableName tok-definition"},{tag:T.special(T.variableName),class:"tok-variableName2"},{tag:T.definition(T.propertyName),class:"tok-propertyName tok-definition"},{tag:T.typeName,class:"tok-typeName"},{tag:T.namespace,class:"tok-namespace"},{tag:T.className,class:"tok-className"},{tag:T.macroName,class:"tok-macroName"},{tag:T.propertyName,class:"tok-propertyName"},{tag:T.operator,class:"tok-operator"},{tag:T.comment,class:"tok-comment"},{tag:T.meta,class:"tok-meta"},{tag:T.invalid,class:"tok-invalid"},{tag:T.punctuation,class:"tok-punctuation"}])}}]);
(globalThis["webpackChunkfrontend"]=globalThis["webpackChunkfrontend"]||[]).push([[867],{69984:e=>{e.exports=function(e,n,t){const o=void 0!==e.__vccOpts?e.__vccOpts:e,a=o[n];if(void 0===a)o[n]=t;else for(const l in t)void 0===a[l]&&(a[l]=t[l])}},60854:(e,n,t)=>{"use strict";t.d(n,{Z:()=>c});t(72879);var o=t(59835),a=t(61957),l=t(63940),i=t(65987),r=t(68234),s=t(20431);const c=(0,i.L)({name:"QInnerLoading",props:{...r.S,...s.D,showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:n}){const t=(0,o.FN)(),i=(0,r.Z)(e,t.proxy.$q),{transitionProps:c,transitionStyle:u}=(0,s.Z)(e),d=(0,o.Fl)((()=>"q-inner-loading absolute-full column flex-center"+(!0===i.value?" q-inner-loading--dark":""))),f=(0,o.Fl)((()=>"q-inner-loading__label"+(void 0!==e.labelClass?` ${e.labelClass}`:"")));function g(){const n=[(0,o.h)(l.Z,{size:e.size,color:e.color})];return void 0!==e.label&&n.push((0,o.h)("div",{class:f.value,style:e.labelStyle},[e.label])),n}function v(){return!0===e.showing?(0,o.h)("div",{class:d.value,style:u.value},void 0!==n.default?n.default():g()):null}return()=>(0,o.h)(a.uT,c.value,v)}})},69885:(e,n,t)=>{"use strict";t.d(n,{Z:()=>r});var o=t(59835),a=t(65987),l=t(22026),i=t(95439);const r=(0,a.L)({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:n}){const{proxy:{$q:t}}=(0,o.FN)(),a=(0,o.f3)(i.YE,i.qO);if(a===i.qO)return console.error("QPage needs to be a deep child of QLayout"),i.qO;const r=(0,o.f3)(i.Mw,i.qO);if(r===i.qO)return console.error("QPage needs to be child of QPageContainer"),i.qO;const s=(0,o.Fl)((()=>{const n=(!0===a.header.space?a.header.size:0)+(!0===a.footer.space?a.footer.size:0);if("function"===typeof e.styleFn){const o=!0===a.isContainer.value?a.containerHeight.value:t.screen.height;return e.styleFn(n,o)}return{minHeight:!0===a.isContainer.value?a.containerHeight.value-n+"px":0===t.screen.height?0!==n?`calc(100vh - ${n}px)`:"100vh":t.screen.height-n+"px"}})),c=(0,o.Fl)((()=>"q-page"+(!0===e.padding?" q-layout-padding":"")));return()=>(0,o.h)("main",{class:c.value,style:s.value},(0,l.KR)(n.default))}})},19302:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var o=t(59835),a=t(95439);function l(){return(0,o.f3)(a.Ng)}},86867:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>C});var o=t(59835),a=t(60499),l=t(19302),i=t(34136),r=function(e,n,t,o){function a(e){return e instanceof t?e:new t((function(n){n(e)}))}return new(t||(t=Promise))((function(t,l){function i(e){try{s(o.next(e))}catch(n){l(n)}}function r(e){try{s(o["throw"](e))}catch(n){l(n)}}function s(e){e.done?t(e.value):a(e.value).then(i,r)}s((o=o.apply(e,n||[])).next())}))};const s=(0,o._)("div",{class:"text-h5"},"编辑配置文件",-1),c=(0,o.aZ)({__name:"AccountConfigEditorView",props:{uin:{}},setup(e){const n=(0,l.Z)(),t=e,c=(0,a.iH)(""),u=(0,a.iH)(""),d=(0,a.iH)(!0),f={automaticLayout:!0,readOnly:!1,selectOnLineNumbers:!0,roundedSelection:!1,cursorStyle:"line",cursorBlinking:"blink",fontSize:14,fontWeight:"normal",lineHeight:21,minimap:{enabled:!0},lineNumbers:"on",scrollBeyondLastLine:!1,theme:"vs-dark",language:"yaml",folding:!0,showFoldingControls:"mouseover",tabSize:2,insertSpaces:!0,detectIndentation:!0,autoClosingBrackets:"languageDefined",autoClosingQuotes:"languageDefined",autoSurround:"languageDefined",formatOnType:!0,formatOnPaste:!0};function g(){return r(this,void 0,void 0,(function*(){try{d.value=!0;const{data:e}=yield i.api.accountConfigReadApiUinConfigGet(t.uin);c.value=e.content,u.value=e.content}catch(e){c.value=void 0,u.value=void 0,n.notify({message:"配置文件加载失败",color:"negative"})}finally{d.value=!1}}))}function v(){return r(this,void 0,void 0,(function*(){if(u.value)try{d.value=!0;const{data:e}=yield i.api.accountConfigWriteApiUinConfigPatch(t.uin,{content:u.value});c.value=e.content,u.value=e.content,n.notify({message:"配置文件修改成功",color:"positive"})}catch(e){n.notify({message:"配置文件修改失败",color:"negative"})}finally{d.value=!1}}))}function p(){return r(this,void 0,void 0,(function*(){try{d.value=!0,yield i.api.accountConfigDeleteApiUinConfigDelete(t.uin),yield g(),n.notify({message:"配置文件删除成功",color:"positive"})}catch(e){n.notify({message:"配置文件删除失败",color:"negative"})}finally{d.value=!1}}))}return(0,o.bv)(g),(e,n)=>{const t=(0,o.up)("q-btn"),a=(0,o.up)("q-card-section"),l=(0,o.up)("q-separator"),i=(0,o.up)("q-card-actions"),r=(0,o.up)("vue-monaco"),c=(0,o.up)("q-inner-loading"),h=(0,o.up)("q-card"),m=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(m,{class:"row q-pa-md justify-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{class:"shadow col-12",style:{height:"calc(100vh - 5rem)"}},{default:(0,o.w5)((()=>[(0,o.Wm)(a,{class:"row justify-start items-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(t,{onClick:e.$router.back,flat:"",label:"返回",color:"grey",icon:"arrow_back"},null,8,["onClick"]),s])),_:1}),(0,o.Wm)(l),(0,o.Wm)(i,{class:"q-gutter-md q-mx-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(t,{flat:"",onClick:v,color:"primary",label:"提交修改",icon:"save"}),(0,o.Wm)(t,{flat:"",onClick:g,color:"secondary",label:"重新加载配置文件",icon:"refresh"}),(0,o.Wm)(t,{flat:"",onClick:p,color:"negative",label:"删除并重新生成配置文件",icon:"delete"})])),_:1}),(0,o.Wm)(a,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r,{modelValue:u.value,"onUpdate:modelValue":n[0]||(n[0]=e=>u.value=e),language:"yaml",theme:"vs-dark",options:f,style:{height:"70vh"}},null,8,["modelValue"]),(0,o.Wm)(c,{showing:d.value},null,8,["showing"])])),_:1})])),_:1})])),_:1})}}});var u=t(69885),d=t(44458),f=t(63190),g=t(68879),v=t(50926),p=t(11821),h=t(60854),m=t(69984),y=t.n(m);const b=c,C=b;y()(c,"components",{QPage:u.Z,QCard:d.Z,QCardSection:f.Z,QBtn:g.Z,QSeparator:v.Z,QCardActions:p.Z,QInnerLoading:h.Z})}}]);